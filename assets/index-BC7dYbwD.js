(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rf={exports:{}},ul={},sf={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function zT(){if(Ey)return Ye;Ey=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=E&&B[E]||B["@@iterator"],typeof B=="function"?B:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,$={};function O(B,Z,pe){this.props=B,this.context=Z,this.refs=$,this.updater=pe||P}O.prototype.isReactComponent={},O.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function K(){}K.prototype=O.prototype;function z(B,Z,pe){this.props=B,this.context=Z,this.refs=$,this.updater=pe||P}var G=z.prototype=new K;G.constructor=z,F(G,O.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,te=Object.prototype.hasOwnProperty,M={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function S(B,Z,pe){var Ve,$e={},Be=null,Ne=null;if(Z!=null)for(Ve in Z.ref!==void 0&&(Ne=Z.ref),Z.key!==void 0&&(Be=""+Z.key),Z)te.call(Z,Ve)&&!R.hasOwnProperty(Ve)&&($e[Ve]=Z[Ve]);var Ke=arguments.length-2;if(Ke===1)$e.children=pe;else if(1<Ke){for(var nt=Array(Ke),Ge=0;Ge<Ke;Ge++)nt[Ge]=arguments[Ge+2];$e.children=nt}if(B&&B.defaultProps)for(Ve in Ke=B.defaultProps,Ke)$e[Ve]===void 0&&($e[Ve]=Ke[Ve]);return{$$typeof:n,type:B,key:Be,ref:Ne,props:$e,_owner:M.current}}function C(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function b(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function D(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return Z[pe]})}var U=/\/+/g;function A(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):Z.toString(36)}function Re(B,Z,pe,Ve,$e){var Be=typeof B;(Be==="undefined"||Be==="boolean")&&(B=null);var Ne=!1;if(B===null)Ne=!0;else switch(Be){case"string":case"number":Ne=!0;break;case"object":switch(B.$$typeof){case n:case e:Ne=!0}}if(Ne)return Ne=B,$e=$e(Ne),B=Ve===""?"."+A(Ne,0):Ve,ne($e)?(pe="",B!=null&&(pe=B.replace(U,"$&/")+"/"),Re($e,Z,pe,"",function(Ge){return Ge})):$e!=null&&(b($e)&&($e=C($e,pe+(!$e.key||Ne&&Ne.key===$e.key?"":(""+$e.key).replace(U,"$&/")+"/")+B)),Z.push($e)),1;if(Ne=0,Ve=Ve===""?".":Ve+":",ne(B))for(var Ke=0;Ke<B.length;Ke++){Be=B[Ke];var nt=Ve+A(Be,Ke);Ne+=Re(Be,Z,pe,nt,$e)}else if(nt=T(B),typeof nt=="function")for(B=nt.call(B),Ke=0;!(Be=B.next()).done;)Be=Be.value,nt=Ve+A(Be,Ke++),Ne+=Re(Be,Z,pe,nt,$e);else if(Be==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ne}function me(B,Z,pe){if(B==null)return B;var Ve=[],$e=0;return Re(B,Ve,"","",function(Be){return Z.call(pe,Be,$e++)}),Ve}function ce(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var he={current:null},ee={transition:null},ge={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:ee,ReactCurrentOwner:M};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:me,forEach:function(B,Z,pe){me(B,function(){Z.apply(this,arguments)},pe)},count:function(B){var Z=0;return me(B,function(){Z++}),Z},toArray:function(B){return me(B,function(Z){return Z})||[]},only:function(B){if(!b(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ye.Component=O,Ye.Fragment=t,Ye.Profiler=o,Ye.PureComponent=z,Ye.StrictMode=i,Ye.Suspense=f,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ye.act=ue,Ye.cloneElement=function(B,Z,pe){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ve=F({},B.props),$e=B.key,Be=B.ref,Ne=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Be=Z.ref,Ne=M.current),Z.key!==void 0&&($e=""+Z.key),B.type&&B.type.defaultProps)var Ke=B.type.defaultProps;for(nt in Z)te.call(Z,nt)&&!R.hasOwnProperty(nt)&&(Ve[nt]=Z[nt]===void 0&&Ke!==void 0?Ke[nt]:Z[nt])}var nt=arguments.length-2;if(nt===1)Ve.children=pe;else if(1<nt){Ke=Array(nt);for(var Ge=0;Ge<nt;Ge++)Ke[Ge]=arguments[Ge+2];Ve.children=Ke}return{$$typeof:n,type:B.type,key:$e,ref:Be,props:Ve,_owner:Ne}},Ye.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ye.createElement=S,Ye.createFactory=function(B){var Z=S.bind(null,B);return Z.type=B,Z},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(B){return{$$typeof:d,render:B}},Ye.isValidElement=b,Ye.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:ce}},Ye.memo=function(B,Z){return{$$typeof:m,type:B,compare:Z===void 0?null:Z}},Ye.startTransition=function(B){var Z=ee.transition;ee.transition={};try{B()}finally{ee.transition=Z}},Ye.unstable_act=ue,Ye.useCallback=function(B,Z){return he.current.useCallback(B,Z)},Ye.useContext=function(B){return he.current.useContext(B)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(B){return he.current.useDeferredValue(B)},Ye.useEffect=function(B,Z){return he.current.useEffect(B,Z)},Ye.useId=function(){return he.current.useId()},Ye.useImperativeHandle=function(B,Z,pe){return he.current.useImperativeHandle(B,Z,pe)},Ye.useInsertionEffect=function(B,Z){return he.current.useInsertionEffect(B,Z)},Ye.useLayoutEffect=function(B,Z){return he.current.useLayoutEffect(B,Z)},Ye.useMemo=function(B,Z){return he.current.useMemo(B,Z)},Ye.useReducer=function(B,Z,pe){return he.current.useReducer(B,Z,pe)},Ye.useRef=function(B){return he.current.useRef(B)},Ye.useState=function(B){return he.current.useState(B)},Ye.useSyncExternalStore=function(B,Z,pe){return he.current.useSyncExternalStore(B,Z,pe)},Ye.useTransition=function(){return he.current.useTransition()},Ye.version="18.3.1",Ye}var Ty;function hp(){return Ty||(Ty=1,sf.exports=zT()),sf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function BT(){if(Iy)return ul;Iy=1;var n=hp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,E={},T=null,P=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(P=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:d,key:T,ref:P,props:E,_owner:o.current}}return ul.Fragment=t,ul.jsx=u,ul.jsxs=u,ul}var Sy;function $T(){return Sy||(Sy=1,rf.exports=BT()),rf.exports}var x=$T(),V=hp();const pt=jT(V);var gc={},of={exports:{}},Ln={},af={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function HT(){return Cy||(Cy=1,(function(n){function e(ee,ge){var ue=ee.length;ee.push(ge);e:for(;0<ue;){var B=ue-1>>>1,Z=ee[B];if(0<o(Z,ge))ee[B]=ge,ee[ue]=Z,ue=B;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ge=ee[0],ue=ee.pop();if(ue!==ge){ee[0]=ue;e:for(var B=0,Z=ee.length,pe=Z>>>1;B<pe;){var Ve=2*(B+1)-1,$e=ee[Ve],Be=Ve+1,Ne=ee[Be];if(0>o($e,ue))Be<Z&&0>o(Ne,$e)?(ee[B]=Ne,ee[Be]=ue,B=Be):(ee[B]=$e,ee[Ve]=ue,B=Ve);else if(Be<Z&&0>o(Ne,ue))ee[B]=Ne,ee[Be]=ue,B=Be;else break e}}return ge}function o(ee,ge){var ue=ee.sortIndex-ge.sortIndex;return ue!==0?ue:ee.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,E=null,T=3,P=!1,F=!1,$=!1,O=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ee){for(var ge=t(m);ge!==null;){if(ge.callback===null)i(m);else if(ge.startTime<=ee)i(m),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=t(m)}}function ne(ee){if($=!1,G(ee),!F)if(t(f)!==null)F=!0,ce(te);else{var ge=t(m);ge!==null&&he(ne,ge.startTime-ee)}}function te(ee,ge){F=!1,$&&($=!1,K(S),S=-1),P=!0;var ue=T;try{for(G(ge),E=t(f);E!==null&&(!(E.expirationTime>ge)||ee&&!D());){var B=E.callback;if(typeof B=="function"){E.callback=null,T=E.priorityLevel;var Z=B(E.expirationTime<=ge);ge=n.unstable_now(),typeof Z=="function"?E.callback=Z:E===t(f)&&i(f),G(ge)}else i(f);E=t(f)}if(E!==null)var pe=!0;else{var Ve=t(m);Ve!==null&&he(ne,Ve.startTime-ge),pe=!1}return pe}finally{E=null,T=ue,P=!1}}var M=!1,R=null,S=-1,C=5,b=-1;function D(){return!(n.unstable_now()-b<C)}function U(){if(R!==null){var ee=n.unstable_now();b=ee;var ge=!0;try{ge=R(!0,ee)}finally{ge?A():(M=!1,R=null)}}else M=!1}var A;if(typeof z=="function")A=function(){z(U)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,me=Re.port2;Re.port1.onmessage=U,A=function(){me.postMessage(null)}}else A=function(){O(U,0)};function ce(ee){R=ee,M||(M=!0,A())}function he(ee,ge){S=O(function(){ee(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){F||P||(F=!0,ce(te))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var ue=T;T=ge;try{return ee()}finally{T=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ge){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=T;T=ee;try{return ge()}finally{T=ue}},n.unstable_scheduleCallback=function(ee,ge,ue){var B=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?B+ue:B):ue=B,ee){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ue+Z,ee={id:v++,callback:ge,priorityLevel:ee,startTime:ue,expirationTime:Z,sortIndex:-1},ue>B?(ee.sortIndex=ue,e(m,ee),t(f)===null&&ee===t(m)&&($?(K(S),S=-1):$=!0,he(ne,ue-B))):(ee.sortIndex=Z,e(f,ee),F||P||(F=!0,ce(te))),ee},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(ee){var ge=T;return function(){var ue=T;T=ge;try{return ee.apply(this,arguments)}finally{T=ue}}}})(lf)),lf}var Ry;function WT(){return Ry||(Ry=1,af.exports=HT()),af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function qT(){if(Py)return Ln;Py=1;var n=hp(),e=WT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function T(r){return f.call(E,r)?!0:f.call(v,r)?!1:m.test(r)?E[r]=!0:(v[r]=!0,!1)}function P(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F(r,s,l,h){if(s===null||typeof s>"u"||P(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $(r,s,l,h,p,y,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=w}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){O[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];O[s]=new $(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){O[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){O[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){O[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){O[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){O[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){O[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){O[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(K,z);O[s]=new $(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(K,z);O[s]=new $(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(K,z);O[s]=new $(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){O[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),O.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){O[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,l,h){var p=O.hasOwnProperty(s)?O[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,l,p,h)&&(l=null),h||p===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),M=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var ue=Object.assign,B;function Z(r){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+r}var pe=!1;function Ve(r,s){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(X){var h=X}Reflect.construct(r,[],s)}else{try{s.call()}catch(X){h=X}r.call(s.prototype)}else{try{throw Error()}catch(X){h=X}r()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var p=X.stack.split(`
`),y=h.stack.split(`
`),w=p.length-1,k=y.length-1;1<=w&&0<=k&&p[w]!==y[k];)k--;for(;1<=w&&0<=k;w--,k--)if(p[w]!==y[k]){if(w!==1||k!==1)do if(w--,k--,0>k||p[w]!==y[k]){var L=`
`+p[w].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=w&&0<=k);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function $e(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=Ve(r.type,!1),r;case 11:return r=Ve(r.type.render,!1),r;case 1:return r=Ve(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case M:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Re:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case me:return s=r.displayName||null,s!==null?s:Be(r.type)||"Memo";case ce:s=r._payload,r=r._init;try{return Be(r(s))}catch{}}return null}function Ne(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function nt(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ge(r){var s=nt(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){h=""+w,y.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function on(r){r._valueTracker||(r._valueTracker=Ge(r))}function oi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=nt(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Nr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function yn(r,s){var l=s.checked;return ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Vi(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ke(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Fs(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function Fi(r,s){Fs(r,s);var l=Ke(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ui(r,s.type,l):s.hasOwnProperty("defaultValue")&&Ui(r,s.type,Ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ro(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ui(r,s,l){(s!=="number"||Nr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var pr=Array.isArray;function mr(r,s,l,h){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Ke(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Fn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Qn(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ke(l)}}function ai(r,s){var l=Ke(s.value),h=Ke(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function li(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function mt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?mt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Yn,ui=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Yn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Dr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var an={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Or=["Webkit","ms","Moz","O"];Object.keys(an).forEach(function(r){Or.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),an[s]=an[r]})});function ji(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||an.hasOwnProperty(r)&&an[r]?(""+s).trim():s+"px"}function zi(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=ji(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var Us=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(r,s){if(s){if(Us[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Lr(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mr=null;function Vr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $i=null,vn=null,Xn=null;function ci(r){if(r=Ga(r)){if(typeof $i!="function")throw Error(t(280));var s=r.stateNode;s&&(s=xu(s),$i(r.stateNode,r.type,s))}}function _n(r){vn?Xn?Xn.push(r):Xn=[r]:vn=r}function Fr(){if(vn){var r=vn,s=Xn;if(Xn=vn=null,ci(r),s)for(r=0;r<s.length;r++)ci(s[r])}}function hi(r,s){return r(s)}function js(){}var N=!1;function H(r,s,l){if(N)return r(s,l);N=!0;try{return hi(r,s,l)}finally{N=!1,(vn!==null||Xn!==null)&&(js(),Fr())}}function Q(r,s){var l=r.stateNode;if(l===null)return null;var h=xu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ae=!1;if(d)try{var de={};Object.defineProperty(de,"passive",{get:function(){ae=!0}}),window.addEventListener("test",de,de),window.removeEventListener("test",de,de)}catch{ae=!1}function Ie(r,s,l,h,p,y,w,k,L){var X=Array.prototype.slice.call(arguments,3);try{s.apply(l,X)}catch(se){this.onError(se)}}var Pe=!1,we=null,Ee=!1,be=null,De={onError:function(r){Pe=!0,we=r}};function Se(r,s,l,h,p,y,w,k,L){Pe=!1,we=null,Ie.apply(De,arguments)}function je(r,s,l,h,p,y,w,k,L){if(Se.apply(this,arguments),Pe){if(Pe){var X=we;Pe=!1,we=null}else throw Error(t(198));Ee||(Ee=!0,be=X)}}function Qe(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function _t(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function yt(r){if(Qe(r)!==r)throw Error(t(188))}function gt(r){var s=r.alternate;if(!s){if(s=Qe(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return yt(p),r;if(y===h)return yt(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var w=!1,k=p.child;k;){if(k===l){w=!0,l=p,h=y;break}if(k===h){w=!0,h=p,l=y;break}k=k.sibling}if(!w){for(k=y.child;k;){if(k===l){w=!0,l=y,h=p;break}if(k===h){w=!0,h=y,l=p;break}k=k.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ut(r){return r=gt(r),r!==null?Rn(r):null}function Rn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Rn(r);if(s!==null)return s;r=r.sibling}return null}var Jn=e.unstable_scheduleCallback,Pn=e.unstable_cancelCallback,wn=e.unstable_shouldYield,zs=e.unstable_requestPaint,at=e.unstable_now,Zn=e.unstable_getCurrentPriorityLevel,er=e.unstable_ImmediatePriority,Un=e.unstable_UserBlockingPriority,He=e.unstable_NormalPriority,xt=e.unstable_LowPriority,gr=e.unstable_IdlePriority,En=null,st=null;function di(r){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(En,r,void 0,(r.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:lu,Bs=Math.log,au=Math.LN2;function lu(r){return r>>>=0,r===0?32:31-(Bs(r)/au|0)|0}var Po=64,Ao=4194304;function Hi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function $s(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,w=l&268435455;if(w!==0){var k=w&~p;k!==0?h=Hi(k):(y&=w,y!==0&&(h=Hi(y)))}else w=l&~p,w!==0?h=Hi(w):y!==0&&(h=Hi(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Wt(s),p=1<<l,h|=r[l],s&=~p;return h}function Dh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var w=31-Wt(y),k=1<<w,L=p[w];L===-1?((k&l)===0||(k&h)!==0)&&(p[w]=Dh(k,s)):L<=s&&(r.expiredLanes|=k),y&=~k}}function jn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Hs(){var r=Po;return Po<<=1,(Po&4194240)===0&&(Po=64),r}function Wi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function qi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Wt(s),r[s]=l}function vt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Wt(l),y=1<<p;s[p]=0,h[p]=-1,r[p]=-1,l&=~y}}function Ki(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Wt(l),p=1<<h;p&s|r[h]&s&&(r[h]|=s),l&=~p}}var tt=0;function Gi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var uu,ko,cu,hu,du,Da=!1,Ur=[],Jt=null,yr=null,vr=null,Qi=new Map,tr=new Map,jr=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fu(r,s){switch(r){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Qi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(s.pointerId)}}function An(r,s,l,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ga(s),s!==null&&ko(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Lh(r,s,l,h,p){switch(s){case"focusin":return Jt=An(Jt,r,s,l,h,p),!0;case"dragenter":return yr=An(yr,r,s,l,h,p),!0;case"mouseover":return vr=An(vr,r,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return Qi.set(y,An(Qi.get(y)||null,r,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,tr.set(y,An(tr.get(y)||null,r,s,l,h,p)),!0}return!1}function pu(r){var s=Qs(r.target);if(s!==null){var l=Qe(s);if(l!==null){if(s=l.tag,s===13){if(s=_t(l),s!==null){r.blockedOn=s,du(r.priority,function(){cu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function pi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=xo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Mr=h,l.target.dispatchEvent(h),Mr=null}else return s=Ga(l),s!==null&&ko(s),r.blockedOn=l,!1;s.shift()}return!0}function Ws(r,s,l){pi(r)&&l.delete(s)}function mu(){Da=!1,Jt!==null&&pi(Jt)&&(Jt=null),yr!==null&&pi(yr)&&(yr=null),vr!==null&&pi(vr)&&(vr=null),Qi.forEach(Ws),tr.forEach(Ws)}function _r(r,s){r.blockedOn===s&&(r.blockedOn=null,Da||(Da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mu)))}function wr(r){function s(p){return _r(p,r)}if(0<Ur.length){_r(Ur[0],r);for(var l=1;l<Ur.length;l++){var h=Ur[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Jt!==null&&_r(Jt,r),yr!==null&&_r(yr,r),vr!==null&&_r(vr,r),Qi.forEach(s),tr.forEach(s),l=0;l<jr.length;l++)h=jr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<jr.length&&(l=jr[0],l.blockedOn===null);)pu(l),l.blockedOn===null&&jr.shift()}var mi=ne.ReactCurrentBatchConfig,Yi=!0;function St(r,s,l,h){var p=tt,y=mi.transition;mi.transition=null;try{tt=1,Oa(r,s,l,h)}finally{tt=p,mi.transition=y}}function Mh(r,s,l,h){var p=tt,y=mi.transition;mi.transition=null;try{tt=4,Oa(r,s,l,h)}finally{tt=p,mi.transition=y}}function Oa(r,s,l,h){if(Yi){var p=xo(r,s,l,h);if(p===null)Kh(r,s,h,qs,l),fu(r,h);else if(Lh(p,r,s,l,h))h.stopPropagation();else if(fu(r,h),s&4&&-1<Oh.indexOf(r)){for(;p!==null;){var y=Ga(p);if(y!==null&&uu(y),y=xo(r,s,l,h),y===null&&Kh(r,s,h,qs,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else Kh(r,s,h,null,l)}}var qs=null;function xo(r,s,l,h){if(qs=null,r=Vr(h),r=Qs(r),r!==null)if(s=Qe(r),s===null)r=null;else if(l=s.tag,l===13){if(r=_t(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return qs=r,null}function La(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zn()){case er:return 1;case Un:return 4;case He:case xt:return 16;case gr:return 536870912;default:return 16}default:return 16}}var zn=null,bo=null,kn=null;function Ma(){if(kn)return kn;var r,s=bo,l=s.length,h,p="value"in zn?zn.value:zn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var w=l-r;for(h=1;h<=w&&s[l-h]===p[y-h];h++);return kn=p.slice(r,1<h?1-h:void 0)}function No(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function zr(){return!0}function Va(){return!1}function Zt(r){function s(l,h,p,y,w){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zr:Va,this.isPropagationStopped=Va,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),s}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=Zt(Er),Br=ue({},Er,{view:0,detail:0}),Vh=Zt(Br),Oo,gi,Xi,Ks=ue({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xi&&(Xi&&r.type==="mousemove"?(Oo=r.screenX-Xi.screenX,gi=r.screenY-Xi.screenY):gi=Oo=0,Xi=r),Oo)},movementY:function(r){return"movementY"in r?r.movementY:gi}}),Lo=Zt(Ks),Fa=ue({},Ks,{dataTransfer:0}),gu=Zt(Fa),Mo=ue({},Br,{relatedTarget:0}),Vo=Zt(Mo),yu=ue({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=Zt(yu),vu=ue({},Er,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_u=Zt(vu),wu=ue({},Er,{data:0}),Ua=Zt(wu),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Eu[r])?!!s[r]:!1}function $r(){return Tu}var c=ue({},Br,{key:function(r){if(r.key){var s=Fo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=No(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Tn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(r){return r.type==="keypress"?No(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?No(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Zt(c),_=ue({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Zt(_),W=ue({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),J=Zt(W),ye=ue({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=Zt(ye),jt=ue({},Ks,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=Zt(jt),qt=[9,13,27,32],Lt=d&&"CompositionEvent"in window,nr=null;d&&"documentMode"in document&&(nr=document.documentMode);var Bn=d&&"TextEvent"in window&&!nr,Gs=d&&(!Lt||nr&&8<nr&&11>=nr),Uo=" ",mm=!1;function gm(r,s){switch(r){case"keyup":return qt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jo=!1;function VE(r,s){switch(r){case"compositionend":return ym(s);case"keypress":return s.which!==32?null:(mm=!0,Uo);case"textInput":return r=s.data,r===Uo&&mm?null:r;default:return null}}function FE(r,s){if(jo)return r==="compositionend"||!Lt&&gm(r,s)?(r=Ma(),kn=bo=zn=null,jo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gs&&s.locale!=="ko"?null:s.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!UE[r.type]:s==="textarea"}function _m(r,s,l,h){_n(h),s=Pu(s,"onChange"),0<s.length&&(l=new Do("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var ja=null,za=null;function jE(r){Vm(r,0)}function Iu(r){var s=Wo(r);if(oi(s))return r}function zE(r,s){if(r==="change")return s}var wm=!1;if(d){var Fh;if(d){var Uh="oninput"in document;if(!Uh){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),Uh=typeof Em.oninput=="function"}Fh=Uh}else Fh=!1;wm=Fh&&(!document.documentMode||9<document.documentMode)}function Tm(){ja&&(ja.detachEvent("onpropertychange",Im),za=ja=null)}function Im(r){if(r.propertyName==="value"&&Iu(za)){var s=[];_m(s,za,r,Vr(r)),H(jE,s)}}function BE(r,s,l){r==="focusin"?(Tm(),ja=s,za=l,ja.attachEvent("onpropertychange",Im)):r==="focusout"&&Tm()}function $E(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Iu(za)}function HE(r,s){if(r==="click")return Iu(s)}function WE(r,s){if(r==="input"||r==="change")return Iu(s)}function qE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Tr=typeof Object.is=="function"?Object.is:qE;function Ba(r,s){if(Tr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!Tr(r[p],s[p]))return!1}return!0}function Sm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cm(r,s){var l=Sm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sm(l)}}function Rm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Rm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Pm(){for(var r=window,s=Nr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Nr(r.document)}return s}function jh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function KE(r){var s=Pm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Rm(l.ownerDocument.documentElement,l)){if(h!==null&&jh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=Cm(l,y);var w=Cm(l,h);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var GE=d&&"documentMode"in document&&11>=document.documentMode,zo=null,zh=null,$a=null,Bh=!1;function Am(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bh||zo==null||zo!==Nr(h)||(h=zo,"selectionStart"in h&&jh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$a&&Ba($a,h)||($a=h,h=Pu(zh,"onSelect"),0<h.length&&(s=new Do("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=zo)))}function Su(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Bo={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},$h={},km={};d&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Cu(r){if($h[r])return $h[r];if(!Bo[r])return r;var s=Bo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in km)return $h[r]=s[l];return r}var xm=Cu("animationend"),bm=Cu("animationiteration"),Nm=Cu("animationstart"),Dm=Cu("transitionend"),Om=new Map,Lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(r,s){Om.set(r,s),a(s,[r])}for(var Hh=0;Hh<Lm.length;Hh++){var Wh=Lm[Hh],QE=Wh.toLowerCase(),YE=Wh[0].toUpperCase()+Wh.slice(1);Ji(QE,"on"+YE)}Ji(xm,"onAnimationEnd"),Ji(bm,"onAnimationIteration"),Ji(Nm,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(Dm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function Mm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,je(h,s,void 0,r),r.currentTarget=null}function Vm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var w=h.length-1;0<=w;w--){var k=h[w],L=k.instance,X=k.currentTarget;if(k=k.listener,L!==y&&p.isPropagationStopped())break e;Mm(p,k,X),y=L}else for(w=0;w<h.length;w++){if(k=h[w],L=k.instance,X=k.currentTarget,k=k.listener,L!==y&&p.isPropagationStopped())break e;Mm(p,k,X),y=L}}}if(Ee)throw r=be,Ee=!1,be=null,r}function Et(r,s){var l=s[Zh];l===void 0&&(l=s[Zh]=new Set);var h=r+"__bubble";l.has(h)||(Fm(s,r,2,!1),l.add(h))}function qh(r,s,l){var h=0;s&&(h|=4),Fm(l,r,h,s)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Wa(r){if(!r[Ru]){r[Ru]=!0,i.forEach(function(l){l!=="selectionchange"&&(XE.has(l)||qh(l,!1,r),qh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ru]||(s[Ru]=!0,qh("selectionchange",!1,s))}}function Fm(r,s,l,h){switch(La(s)){case 1:var p=St;break;case 4:p=Mh;break;default:p=Oa}l=p.bind(null,s,l,r),p=void 0,!ae||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Kh(r,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var k=h.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(w===4)for(w=h.return;w!==null;){var L=w.tag;if((L===3||L===4)&&(L=w.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;w=w.return}for(;k!==null;){if(w=Qs(k),w===null)return;if(L=w.tag,L===5||L===6){h=y=w;continue e}k=k.parentNode}}h=h.return}H(function(){var X=y,se=Vr(l),le=[];e:{var ie=Om.get(r);if(ie!==void 0){var ve=Do,Ce=r;switch(r){case"keypress":if(No(l)===0)break e;case"keydown":case"keyup":ve=g;break;case"focusin":Ce="focus",ve=Vo;break;case"focusout":Ce="blur",ve=Vo;break;case"beforeblur":case"afterblur":ve=Vo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=J;break;case xm:case bm:case Nm:ve=yi;break;case Dm:ve=dt;break;case"scroll":ve=Vh;break;case"wheel":ve=rt;break;case"copy":case"cut":case"paste":ve=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=I}var Ae=(s&4)!==0,Nt=!Ae&&r==="scroll",q=Ae?ie!==null?ie+"Capture":null:ie;Ae=[];for(var j=X,Y;j!==null;){Y=j;var fe=Y.stateNode;if(Y.tag===5&&fe!==null&&(Y=fe,q!==null&&(fe=Q(j,q),fe!=null&&Ae.push(qa(j,fe,Y)))),Nt)break;j=j.return}0<Ae.length&&(ie=new ve(ie,Ce,null,l,se),le.push({event:ie,listeners:Ae}))}}if((s&7)===0){e:{if(ie=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",ie&&l!==Mr&&(Ce=l.relatedTarget||l.fromElement)&&(Qs(Ce)||Ce[vi]))break e;if((ve||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,ve?(Ce=l.relatedTarget||l.toElement,ve=X,Ce=Ce?Qs(Ce):null,Ce!==null&&(Nt=Qe(Ce),Ce!==Nt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ve=null,Ce=X),ve!==Ce)){if(Ae=Lo,fe="onMouseLeave",q="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=I,fe="onPointerLeave",q="onPointerEnter",j="pointer"),Nt=ve==null?ie:Wo(ve),Y=Ce==null?ie:Wo(Ce),ie=new Ae(fe,j+"leave",ve,l,se),ie.target=Nt,ie.relatedTarget=Y,fe=null,Qs(se)===X&&(Ae=new Ae(q,j+"enter",Ce,l,se),Ae.target=Y,Ae.relatedTarget=Nt,fe=Ae),Nt=fe,ve&&Ce)t:{for(Ae=ve,q=Ce,j=0,Y=Ae;Y;Y=$o(Y))j++;for(Y=0,fe=q;fe;fe=$o(fe))Y++;for(;0<j-Y;)Ae=$o(Ae),j--;for(;0<Y-j;)q=$o(q),Y--;for(;j--;){if(Ae===q||q!==null&&Ae===q.alternate)break t;Ae=$o(Ae),q=$o(q)}Ae=null}else Ae=null;ve!==null&&Um(le,ie,ve,Ae,!1),Ce!==null&&Nt!==null&&Um(le,Nt,Ce,Ae,!0)}}e:{if(ie=X?Wo(X):window,ve=ie.nodeName&&ie.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ie.type==="file")var ke=zE;else if(vm(ie))if(wm)ke=WE;else{ke=$E;var Oe=BE}else(ve=ie.nodeName)&&ve.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ke=HE);if(ke&&(ke=ke(r,X))){_m(le,ke,l,se);break e}Oe&&Oe(r,ie,X),r==="focusout"&&(Oe=ie._wrapperState)&&Oe.controlled&&ie.type==="number"&&Ui(ie,"number",ie.value)}switch(Oe=X?Wo(X):window,r){case"focusin":(vm(Oe)||Oe.contentEditable==="true")&&(zo=Oe,zh=X,$a=null);break;case"focusout":$a=zh=zo=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Am(le,l,se);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":Am(le,l,se)}var Le;if(Lt)e:{switch(r){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else jo?gm(r,l)&&(ze="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Gs&&l.locale!=="ko"&&(jo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&jo&&(Le=Ma()):(zn=se,bo="value"in zn?zn.value:zn.textContent,jo=!0)),Oe=Pu(X,ze),0<Oe.length&&(ze=new Ua(ze,r,null,l,se),le.push({event:ze,listeners:Oe}),Le?ze.data=Le:(Le=ym(l),Le!==null&&(ze.data=Le)))),(Le=Bn?VE(r,l):FE(r,l))&&(X=Pu(X,"onBeforeInput"),0<X.length&&(se=new Ua("onBeforeInput","beforeinput",null,l,se),le.push({event:se,listeners:X}),se.data=Le))}Vm(le,s)})}function qa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Pu(r,s){for(var l=s+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Q(r,l),y!=null&&h.unshift(qa(r,y,p)),y=Q(r,s),y!=null&&h.push(qa(r,y,p))),r=r.return}return h}function $o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Um(r,s,l,h,p){for(var y=s._reactName,w=[];l!==null&&l!==h;){var k=l,L=k.alternate,X=k.stateNode;if(L!==null&&L===h)break;k.tag===5&&X!==null&&(k=X,p?(L=Q(l,y),L!=null&&w.unshift(qa(l,L,k))):p||(L=Q(l,y),L!=null&&w.push(qa(l,L,k)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var JE=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function jm(r){return(typeof r=="string"?r:""+r).replace(JE,`
`).replace(ZE,"")}function Au(r,s,l){if(s=jm(s),jm(r)!==s&&l)throw Error(t(425))}function ku(){}var Gh=null,Qh=null;function Yh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xh=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(r){return zm.resolve(null).then(r).catch(nT)}:Xh;function nT(r){setTimeout(function(){throw r})}function Jh(r,s){var l=s,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),wr(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);wr(s)}function Zi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Bm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Ho,Ka="__reactProps$"+Ho,vi="__reactContainer$"+Ho,Zh="__reactEvents$"+Ho,rT="__reactListeners$"+Ho,iT="__reactHandles$"+Ho;function Qs(r){var s=r[Hr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[vi]||l[Hr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Bm(r);r!==null;){if(l=r[Hr])return l;r=Bm(r)}return s}r=l,l=r.parentNode}return null}function Ga(r){return r=r[Hr]||r[vi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function xu(r){return r[Ka]||null}var ed=[],qo=-1;function es(r){return{current:r}}function Tt(r){0>qo||(r.current=ed[qo],ed[qo]=null,qo--)}function wt(r,s){qo++,ed[qo]=r.current,r.current=s}var ts={},ln=es(ts),xn=es(!1),Ys=ts;function Ko(r,s){var l=r.type.contextTypes;if(!l)return ts;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function bn(r){return r=r.childContextTypes,r!=null}function bu(){Tt(xn),Tt(ln)}function $m(r,s,l){if(ln.current!==ts)throw Error(t(168));wt(ln,s),wt(xn,l)}function Hm(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Ne(r)||"Unknown",p));return ue({},l,h)}function Nu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ts,Ys=ln.current,wt(ln,r),wt(xn,xn.current),!0}function Wm(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=Hm(r,s,Ys),h.__reactInternalMemoizedMergedChildContext=r,Tt(xn),Tt(ln),wt(ln,r)):Tt(xn),wt(xn,l)}var _i=null,Du=!1,td=!1;function qm(r){_i===null?_i=[r]:_i.push(r)}function sT(r){Du=!0,qm(r)}function ns(){if(!td&&_i!==null){td=!0;var r=0,s=tt;try{var l=_i;for(tt=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}_i=null,Du=!1}catch(p){throw _i!==null&&(_i=_i.slice(r+1)),Jn(er,ns),p}finally{tt=s,td=!1}}return null}var Go=[],Qo=0,Ou=null,Lu=0,rr=[],ir=0,Xs=null,wi=1,Ei="";function Js(r,s){Go[Qo++]=Lu,Go[Qo++]=Ou,Ou=r,Lu=s}function Km(r,s,l){rr[ir++]=wi,rr[ir++]=Ei,rr[ir++]=Xs,Xs=r;var h=wi;r=Ei;var p=32-Wt(h)-1;h&=~(1<<p),l+=1;var y=32-Wt(s)+p;if(30<y){var w=p-p%5;y=(h&(1<<w)-1).toString(32),h>>=w,p-=w,wi=1<<32-Wt(s)+p|l<<p|h,Ei=y+r}else wi=1<<y|l<<p|h,Ei=r}function nd(r){r.return!==null&&(Js(r,1),Km(r,1,0))}function rd(r){for(;r===Ou;)Ou=Go[--Qo],Go[Qo]=null,Lu=Go[--Qo],Go[Qo]=null;for(;r===Xs;)Xs=rr[--ir],rr[ir]=null,Ei=rr[--ir],rr[ir]=null,wi=rr[--ir],rr[ir]=null}var $n=null,Hn=null,Ct=!1,Ir=null;function Gm(r,s){var l=lr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Qm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,$n=r,Hn=Zi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,$n=r,Hn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Xs!==null?{id:wi,overflow:Ei}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=lr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,$n=r,Hn=null,!0):!1;default:return!1}}function id(r){return(r.mode&1)!==0&&(r.flags&128)===0}function sd(r){if(Ct){var s=Hn;if(s){var l=s;if(!Qm(r,s)){if(id(r))throw Error(t(418));s=Zi(l.nextSibling);var h=$n;s&&Qm(r,s)?Gm(h,l):(r.flags=r.flags&-4097|2,Ct=!1,$n=r)}}else{if(id(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ct=!1,$n=r}}}function Ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;$n=r}function Mu(r){if(r!==$n)return!1;if(!Ct)return Ym(r),Ct=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Yh(r.type,r.memoizedProps)),s&&(s=Hn)){if(id(r))throw Xm(),Error(t(418));for(;s;)Gm(r,s),s=Zi(s.nextSibling)}if(Ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Hn=Zi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Hn=null}}else Hn=$n?Zi(r.stateNode.nextSibling):null;return!0}function Xm(){for(var r=Hn;r;)r=Zi(r.nextSibling)}function Yo(){Hn=$n=null,Ct=!1}function od(r){Ir===null?Ir=[r]:Ir.push(r)}var oT=ne.ReactCurrentBatchConfig;function Qa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var p=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(w){var k=p.refs;w===null?delete k[y]:k[y]=w},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Jm(r){var s=r._init;return s(r._payload)}function Zm(r){function s(q,j){if(r){var Y=q.deletions;Y===null?(q.deletions=[j],q.flags|=16):Y.push(j)}}function l(q,j){if(!r)return null;for(;j!==null;)s(q,j),j=j.sibling;return null}function h(q,j){for(q=new Map;j!==null;)j.key!==null?q.set(j.key,j):q.set(j.index,j),j=j.sibling;return q}function p(q,j){return q=cs(q,j),q.index=0,q.sibling=null,q}function y(q,j,Y){return q.index=Y,r?(Y=q.alternate,Y!==null?(Y=Y.index,Y<j?(q.flags|=2,j):Y):(q.flags|=2,j)):(q.flags|=1048576,j)}function w(q){return r&&q.alternate===null&&(q.flags|=2),q}function k(q,j,Y,fe){return j===null||j.tag!==6?(j=Xd(Y,q.mode,fe),j.return=q,j):(j=p(j,Y),j.return=q,j)}function L(q,j,Y,fe){var ke=Y.type;return ke===R?se(q,j,Y.props.children,fe,Y.key):j!==null&&(j.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ce&&Jm(ke)===j.type)?(fe=p(j,Y.props),fe.ref=Qa(q,j,Y),fe.return=q,fe):(fe=ac(Y.type,Y.key,Y.props,null,q.mode,fe),fe.ref=Qa(q,j,Y),fe.return=q,fe)}function X(q,j,Y,fe){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=Jd(Y,q.mode,fe),j.return=q,j):(j=p(j,Y.children||[]),j.return=q,j)}function se(q,j,Y,fe,ke){return j===null||j.tag!==7?(j=oo(Y,q.mode,fe,ke),j.return=q,j):(j=p(j,Y),j.return=q,j)}function le(q,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Xd(""+j,q.mode,Y),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case te:return Y=ac(j.type,j.key,j.props,null,q.mode,Y),Y.ref=Qa(q,null,j),Y.return=q,Y;case M:return j=Jd(j,q.mode,Y),j.return=q,j;case ce:var fe=j._init;return le(q,fe(j._payload),Y)}if(pr(j)||ge(j))return j=oo(j,q.mode,Y,null),j.return=q,j;Vu(q,j)}return null}function ie(q,j,Y,fe){var ke=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return ke!==null?null:k(q,j,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case te:return Y.key===ke?L(q,j,Y,fe):null;case M:return Y.key===ke?X(q,j,Y,fe):null;case ce:return ke=Y._init,ie(q,j,ke(Y._payload),fe)}if(pr(Y)||ge(Y))return ke!==null?null:se(q,j,Y,fe,null);Vu(q,Y)}return null}function ve(q,j,Y,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return q=q.get(Y)||null,k(j,q,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case te:return q=q.get(fe.key===null?Y:fe.key)||null,L(j,q,fe,ke);case M:return q=q.get(fe.key===null?Y:fe.key)||null,X(j,q,fe,ke);case ce:var Oe=fe._init;return ve(q,j,Y,Oe(fe._payload),ke)}if(pr(fe)||ge(fe))return q=q.get(Y)||null,se(j,q,fe,ke,null);Vu(j,fe)}return null}function Ce(q,j,Y,fe){for(var ke=null,Oe=null,Le=j,ze=j=0,Qt=null;Le!==null&&ze<Y.length;ze++){Le.index>ze?(Qt=Le,Le=null):Qt=Le.sibling;var lt=ie(q,Le,Y[ze],fe);if(lt===null){Le===null&&(Le=Qt);break}r&&Le&&lt.alternate===null&&s(q,Le),j=y(lt,j,ze),Oe===null?ke=lt:Oe.sibling=lt,Oe=lt,Le=Qt}if(ze===Y.length)return l(q,Le),Ct&&Js(q,ze),ke;if(Le===null){for(;ze<Y.length;ze++)Le=le(q,Y[ze],fe),Le!==null&&(j=y(Le,j,ze),Oe===null?ke=Le:Oe.sibling=Le,Oe=Le);return Ct&&Js(q,ze),ke}for(Le=h(q,Le);ze<Y.length;ze++)Qt=ve(Le,q,ze,Y[ze],fe),Qt!==null&&(r&&Qt.alternate!==null&&Le.delete(Qt.key===null?ze:Qt.key),j=y(Qt,j,ze),Oe===null?ke=Qt:Oe.sibling=Qt,Oe=Qt);return r&&Le.forEach(function(hs){return s(q,hs)}),Ct&&Js(q,ze),ke}function Ae(q,j,Y,fe){var ke=ge(Y);if(typeof ke!="function")throw Error(t(150));if(Y=ke.call(Y),Y==null)throw Error(t(151));for(var Oe=ke=null,Le=j,ze=j=0,Qt=null,lt=Y.next();Le!==null&&!lt.done;ze++,lt=Y.next()){Le.index>ze?(Qt=Le,Le=null):Qt=Le.sibling;var hs=ie(q,Le,lt.value,fe);if(hs===null){Le===null&&(Le=Qt);break}r&&Le&&hs.alternate===null&&s(q,Le),j=y(hs,j,ze),Oe===null?ke=hs:Oe.sibling=hs,Oe=hs,Le=Qt}if(lt.done)return l(q,Le),Ct&&Js(q,ze),ke;if(Le===null){for(;!lt.done;ze++,lt=Y.next())lt=le(q,lt.value,fe),lt!==null&&(j=y(lt,j,ze),Oe===null?ke=lt:Oe.sibling=lt,Oe=lt);return Ct&&Js(q,ze),ke}for(Le=h(q,Le);!lt.done;ze++,lt=Y.next())lt=ve(Le,q,ze,lt.value,fe),lt!==null&&(r&&lt.alternate!==null&&Le.delete(lt.key===null?ze:lt.key),j=y(lt,j,ze),Oe===null?ke=lt:Oe.sibling=lt,Oe=lt);return r&&Le.forEach(function(UT){return s(q,UT)}),Ct&&Js(q,ze),ke}function Nt(q,j,Y,fe){if(typeof Y=="object"&&Y!==null&&Y.type===R&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case te:e:{for(var ke=Y.key,Oe=j;Oe!==null;){if(Oe.key===ke){if(ke=Y.type,ke===R){if(Oe.tag===7){l(q,Oe.sibling),j=p(Oe,Y.props.children),j.return=q,q=j;break e}}else if(Oe.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ce&&Jm(ke)===Oe.type){l(q,Oe.sibling),j=p(Oe,Y.props),j.ref=Qa(q,Oe,Y),j.return=q,q=j;break e}l(q,Oe);break}else s(q,Oe);Oe=Oe.sibling}Y.type===R?(j=oo(Y.props.children,q.mode,fe,Y.key),j.return=q,q=j):(fe=ac(Y.type,Y.key,Y.props,null,q.mode,fe),fe.ref=Qa(q,j,Y),fe.return=q,q=fe)}return w(q);case M:e:{for(Oe=Y.key;j!==null;){if(j.key===Oe)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){l(q,j.sibling),j=p(j,Y.children||[]),j.return=q,q=j;break e}else{l(q,j);break}else s(q,j);j=j.sibling}j=Jd(Y,q.mode,fe),j.return=q,q=j}return w(q);case ce:return Oe=Y._init,Nt(q,j,Oe(Y._payload),fe)}if(pr(Y))return Ce(q,j,Y,fe);if(ge(Y))return Ae(q,j,Y,fe);Vu(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,j!==null&&j.tag===6?(l(q,j.sibling),j=p(j,Y),j.return=q,q=j):(l(q,j),j=Xd(Y,q.mode,fe),j.return=q,q=j),w(q)):l(q,j)}return Nt}var Xo=Zm(!0),eg=Zm(!1),Fu=es(null),Uu=null,Jo=null,ad=null;function ld(){ad=Jo=Uu=null}function ud(r){var s=Fu.current;Tt(Fu),r._currentValue=s}function cd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Zo(r,s){Uu=r,ad=Jo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Nn=!0),r.firstContext=null)}function sr(r){var s=r._currentValue;if(ad!==r)if(r={context:r,memoizedValue:s,next:null},Jo===null){if(Uu===null)throw Error(t(308));Jo=r,Uu.dependencies={lanes:0,firstContext:r}}else Jo=Jo.next=r;return s}var Zs=null;function hd(r){Zs===null?Zs=[r]:Zs.push(r)}function tg(r,s,l,h){var p=s.interleaved;return p===null?(l.next=l,hd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Ti(r,h)}function Ti(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var rs=!1;function dd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ng(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ii(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function is(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(ot&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Ti(r,l)}return p=h.interleaved,p===null?(s.next=s,hd(h)):(s.next=p.next,p.next=s),h.interleaved=s,Ti(r,l)}function ju(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ki(r,l)}}function rg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function zu(r,s,l,h){var p=r.updateQueue;rs=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var L=k,X=L.next;L.next=null,w===null?y=X:w.next=X,w=L;var se=r.alternate;se!==null&&(se=se.updateQueue,k=se.lastBaseUpdate,k!==w&&(k===null?se.firstBaseUpdate=X:k.next=X,se.lastBaseUpdate=L))}if(y!==null){var le=p.baseState;w=0,se=X=L=null,k=y;do{var ie=k.lane,ve=k.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:ve,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var Ce=r,Ae=k;switch(ie=s,ve=l,Ae.tag){case 1:if(Ce=Ae.payload,typeof Ce=="function"){le=Ce.call(ve,le,ie);break e}le=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ae.payload,ie=typeof Ce=="function"?Ce.call(ve,le,ie):Ce,ie==null)break e;le=ue({},le,ie);break e;case 2:rs=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,ie=p.effects,ie===null?p.effects=[k]:ie.push(k))}else ve={eventTime:ve,lane:ie,tag:k.tag,payload:k.payload,callback:k.callback,next:null},se===null?(X=se=ve,L=le):se=se.next=ve,w|=ie;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);if(se===null&&(L=le),p.baseState=L,p.firstBaseUpdate=X,p.lastBaseUpdate=se,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);no|=w,r.lanes=w,r.memoizedState=le}}function ig(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Ya={},Wr=es(Ya),Xa=es(Ya),Ja=es(Ya);function eo(r){if(r===Ya)throw Error(t(174));return r}function fd(r,s){switch(wt(Ja,s),wt(Xa,r),wt(Wr,Ya),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ht(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ht(s,r)}Tt(Wr),wt(Wr,s)}function ea(){Tt(Wr),Tt(Xa),Tt(Ja)}function sg(r){eo(Ja.current);var s=eo(Wr.current),l=ht(s,r.type);s!==l&&(wt(Xa,r),wt(Wr,l))}function pd(r){Xa.current===r&&(Tt(Wr),Tt(Xa))}var Rt=es(0);function Bu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var md=[];function gd(){for(var r=0;r<md.length;r++)md[r]._workInProgressVersionPrimary=null;md.length=0}var $u=ne.ReactCurrentDispatcher,yd=ne.ReactCurrentBatchConfig,to=0,Pt=null,zt=null,Kt=null,Hu=!1,Za=!1,el=0,aT=0;function un(){throw Error(t(321))}function vd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Tr(r[l],s[l]))return!1;return!0}function _d(r,s,l,h,p,y){if(to=y,Pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$u.current=r===null||r.memoizedState===null?hT:dT,r=l(h,p),Za){y=0;do{if(Za=!1,el=0,25<=y)throw Error(t(301));y+=1,Kt=zt=null,s.updateQueue=null,$u.current=fT,r=l(h,p)}while(Za)}if($u.current=Ku,s=zt!==null&&zt.next!==null,to=0,Kt=zt=Pt=null,Hu=!1,s)throw Error(t(300));return r}function wd(){var r=el!==0;return el=0,r}function qr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function or(){if(zt===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=zt.next;var s=Kt===null?Pt.memoizedState:Kt.next;if(s!==null)Kt=s,zt=r;else{if(r===null)throw Error(t(310));zt=r,r={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function tl(r,s){return typeof s=="function"?s(r):s}function Ed(r){var s=or(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=zt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var k=w=null,L=null,X=y;do{var se=X.lane;if((to&se)===se)L!==null&&(L=L.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:r(h,X.action);else{var le={lane:se,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};L===null?(k=L=le,w=h):L=L.next=le,Pt.lanes|=se,no|=se}X=X.next}while(X!==null&&X!==y);L===null?w=h:L.next=k,Tr(h,s.memoizedState)||(Nn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=L,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do y=p.lane,Pt.lanes|=y,no|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Td(r){var s=or(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=r(y,w.action),w=w.next;while(w!==p);Tr(y,s.memoizedState)||(Nn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function og(){}function ag(r,s){var l=Pt,h=or(),p=s(),y=!Tr(h.memoizedState,p);if(y&&(h.memoizedState=p,Nn=!0),h=h.queue,Id(cg.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,nl(9,ug.bind(null,l,h,p,s),void 0,null),Gt===null)throw Error(t(349));(to&30)!==0||lg(l,s,p)}return p}function lg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Pt.updateQueue,s===null?(s={lastEffect:null,stores:null},Pt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function ug(r,s,l,h){s.value=l,s.getSnapshot=h,hg(s)&&dg(r)}function cg(r,s,l){return l(function(){hg(s)&&dg(r)})}function hg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Tr(r,l)}catch{return!0}}function dg(r){var s=Ti(r,1);s!==null&&Pr(s,r,1,-1)}function fg(r){var s=qr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:r},s.queue=r,r=r.dispatch=cT.bind(null,Pt,r),[s.memoizedState,r]}function nl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=Pt.updateQueue,s===null?(s={lastEffect:null,stores:null},Pt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function pg(){return or().memoizedState}function Wu(r,s,l,h){var p=qr();Pt.flags|=r,p.memoizedState=nl(1|s,l,void 0,h===void 0?null:h)}function qu(r,s,l,h){var p=or();h=h===void 0?null:h;var y=void 0;if(zt!==null){var w=zt.memoizedState;if(y=w.destroy,h!==null&&vd(h,w.deps)){p.memoizedState=nl(s,l,y,h);return}}Pt.flags|=r,p.memoizedState=nl(1|s,l,y,h)}function mg(r,s){return Wu(8390656,8,r,s)}function Id(r,s){return qu(2048,8,r,s)}function gg(r,s){return qu(4,2,r,s)}function yg(r,s){return qu(4,4,r,s)}function vg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function _g(r,s,l){return l=l!=null?l.concat([r]):null,qu(4,4,vg.bind(null,s,r),l)}function Sd(){}function wg(r,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&vd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Eg(r,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&vd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Tg(r,s,l){return(to&21)===0?(r.baseState&&(r.baseState=!1,Nn=!0),r.memoizedState=l):(Tr(l,s)||(l=Hs(),Pt.lanes|=l,no|=l,r.baseState=!0),s)}function lT(r,s){var l=tt;tt=l!==0&&4>l?l:4,r(!0);var h=yd.transition;yd.transition={};try{r(!1),s()}finally{tt=l,yd.transition=h}}function Ig(){return or().memoizedState}function uT(r,s,l){var h=ls(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Sg(r))Cg(s,l);else if(l=tg(r,s,l,h),l!==null){var p=Sn();Pr(l,r,h,p),Rg(l,s,h)}}function cT(r,s,l){var h=ls(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sg(r))Cg(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,k=y(w,l);if(p.hasEagerState=!0,p.eagerState=k,Tr(k,w)){var L=s.interleaved;L===null?(p.next=p,hd(s)):(p.next=L.next,L.next=p),s.interleaved=p;return}}catch{}finally{}l=tg(r,s,p,h),l!==null&&(p=Sn(),Pr(l,r,h,p),Rg(l,s,h))}}function Sg(r){var s=r.alternate;return r===Pt||s!==null&&s===Pt}function Cg(r,s){Za=Hu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Rg(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ki(r,l)}}var Ku={readContext:sr,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},hT={readContext:sr,useCallback:function(r,s){return qr().memoizedState=[r,s===void 0?null:s],r},useContext:sr,useEffect:mg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Wu(4194308,4,vg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Wu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Wu(4,2,r,s)},useMemo:function(r,s){var l=qr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=qr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=uT.bind(null,Pt,r),[h.memoizedState,r]},useRef:function(r){var s=qr();return r={current:r},s.memoizedState=r},useState:fg,useDebugValue:Sd,useDeferredValue:function(r){return qr().memoizedState=r},useTransition:function(){var r=fg(!1),s=r[0];return r=lT.bind(null,r[1]),qr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=Pt,p=qr();if(Ct){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Gt===null)throw Error(t(349));(to&30)!==0||lg(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,mg(cg.bind(null,h,y,r),[r]),h.flags|=2048,nl(9,ug.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=qr(),s=Gt.identifierPrefix;if(Ct){var l=Ei,h=wi;l=(h&~(1<<32-Wt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=el++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=aT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},dT={readContext:sr,useCallback:wg,useContext:sr,useEffect:Id,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:Ed,useRef:pg,useState:function(){return Ed(tl)},useDebugValue:Sd,useDeferredValue:function(r){var s=or();return Tg(s,zt.memoizedState,r)},useTransition:function(){var r=Ed(tl)[0],s=or().memoizedState;return[r,s]},useMutableSource:og,useSyncExternalStore:ag,useId:Ig,unstable_isNewReconciler:!1},fT={readContext:sr,useCallback:wg,useContext:sr,useEffect:Id,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:Td,useRef:pg,useState:function(){return Td(tl)},useDebugValue:Sd,useDeferredValue:function(r){var s=or();return zt===null?s.memoizedState=r:Tg(s,zt.memoizedState,r)},useTransition:function(){var r=Td(tl)[0],s=or().memoizedState;return[r,s]},useMutableSource:og,useSyncExternalStore:ag,useId:Ig,unstable_isNewReconciler:!1};function Sr(r,s){if(r&&r.defaultProps){s=ue({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Cd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ue({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Gu={isMounted:function(r){return(r=r._reactInternals)?Qe(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Sn(),p=ls(r),y=Ii(h,p);y.payload=s,l!=null&&(y.callback=l),s=is(r,y,p),s!==null&&(Pr(s,r,p,h),ju(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Sn(),p=ls(r),y=Ii(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=is(r,y,p),s!==null&&(Pr(s,r,p,h),ju(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Sn(),h=ls(r),p=Ii(l,h);p.tag=2,s!=null&&(p.callback=s),s=is(r,p,h),s!==null&&(Pr(s,r,h,l),ju(s,r,h))}};function Pg(r,s,l,h,p,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,w):s.prototype&&s.prototype.isPureReactComponent?!Ba(l,h)||!Ba(p,y):!0}function Ag(r,s,l){var h=!1,p=ts,y=s.contextType;return typeof y=="object"&&y!==null?y=sr(y):(p=bn(s)?Ys:ln.current,h=s.contextTypes,y=(h=h!=null)?Ko(r,p):ts),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Gu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function kg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Gu.enqueueReplaceState(s,s.state,null)}function Rd(r,s,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},dd(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=sr(y):(y=bn(s)?Ys:ln.current,p.context=Ko(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Cd(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Gu.enqueueReplaceState(p,p.state,null),zu(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function ta(r,s){try{var l="",h=s;do l+=$e(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Pd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Ad(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var pT=typeof WeakMap=="function"?WeakMap:Map;function xg(r,s,l){l=Ii(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){tc||(tc=!0,$d=h),Ad(r,s)},l}function bg(r,s,l){l=Ii(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Ad(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ad(r,s),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function Ng(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new pT;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),r=AT.bind(null,r,s,l),s.then(r,r))}function Dg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Og(r,s,l,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ii(-1,1),s.tag=2,is(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var mT=ne.ReactCurrentOwner,Nn=!1;function In(r,s,l,h){s.child=r===null?eg(s,null,l,h):Xo(s,r.child,l,h)}function Lg(r,s,l,h,p){l=l.render;var y=s.ref;return Zo(s,p),h=_d(r,s,l,h,y,p),l=wd(),r!==null&&!Nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Si(r,s,p)):(Ct&&l&&nd(s),s.flags|=1,In(r,s,h,p),s.child)}function Mg(r,s,l,h,p){if(r===null){var y=l.type;return typeof y=="function"&&!Yd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Vg(r,s,y,h,p)):(r=ac(l.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ba,l(w,h)&&r.ref===s.ref)return Si(r,s,p)}return s.flags|=1,r=cs(y,h),r.ref=s.ref,r.return=s,s.child=r}function Vg(r,s,l,h,p){if(r!==null){var y=r.memoizedProps;if(Ba(y,h)&&r.ref===s.ref)if(Nn=!1,s.pendingProps=h=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Nn=!0);else return s.lanes=r.lanes,Si(r,s,p)}return kd(r,s,l,h,p)}function Fg(r,s,l){var h=s.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(ra,Wn),Wn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,wt(ra,Wn),Wn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,wt(ra,Wn),Wn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,wt(ra,Wn),Wn|=h;return In(r,s,p,l),s.child}function Ug(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function kd(r,s,l,h,p){var y=bn(l)?Ys:ln.current;return y=Ko(s,y),Zo(s,p),l=_d(r,s,l,h,y,p),h=wd(),r!==null&&!Nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Si(r,s,p)):(Ct&&h&&nd(s),s.flags|=1,In(r,s,l,p),s.child)}function jg(r,s,l,h,p){if(bn(l)){var y=!0;Nu(s)}else y=!1;if(Zo(s,p),s.stateNode===null)Yu(r,s),Ag(s,l,h),Rd(s,l,h,p),h=!0;else if(r===null){var w=s.stateNode,k=s.memoizedProps;w.props=k;var L=w.context,X=l.contextType;typeof X=="object"&&X!==null?X=sr(X):(X=bn(l)?Ys:ln.current,X=Ko(s,X));var se=l.getDerivedStateFromProps,le=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function";le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==h||L!==X)&&kg(s,w,h,X),rs=!1;var ie=s.memoizedState;w.state=ie,zu(s,h,w,p),L=s.memoizedState,k!==h||ie!==L||xn.current||rs?(typeof se=="function"&&(Cd(s,l,se,h),L=s.memoizedState),(k=rs||Pg(s,l,k,h,ie,L,X))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),w.props=h,w.state=L,w.context=X,h=k):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,ng(r,s),k=s.memoizedProps,X=s.type===s.elementType?k:Sr(s.type,k),w.props=X,le=s.pendingProps,ie=w.context,L=l.contextType,typeof L=="object"&&L!==null?L=sr(L):(L=bn(l)?Ys:ln.current,L=Ko(s,L));var ve=l.getDerivedStateFromProps;(se=typeof ve=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==le||ie!==L)&&kg(s,w,h,L),rs=!1,ie=s.memoizedState,w.state=ie,zu(s,h,w,p);var Ce=s.memoizedState;k!==le||ie!==Ce||xn.current||rs?(typeof ve=="function"&&(Cd(s,l,ve,h),Ce=s.memoizedState),(X=rs||Pg(s,l,X,h,ie,Ce,L)||!1)?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Ce,L),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Ce,L)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===r.memoizedProps&&ie===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&ie===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Ce),w.props=h,w.state=Ce,w.context=L,h=X):(typeof w.componentDidUpdate!="function"||k===r.memoizedProps&&ie===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&ie===r.memoizedState||(s.flags|=1024),h=!1)}return xd(r,s,l,h,y,p)}function xd(r,s,l,h,p,y){Ug(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return p&&Wm(s,l,!1),Si(r,s,y);h=s.stateNode,mT.current=s;var k=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=Xo(s,r.child,null,y),s.child=Xo(s,null,k,y)):In(r,s,k,y),s.memoizedState=h.state,p&&Wm(s,l,!0),s.child}function zg(r){var s=r.stateNode;s.pendingContext?$m(r,s.pendingContext,s.pendingContext!==s.context):s.context&&$m(r,s.context,!1),fd(r,s.containerInfo)}function Bg(r,s,l,h,p){return Yo(),od(p),s.flags|=256,In(r,s,l,h),s.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function Nd(r){return{baseLanes:r,cachePool:null,transitions:null}}function $g(r,s,l){var h=s.pendingProps,p=Rt.current,y=!1,w=(s.flags&128)!==0,k;if((k=w)||(k=r!==null&&r.memoizedState===null?!1:(p&2)!==0),k?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),wt(Rt,p&1),r===null)return sd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=h.children,r=h.fallback,y?(h=s.mode,y=s.child,w={mode:"hidden",children:w},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=lc(w,h,0,null),r=oo(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Nd(l),s.memoizedState=bd,r):Dd(s,w));if(p=r.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return gT(r,s,w,h,k,p,l);if(y){y=h.fallback,w=s.mode,p=r.child,k=p.sibling;var L={mode:"hidden",children:h.children};return(w&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=cs(p,L),h.subtreeFlags=p.subtreeFlags&14680064),k!==null?y=cs(k,y):(y=oo(y,w,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,w=r.child.memoizedState,w=w===null?Nd(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=r.childLanes&~l,s.memoizedState=bd,h}return y=r.child,r=y.sibling,h=cs(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Dd(r,s){return s=lc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Qu(r,s,l,h){return h!==null&&od(h),Xo(s,r.child,null,l),r=Dd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function gT(r,s,l,h,p,y,w){if(l)return s.flags&256?(s.flags&=-257,h=Pd(Error(t(422))),Qu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=lc({mode:"visible",children:h.children},p,0,null),y=oo(y,p,w,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Xo(s,r.child,null,w),s.child.memoizedState=Nd(w),s.memoizedState=bd,y);if((s.mode&1)===0)return Qu(r,s,w,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var k=h.dgst;return h=k,y=Error(t(419)),h=Pd(y,h,void 0),Qu(r,s,w,h)}if(k=(w&r.childLanes)!==0,Nn||k){if(h=Gt,h!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|w))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Ti(r,p),Pr(h,r,p,-1))}return Qd(),h=Pd(Error(t(421))),Qu(r,s,w,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=kT.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Hn=Zi(p.nextSibling),$n=s,Ct=!0,Ir=null,r!==null&&(rr[ir++]=wi,rr[ir++]=Ei,rr[ir++]=Xs,wi=r.id,Ei=r.overflow,Xs=s),s=Dd(s,h.children),s.flags|=4096,s)}function Hg(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),cd(r.return,s,l)}function Od(r,s,l,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Wg(r,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(In(r,s,h.children,l),h=Rt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Hg(r,l,s);else if(r.tag===19)Hg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(wt(Rt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Bu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Od(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Bu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Od(s,!0,l,null,y);break;case"together":Od(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Si(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),no|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=cs(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=cs(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function yT(r,s,l){switch(s.tag){case 3:zg(s),Yo();break;case 5:sg(s);break;case 1:bn(s.type)&&Nu(s);break;case 4:fd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;wt(Fu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(wt(Rt,Rt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?$g(r,s,l):(wt(Rt,Rt.current&1),r=Si(r,s,l),r!==null?r.sibling:null);wt(Rt,Rt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Wg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),wt(Rt,Rt.current),h)break;return null;case 22:case 23:return s.lanes=0,Fg(r,s,l)}return Si(r,s,l)}var qg,Ld,Kg,Gg;qg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ld=function(){},Kg=function(r,s,l,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,eo(Wr.current);var y=null;switch(l){case"input":p=yn(r,p),h=yn(r,h),y=[];break;case"select":p=ue({},p,{value:void 0}),h=ue({},h,{value:void 0}),y=[];break;case"textarea":p=Fn(r,p),h=Fn(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ku)}Bi(l,h);var w;l=null;for(X in p)if(!h.hasOwnProperty(X)&&p.hasOwnProperty(X)&&p[X]!=null)if(X==="style"){var k=p[X];for(w in k)k.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?y||(y=[]):(y=y||[]).push(X,null));for(X in h){var L=h[X];if(k=p!=null?p[X]:void 0,h.hasOwnProperty(X)&&L!==k&&(L!=null||k!=null))if(X==="style")if(k){for(w in k)!k.hasOwnProperty(w)||L&&L.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in L)L.hasOwnProperty(w)&&k[w]!==L[w]&&(l||(l={}),l[w]=L[w])}else l||(y||(y=[]),y.push(X,l)),l=L;else X==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,k=k?k.__html:void 0,L!=null&&k!==L&&(y=y||[]).push(X,L)):X==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(X,""+L):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(L!=null&&X==="onScroll"&&Et("scroll",r),y||k===L||(y=[])):(y=y||[]).push(X,L))}l&&(y=y||[]).push("style",l);var X=y;(s.updateQueue=X)&&(s.flags|=4)}},Gg=function(r,s,l,h){l!==h&&(s.flags|=4)};function rl(r,s){if(!Ct)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function cn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function vT(r,s,l){var h=s.pendingProps;switch(rd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(s),null;case 1:return bn(s.type)&&bu(),cn(s),null;case 3:return h=s.stateNode,ea(),Tt(xn),Tt(ln),gd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Mu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ir!==null&&(qd(Ir),Ir=null))),Ld(r,s),cn(s),null;case 5:pd(s);var p=eo(Ja.current);if(l=s.type,r!==null&&s.stateNode!=null)Kg(r,s,l,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return cn(s),null}if(r=eo(Wr.current),Mu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[Hr]=s,h[Ka]=y,r=(s.mode&1)!==0,l){case"dialog":Et("cancel",h),Et("close",h);break;case"iframe":case"object":case"embed":Et("load",h);break;case"video":case"audio":for(p=0;p<Ha.length;p++)Et(Ha[p],h);break;case"source":Et("error",h);break;case"img":case"image":case"link":Et("error",h),Et("load",h);break;case"details":Et("toggle",h);break;case"input":Vi(h,y),Et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Et("invalid",h);break;case"textarea":Qn(h,y),Et("invalid",h)}Bi(l,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var k=y[w];w==="children"?typeof k=="string"?h.textContent!==k&&(y.suppressHydrationWarning!==!0&&Au(h.textContent,k,r),p=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&Au(h.textContent,k,r),p=["children",""+k]):o.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Et("scroll",h)}switch(l){case"input":on(h),Ro(h,y,!0);break;case"textarea":on(h),li(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ku)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[Hr]=s,r[Ka]=h,qg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Lr(l,h),l){case"dialog":Et("cancel",r),Et("close",r),p=h;break;case"iframe":case"object":case"embed":Et("load",r),p=h;break;case"video":case"audio":for(p=0;p<Ha.length;p++)Et(Ha[p],r);p=h;break;case"source":Et("error",r),p=h;break;case"img":case"image":case"link":Et("error",r),Et("load",r),p=h;break;case"details":Et("toggle",r),p=h;break;case"input":Vi(r,h),p=yn(r,h),Et("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=ue({},h,{value:void 0}),Et("invalid",r);break;case"textarea":Qn(r,h),p=Fn(r,h),Et("invalid",r);break;default:p=h}Bi(l,p),k=p;for(y in k)if(k.hasOwnProperty(y)){var L=k[y];y==="style"?zi(r,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&ui(r,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Dr(r,L):typeof L=="number"&&Dr(r,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Et("scroll",r):L!=null&&G(r,y,L,w))}switch(l){case"input":on(r),Ro(r,h,!1);break;case"textarea":on(r),li(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ke(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?mr(r,!!h.multiple,y,!1):h.defaultValue!=null&&mr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ku)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return cn(s),null;case 6:if(r&&s.stateNode!=null)Gg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=eo(Ja.current),eo(Wr.current),Mu(s)){if(h=s.stateNode,l=s.memoizedProps,h[Hr]=s,(y=h.nodeValue!==l)&&(r=$n,r!==null))switch(r.tag){case 3:Au(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Au(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Hr]=s,s.stateNode=h}return cn(s),null;case 13:if(Tt(Rt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ct&&Hn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Xm(),Yo(),s.flags|=98560,y=!1;else if(y=Mu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Hr]=s}else Yo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;cn(s),y=!1}else Ir!==null&&(qd(Ir),Ir=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Rt.current&1)!==0?Bt===0&&(Bt=3):Qd())),s.updateQueue!==null&&(s.flags|=4),cn(s),null);case 4:return ea(),Ld(r,s),r===null&&Wa(s.stateNode.containerInfo),cn(s),null;case 10:return ud(s.type._context),cn(s),null;case 17:return bn(s.type)&&bu(),cn(s),null;case 19:if(Tt(Rt),y=s.memoizedState,y===null)return cn(s),null;if(h=(s.flags&128)!==0,w=y.rendering,w===null)if(h)rl(y,!1);else{if(Bt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=Bu(r),w!==null){for(s.flags|=128,rl(y,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,r=w.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return wt(Rt,Rt.current&1|2),s.child}r=r.sibling}y.tail!==null&&at()>ia&&(s.flags|=128,h=!0,rl(y,!1),s.lanes=4194304)}else{if(!h)if(r=Bu(w),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),rl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Ct)return cn(s),null}else 2*at()-y.renderingStartTime>ia&&l!==1073741824&&(s.flags|=128,h=!0,rl(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(l=y.last,l!==null?l.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=at(),s.sibling=null,l=Rt.current,wt(Rt,h?l&1|2:l&1),s):(cn(s),null);case 22:case 23:return Gd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Wn&1073741824)!==0&&(cn(s),s.subtreeFlags&6&&(s.flags|=8192)):cn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function _T(r,s){switch(rd(s),s.tag){case 1:return bn(s.type)&&bu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ea(),Tt(xn),Tt(ln),gd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return pd(s),null;case 13:if(Tt(Rt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Yo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Tt(Rt),null;case 4:return ea(),null;case 10:return ud(s.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var Xu=!1,hn=!1,wT=typeof WeakSet=="function"?WeakSet:Set,Te=null;function na(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){bt(r,s,h)}else l.current=null}function Md(r,s,l){try{l()}catch(h){bt(r,s,h)}}var Qg=!1;function ET(r,s){if(Gh=Yi,r=Pm(),jh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,k=-1,L=-1,X=0,se=0,le=r,ie=null;t:for(;;){for(var ve;le!==l||p!==0&&le.nodeType!==3||(k=w+p),le!==y||h!==0&&le.nodeType!==3||(L=w+h),le.nodeType===3&&(w+=le.nodeValue.length),(ve=le.firstChild)!==null;)ie=le,le=ve;for(;;){if(le===r)break t;if(ie===l&&++X===p&&(k=w),ie===y&&++se===h&&(L=w),(ve=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=ve}l=k===-1||L===-1?null:{start:k,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qh={focusedElem:r,selectionRange:l},Yi=!1,Te=s;Te!==null;)if(s=Te,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Te=r;else for(;Te!==null;){s=Te;try{var Ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ae=Ce.memoizedProps,Nt=Ce.memoizedState,q=s.stateNode,j=q.getSnapshotBeforeUpdate(s.elementType===s.type?Ae:Sr(s.type,Ae),Nt);q.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var Y=s.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(fe){bt(s,s.return,fe)}if(r=s.sibling,r!==null){r.return=s.return,Te=r;break}Te=s.return}return Ce=Qg,Qg=!1,Ce}function il(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Md(s,l,y)}p=p.next}while(p!==h)}}function Ju(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Vd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Yg(r){var s=r.alternate;s!==null&&(r.alternate=null,Yg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Hr],delete s[Ka],delete s[Zh],delete s[rT],delete s[iT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Xg(r){return r.tag===5||r.tag===3||r.tag===4}function Jg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ku));else if(h!==4&&(r=r.child,r!==null))for(Fd(r,s,l),r=r.sibling;r!==null;)Fd(r,s,l),r=r.sibling}function Ud(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Ud(r,s,l),r=r.sibling;r!==null;)Ud(r,s,l),r=r.sibling}var en=null,Cr=!1;function ss(r,s,l){for(l=l.child;l!==null;)Zg(r,s,l),l=l.sibling}function Zg(r,s,l){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(En,l)}catch{}switch(l.tag){case 5:hn||na(l,s);case 6:var h=en,p=Cr;en=null,ss(r,s,l),en=h,Cr=p,en!==null&&(Cr?(r=en,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):en.removeChild(l.stateNode));break;case 18:en!==null&&(Cr?(r=en,l=l.stateNode,r.nodeType===8?Jh(r.parentNode,l):r.nodeType===1&&Jh(r,l),wr(r)):Jh(en,l.stateNode));break;case 4:h=en,p=Cr,en=l.stateNode.containerInfo,Cr=!0,ss(r,s,l),en=h,Cr=p;break;case 0:case 11:case 14:case 15:if(!hn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&Md(l,s,w),p=p.next}while(p!==h)}ss(r,s,l);break;case 1:if(!hn&&(na(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){bt(l,s,k)}ss(r,s,l);break;case 21:ss(r,s,l);break;case 22:l.mode&1?(hn=(h=hn)||l.memoizedState!==null,ss(r,s,l),hn=h):ss(r,s,l);break;default:ss(r,s,l)}}function ey(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new wT),s.forEach(function(h){var p=xT.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Rr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=r,w=s,k=w;e:for(;k!==null;){switch(k.tag){case 5:en=k.stateNode,Cr=!1;break e;case 3:en=k.stateNode.containerInfo,Cr=!0;break e;case 4:en=k.stateNode.containerInfo,Cr=!0;break e}k=k.return}if(en===null)throw Error(t(160));Zg(y,w,p),en=null,Cr=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(X){bt(p,s,X)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ty(s,r),s=s.sibling}function ty(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Rr(s,r),Kr(r),h&4){try{il(3,r,r.return),Ju(3,r)}catch(Ae){bt(r,r.return,Ae)}try{il(5,r,r.return)}catch(Ae){bt(r,r.return,Ae)}}break;case 1:Rr(s,r),Kr(r),h&512&&l!==null&&na(l,l.return);break;case 5:if(Rr(s,r),Kr(r),h&512&&l!==null&&na(l,l.return),r.flags&32){var p=r.stateNode;try{Dr(p,"")}catch(Ae){bt(r,r.return,Ae)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,w=l!==null?l.memoizedProps:y,k=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&Fs(p,y),Lr(k,w);var X=Lr(k,y);for(w=0;w<L.length;w+=2){var se=L[w],le=L[w+1];se==="style"?zi(p,le):se==="dangerouslySetInnerHTML"?ui(p,le):se==="children"?Dr(p,le):G(p,se,le,X)}switch(k){case"input":Fi(p,y);break;case"textarea":ai(p,y);break;case"select":var ie=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ve=y.value;ve!=null?mr(p,!!y.multiple,ve,!1):ie!==!!y.multiple&&(y.defaultValue!=null?mr(p,!!y.multiple,y.defaultValue,!0):mr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ka]=y}catch(Ae){bt(r,r.return,Ae)}}break;case 6:if(Rr(s,r),Kr(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(Ae){bt(r,r.return,Ae)}}break;case 3:if(Rr(s,r),Kr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{wr(s.containerInfo)}catch(Ae){bt(r,r.return,Ae)}break;case 4:Rr(s,r),Kr(r);break;case 13:Rr(s,r),Kr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Bd=at())),h&4&&ey(r);break;case 22:if(se=l!==null&&l.memoizedState!==null,r.mode&1?(hn=(X=hn)||se,Rr(s,r),hn=X):Rr(s,r),Kr(r),h&8192){if(X=r.memoizedState!==null,(r.stateNode.isHidden=X)&&!se&&(r.mode&1)!==0)for(Te=r,se=r.child;se!==null;){for(le=Te=se;Te!==null;){switch(ie=Te,ve=ie.child,ie.tag){case 0:case 11:case 14:case 15:il(4,ie,ie.return);break;case 1:na(ie,ie.return);var Ce=ie.stateNode;if(typeof Ce.componentWillUnmount=="function"){h=ie,l=ie.return;try{s=h,Ce.props=s.memoizedProps,Ce.state=s.memoizedState,Ce.componentWillUnmount()}catch(Ae){bt(h,l,Ae)}}break;case 5:na(ie,ie.return);break;case 22:if(ie.memoizedState!==null){iy(le);continue}}ve!==null?(ve.return=ie,Te=ve):iy(le)}se=se.sibling}e:for(se=null,le=r;;){if(le.tag===5){if(se===null){se=le;try{p=le.stateNode,X?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=le.stateNode,L=le.memoizedProps.style,w=L!=null&&L.hasOwnProperty("display")?L.display:null,k.style.display=ji("display",w))}catch(Ae){bt(r,r.return,Ae)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=X?"":le.memoizedProps}catch(Ae){bt(r,r.return,Ae)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Rr(s,r),Kr(r),h&4&&ey(r);break;case 21:break;default:Rr(s,r),Kr(r)}}function Kr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Xg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Dr(p,""),h.flags&=-33);var y=Jg(r);Ud(r,y,p);break;case 3:case 4:var w=h.stateNode.containerInfo,k=Jg(r);Fd(r,k,w);break;default:throw Error(t(161))}}catch(L){bt(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function TT(r,s,l){Te=r,ny(r)}function ny(r,s,l){for(var h=(r.mode&1)!==0;Te!==null;){var p=Te,y=p.child;if(p.tag===22&&h){var w=p.memoizedState!==null||Xu;if(!w){var k=p.alternate,L=k!==null&&k.memoizedState!==null||hn;k=Xu;var X=hn;if(Xu=w,(hn=L)&&!X)for(Te=p;Te!==null;)w=Te,L=w.child,w.tag===22&&w.memoizedState!==null?sy(p):L!==null?(L.return=w,Te=L):sy(p);for(;y!==null;)Te=y,ny(y),y=y.sibling;Te=p,Xu=k,hn=X}ry(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Te=y):ry(r)}}function ry(r){for(;Te!==null;){var s=Te;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:hn||Ju(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!hn)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Sr(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&ig(s,y,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}ig(s,w,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var X=s.alternate;if(X!==null){var se=X.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&wr(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}hn||s.flags&512&&Vd(s)}catch(ie){bt(s,s.return,ie)}}if(s===r){Te=null;break}if(l=s.sibling,l!==null){l.return=s.return,Te=l;break}Te=s.return}}function iy(r){for(;Te!==null;){var s=Te;if(s===r){Te=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Te=l;break}Te=s.return}}function sy(r){for(;Te!==null;){var s=Te;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ju(4,s)}catch(L){bt(s,l,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(L){bt(s,p,L)}}var y=s.return;try{Vd(s)}catch(L){bt(s,y,L)}break;case 5:var w=s.return;try{Vd(s)}catch(L){bt(s,w,L)}}}catch(L){bt(s,s.return,L)}if(s===r){Te=null;break}var k=s.sibling;if(k!==null){k.return=s.return,Te=k;break}Te=s.return}}var IT=Math.ceil,Zu=ne.ReactCurrentDispatcher,jd=ne.ReactCurrentOwner,ar=ne.ReactCurrentBatchConfig,ot=0,Gt=null,Mt=null,tn=0,Wn=0,ra=es(0),Bt=0,sl=null,no=0,ec=0,zd=0,ol=null,Dn=null,Bd=0,ia=1/0,Ci=null,tc=!1,$d=null,os=null,nc=!1,as=null,rc=0,al=0,Hd=null,ic=-1,sc=0;function Sn(){return(ot&6)!==0?at():ic!==-1?ic:ic=at()}function ls(r){return(r.mode&1)===0?1:(ot&2)!==0&&tn!==0?tn&-tn:oT.transition!==null?(sc===0&&(sc=Hs()),sc):(r=tt,r!==0||(r=window.event,r=r===void 0?16:La(r.type)),r)}function Pr(r,s,l,h){if(50<al)throw al=0,Hd=null,Error(t(185));qi(r,l,h),((ot&2)===0||r!==Gt)&&(r===Gt&&((ot&2)===0&&(ec|=l),Bt===4&&us(r,tn)),On(r,h),l===1&&ot===0&&(s.mode&1)===0&&(ia=at()+500,Du&&ns()))}function On(r,s){var l=r.callbackNode;fi(r,s);var h=$s(r,r===Gt?tn:0);if(h===0)l!==null&&Pn(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Pn(l),s===1)r.tag===0?sT(ay.bind(null,r)):qm(ay.bind(null,r)),tT(function(){(ot&6)===0&&ns()}),l=null;else{switch(Gi(h)){case 1:l=er;break;case 4:l=Un;break;case 16:l=He;break;case 536870912:l=gr;break;default:l=He}l=my(l,oy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function oy(r,s){if(ic=-1,sc=0,(ot&6)!==0)throw Error(t(327));var l=r.callbackNode;if(sa()&&r.callbackNode!==l)return null;var h=$s(r,r===Gt?tn:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=oc(r,h);else{s=h;var p=ot;ot|=2;var y=uy();(Gt!==r||tn!==s)&&(Ci=null,ia=at()+500,io(r,s));do try{RT();break}catch(k){ly(r,k)}while(!0);ld(),Zu.current=y,ot=p,Mt!==null?s=0:(Gt=null,tn=0,s=Bt)}if(s!==0){if(s===2&&(p=jn(r),p!==0&&(h=p,s=Wd(r,p))),s===1)throw l=sl,io(r,0),us(r,h),On(r,at()),l;if(s===6)us(r,h);else{if(p=r.current.alternate,(h&30)===0&&!ST(p)&&(s=oc(r,h),s===2&&(y=jn(r),y!==0&&(h=y,s=Wd(r,y))),s===1))throw l=sl,io(r,0),us(r,h),On(r,at()),l;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:so(r,Dn,Ci);break;case 3:if(us(r,h),(h&130023424)===h&&(s=Bd+500-at(),10<s)){if($s(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Sn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Xh(so.bind(null,r,Dn,Ci),s);break}so(r,Dn,Ci);break;case 4:if(us(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var w=31-Wt(h);y=1<<w,w=s[w],w>p&&(p=w),h&=~y}if(h=p,h=at()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*IT(h/1960))-h,10<h){r.timeoutHandle=Xh(so.bind(null,r,Dn,Ci),h);break}so(r,Dn,Ci);break;case 5:so(r,Dn,Ci);break;default:throw Error(t(329))}}}return On(r,at()),r.callbackNode===l?oy.bind(null,r):null}function Wd(r,s){var l=ol;return r.current.memoizedState.isDehydrated&&(io(r,s).flags|=256),r=oc(r,s),r!==2&&(s=Dn,Dn=l,s!==null&&qd(s)),r}function qd(r){Dn===null?Dn=r:Dn.push.apply(Dn,r)}function ST(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Tr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function us(r,s){for(s&=~zd,s&=~ec,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Wt(s),h=1<<l;r[l]=-1,s&=~h}}function ay(r){if((ot&6)!==0)throw Error(t(327));sa();var s=$s(r,0);if((s&1)===0)return On(r,at()),null;var l=oc(r,s);if(r.tag!==0&&l===2){var h=jn(r);h!==0&&(s=h,l=Wd(r,h))}if(l===1)throw l=sl,io(r,0),us(r,s),On(r,at()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,so(r,Dn,Ci),On(r,at()),null}function Kd(r,s){var l=ot;ot|=1;try{return r(s)}finally{ot=l,ot===0&&(ia=at()+500,Du&&ns())}}function ro(r){as!==null&&as.tag===0&&(ot&6)===0&&sa();var s=ot;ot|=1;var l=ar.transition,h=tt;try{if(ar.transition=null,tt=1,r)return r()}finally{tt=h,ar.transition=l,ot=s,(ot&6)===0&&ns()}}function Gd(){Wn=ra.current,Tt(ra)}function io(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,eT(l)),Mt!==null)for(l=Mt.return;l!==null;){var h=l;switch(rd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&bu();break;case 3:ea(),Tt(xn),Tt(ln),gd();break;case 5:pd(h);break;case 4:ea();break;case 13:Tt(Rt);break;case 19:Tt(Rt);break;case 10:ud(h.type._context);break;case 22:case 23:Gd()}l=l.return}if(Gt=r,Mt=r=cs(r.current,null),tn=Wn=s,Bt=0,sl=null,zd=ec=no=0,Dn=ol=null,Zs!==null){for(s=0;s<Zs.length;s++)if(l=Zs[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var w=y.next;y.next=p,h.next=w}l.pending=h}Zs=null}return r}function ly(r,s){do{var l=Mt;try{if(ld(),$u.current=Ku,Hu){for(var h=Pt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Hu=!1}if(to=0,Kt=zt=Pt=null,Za=!1,el=0,jd.current=null,l===null||l.return===null){Bt=1,sl=s,Mt=null;break}e:{var y=r,w=l.return,k=l,L=s;if(s=tn,k.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var X=L,se=k,le=se.tag;if((se.mode&1)===0&&(le===0||le===11||le===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var ve=Dg(w);if(ve!==null){ve.flags&=-257,Og(ve,w,k,y,s),ve.mode&1&&Ng(y,X,s),s=ve,L=X;var Ce=s.updateQueue;if(Ce===null){var Ae=new Set;Ae.add(L),s.updateQueue=Ae}else Ce.add(L);break e}else{if((s&1)===0){Ng(y,X,s),Qd();break e}L=Error(t(426))}}else if(Ct&&k.mode&1){var Nt=Dg(w);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),Og(Nt,w,k,y,s),od(ta(L,k));break e}}y=L=ta(L,k),Bt!==4&&(Bt=2),ol===null?ol=[y]:ol.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var q=xg(y,L,s);rg(y,q);break e;case 1:k=L;var j=y.type,Y=y.stateNode;if((y.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(os===null||!os.has(Y)))){y.flags|=65536,s&=-s,y.lanes|=s;var fe=bg(y,k,s);rg(y,fe);break e}}y=y.return}while(y!==null)}hy(l)}catch(ke){s=ke,Mt===l&&l!==null&&(Mt=l=l.return);continue}break}while(!0)}function uy(){var r=Zu.current;return Zu.current=Ku,r===null?Ku:r}function Qd(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Gt===null||(no&268435455)===0&&(ec&268435455)===0||us(Gt,tn)}function oc(r,s){var l=ot;ot|=2;var h=uy();(Gt!==r||tn!==s)&&(Ci=null,io(r,s));do try{CT();break}catch(p){ly(r,p)}while(!0);if(ld(),ot=l,Zu.current=h,Mt!==null)throw Error(t(261));return Gt=null,tn=0,Bt}function CT(){for(;Mt!==null;)cy(Mt)}function RT(){for(;Mt!==null&&!wn();)cy(Mt)}function cy(r){var s=py(r.alternate,r,Wn);r.memoizedProps=r.pendingProps,s===null?hy(r):Mt=s,jd.current=null}function hy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=vT(l,s,Wn),l!==null){Mt=l;return}}else{if(l=_T(l,s),l!==null){l.flags&=32767,Mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Bt=6,Mt=null;return}}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=r}while(s!==null);Bt===0&&(Bt=5)}function so(r,s,l){var h=tt,p=ar.transition;try{ar.transition=null,tt=1,PT(r,s,l,h)}finally{ar.transition=p,tt=h}return null}function PT(r,s,l,h){do sa();while(as!==null);if((ot&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(vt(r,y),r===Gt&&(Mt=Gt=null,tn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||nc||(nc=!0,my(He,function(){return sa(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=ar.transition,ar.transition=null;var w=tt;tt=1;var k=ot;ot|=4,jd.current=null,ET(r,l),ty(l,r),KE(Qh),Yi=!!Gh,Qh=Gh=null,r.current=l,TT(l),zs(),ot=k,tt=w,ar.transition=y}else r.current=l;if(nc&&(nc=!1,as=r,rc=p),y=r.pendingLanes,y===0&&(os=null),di(l.stateNode),On(r,at()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(tc)throw tc=!1,r=$d,$d=null,r;return(rc&1)!==0&&r.tag!==0&&sa(),y=r.pendingLanes,(y&1)!==0?r===Hd?al++:(al=0,Hd=r):al=0,ns(),null}function sa(){if(as!==null){var r=Gi(rc),s=ar.transition,l=tt;try{if(ar.transition=null,tt=16>r?16:r,as===null)var h=!1;else{if(r=as,as=null,rc=0,(ot&6)!==0)throw Error(t(331));var p=ot;for(ot|=4,Te=r.current;Te!==null;){var y=Te,w=y.child;if((Te.flags&16)!==0){var k=y.deletions;if(k!==null){for(var L=0;L<k.length;L++){var X=k[L];for(Te=X;Te!==null;){var se=Te;switch(se.tag){case 0:case 11:case 15:il(8,se,y)}var le=se.child;if(le!==null)le.return=se,Te=le;else for(;Te!==null;){se=Te;var ie=se.sibling,ve=se.return;if(Yg(se),se===X){Te=null;break}if(ie!==null){ie.return=ve,Te=ie;break}Te=ve}}}var Ce=y.alternate;if(Ce!==null){var Ae=Ce.child;if(Ae!==null){Ce.child=null;do{var Nt=Ae.sibling;Ae.sibling=null,Ae=Nt}while(Ae!==null)}}Te=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,Te=w;else e:for(;Te!==null;){if(y=Te,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:il(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,Te=q;break e}Te=y.return}}var j=r.current;for(Te=j;Te!==null;){w=Te;var Y=w.child;if((w.subtreeFlags&2064)!==0&&Y!==null)Y.return=w,Te=Y;else e:for(w=j;Te!==null;){if(k=Te,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Ju(9,k)}}catch(ke){bt(k,k.return,ke)}if(k===w){Te=null;break e}var fe=k.sibling;if(fe!==null){fe.return=k.return,Te=fe;break e}Te=k.return}}if(ot=p,ns(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(En,r)}catch{}h=!0}return h}finally{tt=l,ar.transition=s}}return!1}function dy(r,s,l){s=ta(l,s),s=xg(r,s,1),r=is(r,s,1),s=Sn(),r!==null&&(qi(r,1,s),On(r,s))}function bt(r,s,l){if(r.tag===3)dy(r,r,l);else for(;s!==null;){if(s.tag===3){dy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(os===null||!os.has(h))){r=ta(l,r),r=bg(s,r,1),s=is(s,r,1),r=Sn(),s!==null&&(qi(s,1,r),On(s,r));break}}s=s.return}}function AT(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Sn(),r.pingedLanes|=r.suspendedLanes&l,Gt===r&&(tn&l)===l&&(Bt===4||Bt===3&&(tn&130023424)===tn&&500>at()-Bd?io(r,0):zd|=l),On(r,s)}function fy(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ao,Ao<<=1,(Ao&130023424)===0&&(Ao=4194304)));var l=Sn();r=Ti(r,s),r!==null&&(qi(r,s,l),On(r,l))}function kT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),fy(r,l)}function xT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),fy(r,l)}var py;py=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||xn.current)Nn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Nn=!1,yT(r,s,l);Nn=(r.flags&131072)!==0}else Nn=!1,Ct&&(s.flags&1048576)!==0&&Km(s,Lu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Yu(r,s),r=s.pendingProps;var p=Ko(s,ln.current);Zo(s,l),p=_d(null,s,h,r,p,l);var y=wd();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,bn(h)?(y=!0,Nu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,dd(s),p.updater=Gu,s.stateNode=p,p._reactInternals=s,Rd(s,h,r,l),s=xd(null,s,h,!0,y,l)):(s.tag=0,Ct&&y&&nd(s),In(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Yu(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=NT(h),r=Sr(h,r),p){case 0:s=kd(null,s,h,r,l);break e;case 1:s=jg(null,s,h,r,l);break e;case 11:s=Lg(null,s,h,r,l);break e;case 14:s=Mg(null,s,h,Sr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Sr(h,p),kd(r,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Sr(h,p),jg(r,s,h,p,l);case 3:e:{if(zg(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,ng(r,s),zu(s,h,null,l);var w=s.memoizedState;if(h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=ta(Error(t(423)),s),s=Bg(r,s,h,l,p);break e}else if(h!==p){p=ta(Error(t(424)),s),s=Bg(r,s,h,l,p);break e}else for(Hn=Zi(s.stateNode.containerInfo.firstChild),$n=s,Ct=!0,Ir=null,l=eg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yo(),h===p){s=Si(r,s,l);break e}In(r,s,h,l)}s=s.child}return s;case 5:return sg(s),r===null&&sd(s),h=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,w=p.children,Yh(h,p)?w=null:y!==null&&Yh(h,y)&&(s.flags|=32),Ug(r,s),In(r,s,w,l),s.child;case 6:return r===null&&sd(s),null;case 13:return $g(r,s,l);case 4:return fd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Xo(s,null,h,l):In(r,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Sr(h,p),Lg(r,s,h,p,l);case 7:return In(r,s,s.pendingProps,l),s.child;case 8:return In(r,s,s.pendingProps.children,l),s.child;case 12:return In(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,w=p.value,wt(Fu,h._currentValue),h._currentValue=w,y!==null)if(Tr(y.value,w)){if(y.children===p.children&&!xn.current){s=Si(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var k=y.dependencies;if(k!==null){w=y.child;for(var L=k.firstContext;L!==null;){if(L.context===h){if(y.tag===1){L=Ii(-1,l&-l),L.tag=2;var X=y.updateQueue;if(X!==null){X=X.shared;var se=X.pending;se===null?L.next=L:(L.next=se.next,se.next=L),X.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),cd(y.return,l,s),k.lanes|=l;break}L=L.next}}else if(y.tag===10)w=y.type===s.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,k=w.alternate,k!==null&&(k.lanes|=l),cd(w,l,s),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===s){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}In(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,Zo(s,l),p=sr(p),h=h(p),s.flags|=1,In(r,s,h,l),s.child;case 14:return h=s.type,p=Sr(h,s.pendingProps),p=Sr(h.type,p),Mg(r,s,h,p,l);case 15:return Vg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Sr(h,p),Yu(r,s),s.tag=1,bn(h)?(r=!0,Nu(s)):r=!1,Zo(s,l),Ag(s,h,p),Rd(s,h,p,l),xd(null,s,h,!0,r,l);case 19:return Wg(r,s,l);case 22:return Fg(r,s,l)}throw Error(t(156,s.tag))};function my(r,s){return Jn(r,s)}function bT(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(r,s,l,h){return new bT(r,s,l,h)}function Yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function NT(r){if(typeof r=="function")return Yd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===me)return 14}return 2}function cs(r,s){var l=r.alternate;return l===null?(l=lr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function ac(r,s,l,h,p,y){var w=2;if(h=r,typeof r=="function")Yd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case R:return oo(l.children,p,y,s);case S:w=8,p|=8;break;case C:return r=lr(12,l,s,p|2),r.elementType=C,r.lanes=y,r;case A:return r=lr(13,l,s,p),r.elementType=A,r.lanes=y,r;case Re:return r=lr(19,l,s,p),r.elementType=Re,r.lanes=y,r;case he:return lc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:w=10;break e;case D:w=9;break e;case U:w=11;break e;case me:w=14;break e;case ce:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=lr(w,l,s,p),s.elementType=r,s.type=h,s.lanes=y,s}function oo(r,s,l,h){return r=lr(7,r,h,s),r.lanes=l,r}function lc(r,s,l,h){return r=lr(22,r,h,s),r.elementType=he,r.lanes=l,r.stateNode={isHidden:!1},r}function Xd(r,s,l){return r=lr(6,r,null,s),r.lanes=l,r}function Jd(r,s,l){return s=lr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function DT(r,s,l,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wi(0),this.expirationTimes=Wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Zd(r,s,l,h,p,y,w,k,L){return r=new DT(r,s,l,k,L),s===1?(s=1,y===!0&&(s|=8)):s=0,y=lr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},dd(y),r}function OT(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function gy(r){if(!r)return ts;r=r._reactInternals;e:{if(Qe(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(bn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(bn(l))return Hm(r,l,s)}return s}function yy(r,s,l,h,p,y,w,k,L){return r=Zd(l,h,!0,r,p,y,w,k,L),r.context=gy(null),l=r.current,h=Sn(),p=ls(l),y=Ii(h,p),y.callback=s??null,is(l,y,p),r.current.lanes=p,qi(r,p,h),On(r,h),r}function uc(r,s,l,h){var p=s.current,y=Sn(),w=ls(p);return l=gy(l),s.context===null?s.context=l:s.pendingContext=l,s=Ii(y,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=is(p,s,w),r!==null&&(Pr(r,p,w,y),ju(r,p,w)),w}function cc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function vy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function ef(r,s){vy(r,s),(r=r.alternate)&&vy(r,s)}function LT(){return null}var _y=typeof reportError=="function"?reportError:function(r){console.error(r)};function tf(r){this._internalRoot=r}hc.prototype.render=tf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));uc(r,s,null,null)},hc.prototype.unmount=tf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ro(function(){uc(null,r,null,null)}),s[vi]=null}};function hc(r){this._internalRoot=r}hc.prototype.unstable_scheduleHydration=function(r){if(r){var s=hu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<jr.length&&s!==0&&s<jr[l].priority;l++);jr.splice(l,0,r),l===0&&pu(r)}};function nf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function wy(){}function MT(r,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var X=cc(w);y.call(X)}}var w=yy(s,h,r,0,null,!1,!1,"",wy);return r._reactRootContainer=w,r[vi]=w.current,Wa(r.nodeType===8?r.parentNode:r),ro(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var k=h;h=function(){var X=cc(L);k.call(X)}}var L=Zd(r,0,!1,null,null,!1,!1,"",wy);return r._reactRootContainer=L,r[vi]=L.current,Wa(r.nodeType===8?r.parentNode:r),ro(function(){uc(s,L,l,h)}),L}function fc(r,s,l,h,p){var y=l._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var k=p;p=function(){var L=cc(w);k.call(L)}}uc(s,w,r,p)}else w=MT(l,s,r,p,h);return cc(w)}uu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Hi(s.pendingLanes);l!==0&&(Ki(s,l|1),On(s,at()),(ot&6)===0&&(ia=at()+500,ns()))}break;case 13:ro(function(){var h=Ti(r,1);if(h!==null){var p=Sn();Pr(h,r,1,p)}}),ef(r,1)}},ko=function(r){if(r.tag===13){var s=Ti(r,134217728);if(s!==null){var l=Sn();Pr(s,r,134217728,l)}ef(r,134217728)}},cu=function(r){if(r.tag===13){var s=ls(r),l=Ti(r,s);if(l!==null){var h=Sn();Pr(l,r,s,h)}ef(r,s)}},hu=function(){return tt},du=function(r,s){var l=tt;try{return tt=r,s()}finally{tt=l}},$i=function(r,s,l){switch(s){case"input":if(Fi(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var p=xu(h);if(!p)throw Error(t(90));oi(h),Fi(h,p)}}}break;case"textarea":ai(r,l);break;case"select":s=l.value,s!=null&&mr(r,!!l.multiple,s,!1)}},hi=Kd,js=ro;var VT={usingClientEntryPoint:!1,Events:[Ga,Wo,xu,_n,Fr,Kd]},ll={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FT={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ut(r),r===null?null:r.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||LT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{En=pc.inject(FT),st=pc}catch{}}return Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VT,Ln.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nf(s))throw Error(t(200));return OT(r,s,null,l)},Ln.createRoot=function(r,s){if(!nf(r))throw Error(t(299));var l=!1,h="",p=_y;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Zd(r,1,!1,null,null,l,!1,h,p),r[vi]=s.current,Wa(r.nodeType===8?r.parentNode:r),new tf(s)},Ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ut(s),r=r===null?null:r.stateNode,r},Ln.flushSync=function(r){return ro(r)},Ln.hydrate=function(r,s,l){if(!dc(s))throw Error(t(200));return fc(null,r,s,!0,l)},Ln.hydrateRoot=function(r,s,l){if(!nf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",w=_y;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=yy(s,null,r,1,l??null,p,!1,y,w),r[vi]=s.current,Wa(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new hc(s)},Ln.render=function(r,s,l){if(!dc(s))throw Error(t(200));return fc(null,r,s,!1,l)},Ln.unmountComponentAtNode=function(r){if(!dc(r))throw Error(t(40));return r._reactRootContainer?(ro(function(){fc(null,null,r,!1,function(){r._reactRootContainer=null,r[vi]=null})}),!0):!1},Ln.unstable_batchedUpdates=Kd,Ln.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!dc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return fc(r,s,l,!1,h)},Ln.version="18.3.1-next-f1338f8080-20240426",Ln}var Ay;function k_(){if(Ay)return of.exports;Ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),of.exports=qT(),of.exports}var ky;function KT(){if(ky)return gc;ky=1;var n=k_();return gc.createRoot=n.createRoot,gc.hydrateRoot=n.hydrateRoot,gc}var GT=KT();const QT="/pomodor/sounds/click/modern.mp3";var Dt=(n=>(n.POMODORO="pomodoro",n.BREAK="break",n))(Dt||{}),fn=(n=>(n.ALL="all",n.COMPLETED="completed",n.ACTIVE="active",n))(fn||{}),da=(n=>(n[n.BELL=0]="BELL",n[n.BIRD=1]="BIRD",n[n.DIGITAL=2]="DIGITAL",n[n.KITCHEN=3]="KITCHEN",n[n.WOOD=4]="WOOD",n))(da||{}),dp=(n=>(n[n.NONE=0]="NONE",n[n.FAST=1]="FAST",n[n.SLOW=2]="SLOW",n[n.WHITE_NOISE=3]="WHITE_NOISE",n[n.BROWN_NOISE=4]="BROWN_NOISE",n))(dp||{}),Ri=(n=>(n[n.RED=0]="RED",n[n.GREEN=1]="GREEN",n[n.BLUE=2]="BLUE",n[n.BROWN=3]="BROWN",n[n.PURPLE=4]="PURPLE",n))(Ri||{});const x_=(n,e=100)=>{try{const o=new Audio(n);o.volume=e/100,o.play(),setTimeout(()=>{o.pause()},2e3)}catch(t){console.error("Failed to play sound: ",t)}};function va(n){return n<0&&(n=0),n>=10?n:"0"+n}const YT="/pomodor/sounds/ring/bell.mp3",XT="/pomodor/sounds/ring/digital.mp3",JT="/pomodor/sounds/ring/microwave.mp3",b_=[{value:da.BELL,label:"Bell",src:YT},{value:da.DIGITAL,label:"Digital",src:XT},{value:da.KITCHEN,label:"Kitchen",src:JT}],ZT=new Map(b_.map(n=>[n.value,n.src])),eI=(n,e)=>{const t=ZT.get(n)||null;t&&x_(t,e)};function N_(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=N_(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ts(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=N_(n))&&(i&&(i+=" "),i+=e);return i}function tI(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}tI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var $l=n=>typeof n=="number"&&!isNaN(n),ho=n=>typeof n=="string",bi=n=>typeof n=="function",nI=n=>ho(n)||$l(n),xf=n=>ho(n)||bi(n)?n:null,rI=(n,e)=>n===!1||$l(n)&&n>0?n:e,bf=n=>V.isValidElement(n)||ho(n)||bi(n)||$l(n);function iI(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function sI({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:d,done:f,nodeRef:m,isIn:v,playToast:E}){let T=t?`${n}--${u}`:n,P=t?`${e}--${u}`:e,F=V.useRef(0);return V.useLayoutEffect(()=>{let $=m.current,O=T.split(" "),K=z=>{z.target===m.current&&(E(),$.removeEventListener("animationend",K),$.removeEventListener("animationcancel",K),F.current===0&&z.type!=="animationcancel"&&$.classList.remove(...O))};$.classList.add(...O),$.addEventListener("animationend",K),$.addEventListener("animationcancel",K)},[]),V.useEffect(()=>{let $=m.current,O=()=>{$.removeEventListener("animationend",O),i?iI($,f,o):f()};v||(d?O():(F.current=1,$.className+=` ${P}`,$.addEventListener("animationend",O)))},[v]),pt.createElement(pt.Fragment,null,a)}}function xy(n,e){return{content:D_(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function D_(n,e,t=!1){return V.isValidElement(n)&&!ho(n.type)?V.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):bi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function oI({closeToast:n,theme:e,ariaLabel:t="close"}){return pt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},pt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function aI({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:u,progress:d,rtl:f,isIn:m,theme:v}){let E=o||u&&d===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(T.transform=`scaleX(${d})`);let P=Ts("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),F=bi(a)?a({rtl:f,type:i,defaultClassName:P}):Ts(P,a),$={[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{m&&t()}};return pt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},pt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),pt.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:F,style:T,...$}))}var lI=1,O_=()=>`${lI++}`;function uI(n,e,t){let i=1,o=0,a=[],u=[],d=e,f=new Map,m=new Set,v=z=>(m.add(z),()=>m.delete(z)),E=()=>{u=Array.from(f.values()),m.forEach(z=>z())},T=({containerId:z,toastId:G,updateId:ne})=>{let te=z?z!==n:n!==1,M=f.has(G)&&ne==null;return te||M},P=(z,G)=>{f.forEach(ne=>{var te;(G==null||G===ne.props.toastId)&&((te=ne.toggle)==null||te.call(ne,z))})},F=z=>{var G,ne;(ne=(G=z.props)==null?void 0:G.onClose)==null||ne.call(G,z.removalReason),z.isActive=!1},$=z=>{if(z==null)f.forEach(F);else{let G=f.get(z);G&&F(G)}E()},O=()=>{o-=a.length,a=[]},K=z=>{var G,ne;let{toastId:te,updateId:M}=z.props,R=M==null;z.staleId&&f.delete(z.staleId),z.isActive=!0,f.set(te,z),E(),t(xy(z,R?"added":"updated")),R&&((ne=(G=z.props).onOpen)==null||ne.call(G))};return{id:n,props:d,observe:v,toggle:P,removeToast:$,toasts:f,clearQueue:O,buildToast:(z,G)=>{if(T(G))return;let{toastId:ne,updateId:te,data:M,staleId:R,delay:S}=G,C=te==null;C&&o++;let b={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(G).filter(([U,A])=>A!=null)),toastId:ne,updateId:te,data:M,isIn:!1,className:xf(G.className||d.toastClassName),progressClassName:xf(G.progressClassName||d.progressClassName),autoClose:G.isLoading?!1:rI(G.autoClose,d.autoClose),closeToast(U){f.get(ne).removalReason=U,$(ne)},deleteToast(){let U=f.get(ne);if(U!=null){if(t(xy(U,"removed")),f.delete(ne),o--,o<0&&(o=0),a.length>0){K(a.shift());return}E()}}};b.closeButton=d.closeButton,G.closeButton===!1||bf(G.closeButton)?b.closeButton=G.closeButton:G.closeButton===!0&&(b.closeButton=bf(d.closeButton)?d.closeButton:!0);let D={content:z,props:b,staleId:R};d.limit&&d.limit>0&&o>d.limit&&C?a.push(D):$l(S)?setTimeout(()=>{K(D)},S):K(D)},setProps(z){d=z},setToggle:(z,G)=>{let ne=f.get(z);ne&&(ne.toggle=G)},isToastActive:z=>{var G;return(G=f.get(z))==null?void 0:G.isActive},getSnapshot:()=>u}}var Cn=new Map,Al=[],Nf=new Set,cI=n=>Nf.forEach(e=>e(n)),L_=()=>Cn.size>0;function hI(){Al.forEach(n=>V_(n.content,n.options)),Al=[]}var dI=(n,{containerId:e})=>{var t;return(t=Cn.get(e||1))==null?void 0:t.toasts.get(n)};function M_(n,e){var t;if(e)return!!((t=Cn.get(e))!=null&&t.isToastActive(n));let i=!1;return Cn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function fI(n){if(!L_()){Al=Al.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||nI(n))Cn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Cn.get(n.containerId);e?e.removeToast(n.id):Cn.forEach(t=>{t.removeToast(n.id)})}}var pI=(n={})=>{Cn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function V_(n,e){bf(n)&&(L_()||Al.push({content:n,options:e}),Cn.forEach(t=>{t.buildToast(n,e)}))}function mI(n){var e;(e=Cn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function F_(n,e){Cn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function gI(n){let e=n.containerId||1;return{subscribe(t){let i=uI(e,n,cI);Cn.set(e,i);let o=i.observe(t);return hI(),()=>{o(),Cn.delete(e)}},setProps(t){var i;(i=Cn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Cn.get(e))==null?void 0:t.getSnapshot()}}}function yI(n){return Nf.add(n),()=>{Nf.delete(n)}}function vI(n){return n&&(ho(n.toastId)||$l(n.toastId))?n.toastId:O_()}function Hl(n,e){return V_(n,e),e.toastId}function ch(n,e){return{...e,type:e&&e.type||n,toastId:vI(e)}}function hh(n){return(e,t)=>Hl(e,ch(n,t))}function ft(n,e){return Hl(n,ch("default",e))}ft.loading=(n,e)=>Hl(n,ch("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function _I(n,{pending:e,error:t,success:i},o){let a;e&&(a=ho(e)?ft.loading(e,o):ft.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,v,E)=>{if(v==null){ft.dismiss(a);return}let T={type:m,...u,...o,data:E},P=ho(v)?{render:v}:v;return a?ft.update(a,{...T,...P}):ft(P.render,{...T,...P}),E},f=bi(n)?n():n;return f.then(m=>d("success",i,m)).catch(m=>d("error",t,m)),f}ft.promise=_I;ft.success=hh("success");ft.info=hh("info");ft.error=hh("error");ft.warning=hh("warning");ft.warn=ft.warning;ft.dark=(n,e)=>Hl(n,ch("default",{theme:"dark",...e}));function wI(n){fI(n)}ft.dismiss=wI;ft.clearWaitingQueue=pI;ft.isActive=M_;ft.update=(n,e={})=>{let t=dI(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:O_()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,Hl(u,a)}};ft.done=n=>{ft.update(n,{progress:1})};ft.onChange=yI;ft.play=n=>F_(!0,n);ft.pause=n=>F_(!1,n);function EI(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=V.useRef(gI(n)).current;o(n);let a=(e=V.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(d){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:v}=m.props;f.has(v)||f.set(v,[]),f.get(v).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:u,isToastActive:M_,count:a==null?void 0:a.length}}function TI(n){let[e,t]=V.useState(!1),[i,o]=V.useState(!1),a=V.useRef(null),u=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:v,closeOnClick:E}=n;mI({id:n.toastId,containerId:n.containerId,fn:t}),V.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{P()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||K(),window.addEventListener("focus",O),window.addEventListener("blur",K)}function P(){window.removeEventListener("focus",O),window.removeEventListener("blur",K)}function F(R){if(n.draggable===!0||n.draggable===R.pointerType){z();let S=a.current;u.canCloseOnClick=!0,u.canDrag=!0,S.style.transition="none",n.draggableDirection==="x"?(u.start=R.clientX,u.removalDistance=S.offsetWidth*(n.draggablePercent/100)):(u.start=R.clientY,u.removalDistance=S.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function $(R){let{top:S,bottom:C,left:b,right:D}=a.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&n.pauseOnHover&&R.clientX>=b&&R.clientX<=D&&R.clientY>=S&&R.clientY<=C?K():O()}function O(){t(!0)}function K(){t(!1)}function z(){u.didMove=!1,document.addEventListener("pointermove",ne),document.addEventListener("pointerup",te)}function G(){document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",te)}function ne(R){let S=a.current;if(u.canDrag&&S){u.didMove=!0,e&&K(),n.draggableDirection==="x"?u.delta=R.clientX-u.start:u.delta=R.clientY-u.start,u.start!==R.clientX&&(u.canCloseOnClick=!1);let C=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;S.style.transform=`translate3d(${C},0)`,S.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function te(){G();let R=a.current;if(u.canDrag&&u.didMove&&R){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let M={onPointerDown:F,onPointerUp:$};return d&&f&&(M.onMouseEnter=K,n.stacked||(M.onMouseLeave=O)),E&&(M.onClick=R=>{v&&v(R),u.canCloseOnClick&&m(!0)}),{playToast:O,pauseToast:K,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:M}}var II=typeof window<"u"?V.useLayoutEffect:V.useEffect,dh=({theme:n,type:e,isLoading:t,...i})=>pt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function SI(n){return pt.createElement(dh,{...n},pt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CI(n){return pt.createElement(dh,{...n},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function RI(n){return pt.createElement(dh,{...n},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PI(n){return pt.createElement(dh,{...n},pt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function AI(){return pt.createElement("div",{className:"Toastify__spinner"})}var Df={info:CI,warning:SI,success:RI,error:PI,spinner:AI},kI=n=>n in Df;function xI({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(bi(i)?o=i({...a,isLoading:t}):V.isValidElement(i)?o=V.cloneElement(i,a):t?o=Df.spinner():kI(e)&&(o=Df[e](a))),o}var bI=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=TI(n),{closeButton:u,children:d,autoClose:f,onClick:m,type:v,hideProgressBar:E,closeToast:T,transition:P,position:F,className:$,style:O,progressClassName:K,updateId:z,role:G,progress:ne,rtl:te,toastId:M,deleteToast:R,isIn:S,isLoading:C,closeOnClick:b,theme:D,ariaLabel:U}=n,A=Ts("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":te},{"Toastify__toast--close-on-click":b}),Re=bi($)?$({rtl:te,position:F,type:v,defaultClassName:A}):Ts(A,$),me=xI(n),ce=!!ne||!f,he={closeToast:T,type:v,theme:D},ee=null;return u===!1||(bi(u)?ee=u(he):V.isValidElement(u)?ee=V.cloneElement(u,he):ee=oI(he)),pt.createElement(P,{isIn:S,done:R,position:F,preventExitTransition:t,nodeRef:i,playToast:a},pt.createElement("div",{id:M,tabIndex:0,onClick:m,"data-in":S,className:Re,...o,style:O,ref:i,...S&&{role:G,"aria-label":U}},me!=null&&pt.createElement("div",{className:Ts("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},me),D_(d,n,!e),ee,!n.customProgressBar&&pt.createElement(aI,{...z&&!ce?{key:`p-${z}`}:{},rtl:te,theme:D,delay:f,isRunning:e,isIn:S,closeToast:T,hide:E,type:v,className:K,controlledProgress:ce,progress:ne||0})))},NI=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),DI=sI(NI("bounce",!0)),OI={position:"top-right",transition:DI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function LI(n){let e={...OI,...n},t=n.stacked,[i,o]=V.useState(!0),a=V.useRef(null),{getToastToRender:u,isToastActive:d,count:f}=EI(e),{className:m,style:v,rtl:E,containerId:T,hotKeys:P}=e;function F(O){let K=Ts("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":E});return bi(m)?m({position:O,rtl:E,defaultClassName:K}):Ts(K,xf(m))}function $(){t&&(o(!0),ft.play())}return II(()=>{var O;if(t){let K=a.current.querySelectorAll('[data-in="true"]'),z=12,G=(O=e.position)==null?void 0:O.includes("top"),ne=0,te=0;Array.from(K).reverse().forEach((M,R)=>{let S=M;S.classList.add("Toastify__toast--stacked"),R>0&&(S.dataset.collapsed=`${i}`),S.dataset.pos||(S.dataset.pos=G?"top":"bot");let C=ne*(i?.2:1)+(i?0:z*R);S.style.setProperty("--y",`${G?C:C*-1}px`),S.style.setProperty("--g",`${z}`),S.style.setProperty("--s",`${1-(i?te:0)}`),ne+=S.offsetHeight,te+=.025})}},[i,f,t]),V.useEffect(()=>{function O(K){var z;let G=a.current;P(K)&&((z=G.querySelector('[tabIndex="0"]'))==null||z.focus(),o(!1),ft.pause()),K.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(o(!0),ft.play())}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[P]),pt.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{t&&(o(!1),ft.pause())},onMouseLeave:$,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((O,K)=>{let z=K.length?{...v}:{...v,pointerEvents:"none"};return pt.createElement("div",{tabIndex:-1,className:F(O),"data-stacked":t,style:z,key:`c-${O}`},K.map(({content:G,props:ne})=>pt.createElement(bI,{...ne,stacked:t,collapseAll:$,isIn:d(ne.toastId,ne.containerId),key:`t-${ne.key}`},G)))}))}const MI=n=>x.jsx(LI,{...n}),U_=(n,e)=>{ft(n,{type:e})};var uf,by;function VI(){if(by)return uf;by=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,f=typeof mc=="object"&&mc&&mc.Object===Object&&mc,m=typeof self=="object"&&self&&self.Object===Object&&self,v=f||m||Function("return this")(),E=Object.prototype,T=E.toString,P=Math.max,F=Math.min,$=function(){return v.Date.now()};function O(te,M,R){var S,C,b,D,U,A,Re=0,me=!1,ce=!1,he=!0;if(typeof te!="function")throw new TypeError(n);M=ne(M)||0,K(R)&&(me=!!R.leading,ce="maxWait"in R,b=ce?P(ne(R.maxWait)||0,M):b,he="trailing"in R?!!R.trailing:he);function ee(Ne){var Ke=S,nt=C;return S=C=void 0,Re=Ne,D=te.apply(nt,Ke),D}function ge(Ne){return Re=Ne,U=setTimeout(Z,M),me?ee(Ne):D}function ue(Ne){var Ke=Ne-A,nt=Ne-Re,Ge=M-Ke;return ce?F(Ge,b-nt):Ge}function B(Ne){var Ke=Ne-A,nt=Ne-Re;return A===void 0||Ke>=M||Ke<0||ce&&nt>=b}function Z(){var Ne=$();if(B(Ne))return pe(Ne);U=setTimeout(Z,ue(Ne))}function pe(Ne){return U=void 0,he&&S?ee(Ne):(S=C=void 0,D)}function Ve(){U!==void 0&&clearTimeout(U),Re=0,S=A=C=U=void 0}function $e(){return U===void 0?D:pe($())}function Be(){var Ne=$(),Ke=B(Ne);if(S=arguments,C=this,A=Ne,Ke){if(U===void 0)return ge(A);if(ce)return U=setTimeout(Z,M),ee(A)}return U===void 0&&(U=setTimeout(Z,M)),D}return Be.cancel=Ve,Be.flush=$e,Be}function K(te){var M=typeof te;return!!te&&(M=="object"||M=="function")}function z(te){return!!te&&typeof te=="object"}function G(te){return typeof te=="symbol"||z(te)&&T.call(te)==t}function ne(te){if(typeof te=="number")return te;if(G(te))return e;if(K(te)){var M=typeof te.valueOf=="function"?te.valueOf():te;te=K(M)?M+"":M}if(typeof te!="string")return te===0?te:+te;te=te.replace(i,"");var R=a.test(te);return R||u.test(te)?d(te.slice(2),R?2:8):o.test(te)?e:+te}return uf=O,uf}VI();var j_=typeof window<"u"?V.useLayoutEffect:V.useEffect;function Ny(n,e,t,i){const o=V.useRef(e);j_(()=>{o.current=e},[e]),V.useEffect(()=>{const a=window;if(!(a&&a.addEventListener))return;const u=d=>{o.current(d)};return a.addEventListener(n,u,i),()=>{a.removeEventListener(n,u,i)}},[n,t,i])}function Dy(n){const e=V.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return j_(()=>{e.current=n},[n]),V.useCallback((...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[e])}var cf=typeof window>"u";function Ar(n,e,t={}){const{initializeWithValue:i=!0}=t,o=V.useCallback(T=>t.serializer?t.serializer(T):JSON.stringify(T),[t]),a=V.useCallback(T=>{if(t.deserializer)return t.deserializer(T);if(T==="undefined")return;const P=e instanceof Function?e():e;let F;try{F=JSON.parse(T)}catch($){return console.error("Error parsing JSON:",$),P}return F},[t,e]),u=V.useCallback(()=>{const T=e instanceof Function?e():e;if(cf)return T;try{const P=window.localStorage.getItem(n);return P?a(P):T}catch(P){return console.warn(`Error reading localStorage key ${n}:`,P),T}},[e,n,a]),[d,f]=V.useState(()=>i?u():e instanceof Function?e():e),m=Dy(T=>{cf&&console.warn(`Tried setting localStorage key ${n} even though environment is not a client`);try{const P=T instanceof Function?T(u()):T;window.localStorage.setItem(n,o(P)),f(P),window.dispatchEvent(new StorageEvent("local-storage",{key:n}))}catch(P){console.warn(`Error setting localStorage key ${n}:`,P)}}),v=Dy(()=>{cf&&console.warn(`Tried removing localStorage key ${n} even though environment is not a client`);const T=e instanceof Function?e():e;window.localStorage.removeItem(n),f(T),window.dispatchEvent(new StorageEvent("local-storage",{key:n}))});V.useEffect(()=>{f(u())},[n]);const E=V.useCallback(T=>{T.key&&T.key!==n||f(u())},[n,u]);return Ny("storage",E),Ny("local-storage",E),[d,m,v]}const FI=(n,e)=>{const[t,i]=Ar("elapsedTime",0),[o,a]=Ar("isTimerRunning",!1),[u,d]=Ar("timer-mode",Dt.POMODORO),f=60,v={[Dt.POMODORO]:n.timerSetting.pomodoroDuration*f,[Dt.BREAK]:n.timerSetting.breakDuration*f}[u],E=v-t,T=v<=t,P=()=>{a(G=>!G),x_(QT)},F=V.useCallback(()=>{e&&e();const G=ne(u);te(),M(G),d(G);function ne(S){return S===Dt.POMODORO?Dt.BREAK:Dt.POMODORO}function te(){eI(n.soundSetting.alarmSoundType,n.soundSetting.alarmSoundVolume),U_("You have finish a session!","success")}function M(S){a(R(S))}function R(S){return n.timerSetting.autoStartBreak&&S===Dt.BREAK||n.timerSetting.autoStartPomodoros&&S===Dt.POMODORO}},[u,e,n.timerSetting.autoStartBreak,n.timerSetting.autoStartPomodoros]),$=()=>{d(Dt.POMODORO),K()},O=()=>{d(Dt.BREAK),K()},K=()=>{a(!1),i(0)};V.useEffect(()=>{const G=va(Math.floor(E/60)),ne=va(E%60);document.title=`${G}:${ne}`},[E]);const z=V.useRef();return V.useEffect(()=>{const G=()=>{z.current=window.setInterval(()=>{i(M=>M+1)},1e3)},ne=()=>{z.current&&clearInterval(z.current)};if(T){K(),F();return}return o&&G(),ne},[F,o,T]),{mode:u,remainingTime:E,isTimerRunning:o,handleToggle:P,handleNextMode:F,handlePomodoroMode:$,handleBreakMode:O}},UI=()=>{const[n,e]=Ar("session-count",0);return{sessionCount:n,increment:u=>{(u===void 0||u)&&e(d=>d+1)},decrement:u=>{(u===void 0||u)&&e(d=>d<=0?0:d-1)},set:u=>{if(u<0){console.warn("Session count cannot be negative");return}e(u)},reset:()=>{e(0)}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},zI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,E=(a&3)<<4|d>>4;let T=(d&15)<<2|m>>6,P=m&63;f||(P=64,u||(T=64)),i.push(t[v],t[E],t[T],t[P])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(z_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||E==null)throw new BI;const T=a<<2|d>>4;if(i.push(T),m!==64){const P=d<<4&240|m>>2;if(i.push(P),E!==64){const F=m<<6&192|E;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $I=function(n){const e=z_(n);return B_.encodeByteArray(e,!0)},jc=function(n){return $I(n).replace(/\./g,"")},$_=function(n){try{return B_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=()=>HI().__FIREBASE_DEFAULTS__,qI=()=>{if(typeof process>"u"||typeof Oy>"u")return;const n=Oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$_(n[1]);return e&&JSON.parse(e)},fh=()=>{try{return jI()||WI()||qI()||KI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},H_=n=>{var e,t;return(t=(e=fh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},GI=n=>{const e=H_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},W_=()=>{var n;return(n=fh())==null?void 0:n.config},q_=n=>{var e;return(e=fh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QI=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[jc(JSON.stringify(t)),jc(JSON.stringify(u)),""].join(".")}const wl={};function XI(){const n={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?n.emulator.push(e):n.prod.push(e);return n}function JI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ly=!1;function G_(n,e){if(typeof window>"u"||typeof document>"u"||!Ra(window.location.host)||wl[n]===e||wl[n]||Ly)return;wl[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=XI().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,P){T.setAttribute("width","24"),T.setAttribute("id",P),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Ly=!0,u()},T}function v(T,P){T.setAttribute("id",P),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=JI(i),P=t("text"),F=document.getElementById(P)||document.createElement("span"),$=t("learnmore"),O=document.getElementById($)||document.createElement("a"),K=t("preprendIcon"),z=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const G=T.element;d(G),v(O,$);const ne=m();f(z,K),G.append(z,F,O,ne),document.body.appendChild(G)}a?(F.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function eS(){var e;const n=(e=fh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iS(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sS(){return!eS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oS(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="FirebaseError";class Mi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=lS,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?uS(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Mi(o,d,i)}}function uS(n,e){return n.replace(cS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const cS=/\{\$([^}]+)}/g;function hS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(My(a)&&My(u)){if(!fo(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function My(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function dS(n,e){const t=new fS(n,e);return t.subscribe.bind(t)}class fS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");pS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=hf),o.error===void 0&&(o.error=hf),o.complete===void 0&&(o.complete=hf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n){return n&&n._delegate?n._delegate:n}class po{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new QI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yS(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gS(n){return n===ao?void 0:n}function yS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Je||(Je={}));const _S={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},wS=Je.INFO,ES={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},TS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=ES[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fp{constructor(e){this.name=e,this._logLevel=wS,this._logHandler=TS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const IS=(n,e)=>e.some(t=>n instanceof t);let Vy,Fy;function SS(){return Vy||(Vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CS(){return Fy||(Fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,Of=new WeakMap,Y_=new WeakMap,df=new WeakMap,pp=new WeakMap;function RS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Is(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Q_.set(t,n)}).catch(()=>{}),pp.set(e,n),e}function PS(n){if(Of.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Of.set(n,e)}let Lf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Of.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Y_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AS(n){Lf=n(Lf)}function kS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ff(this),e,...t);return Y_.set(i,e.sort?e.sort():[e]),Is(i)}:CS().includes(n)?function(...e){return n.apply(ff(this),e),Is(Q_.get(this))}:function(...e){return Is(n.apply(ff(this),e))}}function xS(n){return typeof n=="function"?kS(n):(n instanceof IDBTransaction&&PS(n),IS(n,SS())?new Proxy(n,Lf):n)}function Is(n){if(n instanceof IDBRequest)return RS(n);if(df.has(n))return df.get(n);const e=xS(n);return e!==n&&(df.set(n,e),pp.set(e,n)),e}const ff=n=>pp.get(n);function bS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Is(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Is(u.result),f.oldVersion,f.newVersion,Is(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const NS=["get","getKey","getAll","getAllKeys","count"],DS=["put","add","delete","clear"],pf=new Map;function Uy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=DS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||NS.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return pf.set(e,a),a}AS(n=>({...n,get:(e,t,i)=>Uy(e,t)||n.get(e,t,i),has:(e,t)=>!!Uy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function LS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mf="@firebase/app",jy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new fp("@firebase/app"),MS="@firebase/app-compat",VS="@firebase/analytics-compat",FS="@firebase/analytics",US="@firebase/app-check-compat",jS="@firebase/app-check",zS="@firebase/auth",BS="@firebase/auth-compat",$S="@firebase/database",HS="@firebase/data-connect",WS="@firebase/database-compat",qS="@firebase/functions",KS="@firebase/functions-compat",GS="@firebase/installations",QS="@firebase/installations-compat",YS="@firebase/messaging",XS="@firebase/messaging-compat",JS="@firebase/performance",ZS="@firebase/performance-compat",e1="@firebase/remote-config",t1="@firebase/remote-config-compat",n1="@firebase/storage",r1="@firebase/storage-compat",i1="@firebase/firestore",s1="@firebase/ai",o1="@firebase/firestore-compat",a1="firebase",l1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",u1={[Mf]:"fire-core",[MS]:"fire-core-compat",[FS]:"fire-analytics",[VS]:"fire-analytics-compat",[jS]:"fire-app-check",[US]:"fire-app-check-compat",[zS]:"fire-auth",[BS]:"fire-auth-compat",[$S]:"fire-rtdb",[HS]:"fire-data-connect",[WS]:"fire-rtdb-compat",[qS]:"fire-fn",[KS]:"fire-fn-compat",[GS]:"fire-iid",[QS]:"fire-iid-compat",[YS]:"fire-fcm",[XS]:"fire-fcm-compat",[JS]:"fire-perf",[ZS]:"fire-perf-compat",[e1]:"fire-rc",[t1]:"fire-rc-compat",[n1]:"fire-gcs",[r1]:"fire-gcs-compat",[i1]:"fire-fst",[o1]:"fire-fst-compat",[s1]:"fire-vertex","fire-js":"fire-js",[a1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,c1=new Map,Ff=new Map;function zy(n,e){try{n.container.addComponent(e)}catch(t){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _a(n){const e=n.name;if(Ff.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,n);for(const t of zc.values())zy(t,n);for(const t of c1.values())zy(t,n);return!0}function mp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new Wl("app","Firebase",h1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=l1;function X_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Vf,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(t||(t=W_()),!t)throw Ss.create("no-options");const a=zc.get(o);if(a){if(fo(t,a.options)&&fo(i,a.config))return a;throw Ss.create("duplicate-app",{appName:o})}const u=new vS(o);for(const f of Ff.values())u.addComponent(f);const d=new d1(t,i,u);return zc.set(o,d),d}function J_(n=Vf){const e=zc.get(n);if(!e&&n===Vf&&W_())return X_();if(!e)throw Ss.create("no-app",{appName:n});return e}function Cs(n,e,t){let i=u1[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(u.join(" "));return}_a(new po(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebase-heartbeat-database",p1=1,kl="firebase-heartbeat-store";let mf=null;function Z_(){return mf||(mf=bS(f1,p1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ss.create("idb-open",{originalErrorMessage:n.message})})),mf}async function m1(n){try{const t=(await Z_()).transaction(kl),i=await t.objectStore(kl).get(e0(n));return await t.done,i}catch(e){if(e instanceof Mi)Ni.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(t.message)}}}async function By(n,e){try{const i=(await Z_()).transaction(kl,"readwrite");await i.objectStore(kl).put(e,e0(n)),await i.done}catch(t){if(t instanceof Mi)Ni.warn(t.message);else{const i=Ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ni.warn(i.message)}}}function e0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=1024,y1=30;class v1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new w1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$y();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>y1){const u=E1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$y(),{heartbeatsToSend:i,unsentEntries:o}=_1(this._heartbeatsCache.heartbeats),a=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ni.warn(t),""}}}function $y(){return new Date().toISOString().substring(0,10)}function _1(n,e=g1){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Hy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Hy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class w1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oS()?aS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await m1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hy(n){return jc(JSON.stringify({version:2,heartbeats:n})).length}function E1(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n){_a(new po("platform-logger",e=>new OS(e),"PRIVATE")),_a(new po("heartbeat",e=>new v1(e),"PRIVATE")),Cs(Mf,jy,n),Cs(Mf,jy,"esm2020"),Cs("fire-js","")}T1("");var Wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,t0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function C(){}C.prototype=S.prototype,R.D=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.C=function(b,D,U){for(var A=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)A[Re-2]=arguments[Re];return S.prototype[D].apply(b,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,C){C||(C=0);var b=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)b[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;16>D;++D)b[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],D=R.g[2];var U=R.g[3],A=S+(U^C&(D^U))+b[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=U+(D^S&(C^D))+b[1]+3905402710&4294967295,U=S+(A<<12&4294967295|A>>>20),A=D+(C^U&(S^C))+b[2]+606105819&4294967295,D=U+(A<<17&4294967295|A>>>15),A=C+(S^D&(U^S))+b[3]+3250441966&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(U^C&(D^U))+b[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=U+(D^S&(C^D))+b[5]+1200080426&4294967295,U=S+(A<<12&4294967295|A>>>20),A=D+(C^U&(S^C))+b[6]+2821735955&4294967295,D=U+(A<<17&4294967295|A>>>15),A=C+(S^D&(U^S))+b[7]+4249261313&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(U^C&(D^U))+b[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=U+(D^S&(C^D))+b[9]+2336552879&4294967295,U=S+(A<<12&4294967295|A>>>20),A=D+(C^U&(S^C))+b[10]+4294925233&4294967295,D=U+(A<<17&4294967295|A>>>15),A=C+(S^D&(U^S))+b[11]+2304563134&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(U^C&(D^U))+b[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=U+(D^S&(C^D))+b[13]+4254626195&4294967295,U=S+(A<<12&4294967295|A>>>20),A=D+(C^U&(S^C))+b[14]+2792965006&4294967295,D=U+(A<<17&4294967295|A>>>15),A=C+(S^D&(U^S))+b[15]+1236535329&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(D^U&(C^D))+b[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=U+(C^D&(S^C))+b[6]+3225465664&4294967295,U=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(U^S))+b[11]+643717713&4294967295,D=U+(A<<14&4294967295|A>>>18),A=C+(U^S&(D^U))+b[0]+3921069994&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(D^U&(C^D))+b[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=U+(C^D&(S^C))+b[10]+38016083&4294967295,U=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(U^S))+b[15]+3634488961&4294967295,D=U+(A<<14&4294967295|A>>>18),A=C+(U^S&(D^U))+b[4]+3889429448&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(D^U&(C^D))+b[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=U+(C^D&(S^C))+b[14]+3275163606&4294967295,U=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(U^S))+b[3]+4107603335&4294967295,D=U+(A<<14&4294967295|A>>>18),A=C+(U^S&(D^U))+b[8]+1163531501&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(D^U&(C^D))+b[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=U+(C^D&(S^C))+b[2]+4243563512&4294967295,U=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(U^S))+b[7]+1735328473&4294967295,D=U+(A<<14&4294967295|A>>>18),A=C+(U^S&(D^U))+b[12]+2368359562&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(C^D^U)+b[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=U+(S^C^D)+b[8]+2272392833&4294967295,U=S+(A<<11&4294967295|A>>>21),A=D+(U^S^C)+b[11]+1839030562&4294967295,D=U+(A<<16&4294967295|A>>>16),A=C+(D^U^S)+b[14]+4259657740&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(C^D^U)+b[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=U+(S^C^D)+b[4]+1272893353&4294967295,U=S+(A<<11&4294967295|A>>>21),A=D+(U^S^C)+b[7]+4139469664&4294967295,D=U+(A<<16&4294967295|A>>>16),A=C+(D^U^S)+b[10]+3200236656&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(C^D^U)+b[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=U+(S^C^D)+b[0]+3936430074&4294967295,U=S+(A<<11&4294967295|A>>>21),A=D+(U^S^C)+b[3]+3572445317&4294967295,D=U+(A<<16&4294967295|A>>>16),A=C+(D^U^S)+b[6]+76029189&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(C^D^U)+b[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=U+(S^C^D)+b[12]+3873151461&4294967295,U=S+(A<<11&4294967295|A>>>21),A=D+(U^S^C)+b[15]+530742520&4294967295,D=U+(A<<16&4294967295|A>>>16),A=C+(D^U^S)+b[2]+3299628645&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(D^(C|~U))+b[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=U+(C^(S|~D))+b[7]+1126891415&4294967295,U=S+(A<<10&4294967295|A>>>22),A=D+(S^(U|~C))+b[14]+2878612391&4294967295,D=U+(A<<15&4294967295|A>>>17),A=C+(U^(D|~S))+b[5]+4237533241&4294967295,C=D+(A<<21&4294967295|A>>>11),A=S+(D^(C|~U))+b[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=U+(C^(S|~D))+b[3]+2399980690&4294967295,U=S+(A<<10&4294967295|A>>>22),A=D+(S^(U|~C))+b[10]+4293915773&4294967295,D=U+(A<<15&4294967295|A>>>17),A=C+(U^(D|~S))+b[1]+2240044497&4294967295,C=D+(A<<21&4294967295|A>>>11),A=S+(D^(C|~U))+b[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=U+(C^(S|~D))+b[15]+4264355552&4294967295,U=S+(A<<10&4294967295|A>>>22),A=D+(S^(U|~C))+b[6]+2734768916&4294967295,D=U+(A<<15&4294967295|A>>>17),A=C+(U^(D|~S))+b[13]+1309151649&4294967295,C=D+(A<<21&4294967295|A>>>11),A=S+(D^(C|~U))+b[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=U+(C^(S|~D))+b[11]+3174756917&4294967295,U=S+(A<<10&4294967295|A>>>22),A=D+(S^(U|~C))+b[2]+718787259&4294967295,D=U+(A<<15&4294967295|A>>>17),A=C+(U^(D|~S))+b[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+U&4294967295}i.prototype.u=function(R,S){S===void 0&&(S=R.length);for(var C=S-this.blockSize,b=this.B,D=this.h,U=0;U<S;){if(D==0)for(;U<=C;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<S;)if(b[D++]=R.charCodeAt(U++),D==this.blockSize){o(this,b),D=0;break}}else for(;U<S;)if(b[D++]=R[U++],D==this.blockSize){o(this,b),D=0;break}}this.h=D,this.o+=S},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;var C=8*this.o;for(S=R.length-8;S<R.length;++S)R[S]=C&255,C/=256;for(this.u(R),R=Array(16),S=C=0;4>S;++S)for(var b=0;32>b;b+=8)R[C++]=this.g[S]>>>b&255;return R};function a(R,S){var C=d;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function u(R,S){this.h=S;for(var C=[],b=!0,D=R.length-1;0<=D;D--){var U=R[D]|0;b&&U==S||(C[D]=U,b=!1)}this.g=C}var d={};function f(R){return-128<=R&&128>R?a(R,function(S){return new u([S|0],0>S?-1:0)}):new u([R|0],0>R?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return E;if(0>R)return O(m(-R));for(var S=[],C=1,b=0;R>=C;b++)S[b]=R/C|0,C*=4294967296;return new u(S,0)}function v(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return O(v(R.substring(1),S));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(S,8)),b=E,D=0;D<R.length;D+=8){var U=Math.min(8,R.length-D),A=parseInt(R.substring(D,D+U),S);8>U?(U=m(Math.pow(S,U)),b=b.j(U).add(m(A))):(b=b.j(C),b=b.add(m(A)))}return b}var E=f(0),T=f(1),P=f(16777216);n=u.prototype,n.m=function(){if($(this))return-O(this).m();for(var R=0,S=1,C=0;C<this.g.length;C++){var b=this.i(C);R+=(0<=b?b:4294967296+b)*S,S*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if($(this))return"-"+O(this).toString(R);for(var S=m(Math.pow(R,6)),C=this,b="";;){var D=ne(C,S).g;C=K(C,D.j(S));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(R);if(C=D,F(C))return U+b;for(;6>U.length;)U="0"+U;b=U+b}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(var S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function $(R){return R.h==-1}n.l=function(R){return R=K(this,R),$(R)?-1:F(R)?0:1};function O(R){for(var S=R.g.length,C=[],b=0;b<S;b++)C[b]=~R.g[b];return new u(C,~R.h).add(T)}n.abs=function(){return $(this)?O(this):this},n.add=function(R){for(var S=Math.max(this.g.length,R.g.length),C=[],b=0,D=0;D<=S;D++){var U=b+(this.i(D)&65535)+(R.i(D)&65535),A=(U>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);b=A>>>16,U&=65535,A&=65535,C[D]=A<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function K(R,S){return R.add(O(S))}n.j=function(R){if(F(this)||F(R))return E;if($(this))return $(R)?O(this).j(O(R)):O(O(this).j(R));if($(R))return O(this.j(O(R)));if(0>this.l(P)&&0>R.l(P))return m(this.m()*R.m());for(var S=this.g.length+R.g.length,C=[],b=0;b<2*S;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<R.g.length;D++){var U=this.i(b)>>>16,A=this.i(b)&65535,Re=R.i(D)>>>16,me=R.i(D)&65535;C[2*b+2*D]+=A*me,z(C,2*b+2*D),C[2*b+2*D+1]+=U*me,z(C,2*b+2*D+1),C[2*b+2*D+1]+=A*Re,z(C,2*b+2*D+1),C[2*b+2*D+2]+=U*Re,z(C,2*b+2*D+2)}for(b=0;b<S;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=S;b<2*S;b++)C[b]=0;return new u(C,0)};function z(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function G(R,S){this.g=R,this.h=S}function ne(R,S){if(F(S))throw Error("division by zero");if(F(R))return new G(E,E);if($(R))return S=ne(O(R),S),new G(O(S.g),O(S.h));if($(S))return S=ne(R,O(S)),new G(O(S.g),S.h);if(30<R.g.length){if($(R)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var C=T,b=S;0>=b.l(R);)C=te(C),b=te(b);var D=M(C,1),U=M(b,1);for(b=M(b,2),C=M(C,2);!F(b);){var A=U.add(b);0>=A.l(R)&&(D=D.add(C),U=A),b=M(b,1),C=M(C,1)}return S=K(R,D.j(S)),new G(D,S)}for(D=E;0<=R.l(S);){for(C=Math.max(1,Math.floor(R.m()/S.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),U=m(C),A=U.j(S);$(A)||0<A.l(R);)C-=b,U=m(C),A=U.j(S);F(U)&&(U=T),D=D.add(U),R=K(R,A)}return new G(D,R)}n.A=function(R){return ne(this,R).h},n.and=function(R){for(var S=Math.max(this.g.length,R.g.length),C=[],b=0;b<S;b++)C[b]=this.i(b)&R.i(b);return new u(C,this.h&R.h)},n.or=function(R){for(var S=Math.max(this.g.length,R.g.length),C=[],b=0;b<S;b++)C[b]=this.i(b)|R.i(b);return new u(C,this.h|R.h)},n.xor=function(R){for(var S=Math.max(this.g.length,R.g.length),C=[],b=0;b<S;b++)C[b]=this.i(b)^R.i(b);return new u(C,this.h^R.h)};function te(R){for(var S=R.g.length+1,C=[],b=0;b<S;b++)C[b]=R.i(b)<<1|R.i(b-1)>>>31;return new u(C,R.h)}function M(R,S){var C=S>>5;S%=32;for(var b=R.g.length-C,D=[],U=0;U<b;U++)D[U]=0<S?R.i(U+C)>>>S|R.i(U+C+1)<<32-S:R.i(U+C);return new u(D,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,t0=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Rs=u}).apply(typeof Wy<"u"?Wy:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n0,ml,r0,Rc,Uf,i0,s0,o0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var I=0;I<c.length-1;I++){var W=c[I];if(!(W in _))break e;_=_[W]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,W={next:function(){if(!I&&_<c.length){var J=_++;return{value:g(J,c[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function E(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function F(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,W,J){for(var ye=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ye[dt-2]=arguments[dt];return g.prototype[W].apply(I,ye)}}function $(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function O(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const W=c.length||0,J=I.length||0;c.length=W+J;for(let ye=0;ye<J;ye++)c[W+ye]=I[ye]}else c.push(I)}}class K{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var te=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function M(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function R(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,g){let _,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(_ in I)c[_]=I[_];for(let J=0;J<C.length;J++)_=C[J],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function D(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){d.setTimeout(()=>{throw c},0)}function A(){var c=ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Re{constructor(){this.h=this.g=null}add(g,_){const I=me.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var me=new K(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ee=!1,ge=new Re,ue=()=>{const c=d.Promise.resolve(void 0);he=()=>{c.then(B)}};var B=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(_){U(_)}var g=me;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ee=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ve=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c})();function $e(c,g){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(te){e:{try{ne(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$e.aa.h.call(this)}}F($e,pe);var Be={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function nt(c,g,_,I,W){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=W,this.key=++Ke,this.da=this.fa=!1}function Ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function on(c){this.src=c,this.g={},this.h=0}on.prototype.add=function(c,g,_,I,W){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var ye=Nr(c,g,I,W);return-1<ye?(g=c[ye],_||(g.fa=!1)):(g=new nt(g,this.src,J,!!I,W),g.fa=_,c.push(g)),g};function oi(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],W=Array.prototype.indexOf.call(I,g,void 0),J;(J=0<=W)&&Array.prototype.splice.call(I,W,1),J&&(Ge(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Nr(c,g,_,I){for(var W=0;W<c.length;++W){var J=c[W];if(!J.da&&J.listener==g&&J.capture==!!_&&J.ha==I)return W}return-1}var yn="closure_lm_"+(1e6*Math.random()|0),Vi={};function Fs(c,g,_,I,W){if(Array.isArray(g)){for(var J=0;J<g.length;J++)Fs(c,g[J],_,I,W);return null}return _=li(_),c&&c[Ne]?c.K(g,_,m(I)?!!I.capture:!1,W):Fi(c,g,_,!1,I,W)}function Fi(c,g,_,I,W,J){if(!g)throw Error("Invalid event type");var ye=m(W)?!!W.capture:!!W,dt=Qn(c);if(dt||(c[yn]=dt=new on(c)),_=dt.add(g,_,I,ye,J),_.proxy)return _;if(I=Ro(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Ve||(W=ye),W===void 0&&(W=!1),c.addEventListener(g.toString(),I,W);else if(c.attachEvent)c.attachEvent(mr(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ro(){function c(_){return g.call(c.src,c.listener,_)}const g=Fn;return c}function Ui(c,g,_,I,W){if(Array.isArray(g))for(var J=0;J<g.length;J++)Ui(c,g[J],_,I,W);else I=m(I)?!!I.capture:!!I,_=li(_),c&&c[Ne]?(c=c.i,g=String(g).toString(),g in c.g&&(J=c.g[g],_=Nr(J,_,I,W),-1<_&&(Ge(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete c.g[g],c.h--)))):c&&(c=Qn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Nr(g,_,I,W)),(_=-1<c?g[c]:null)&&pr(_))}function pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ne])oi(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(mr(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=Qn(g))?(oi(_,c),_.h==0&&(_.src=null,g[yn]=null)):Ge(c)}}}function mr(c){return c in Vi?Vi[c]:Vi[c]="on"+c}function Fn(c,g){if(c.da)c=!0;else{g=new $e(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&pr(c),c=_.call(I,g)}return c}function Qn(c){return c=c[yn],c instanceof on?c:null}var ai="__closure_events_fn_"+(1e9*Math.random()>>>0);function li(c){return typeof c=="function"?c:(c[ai]||(c[ai]=function(g){return c.handleEvent(g)}),c[ai])}function mt(){Z.call(this),this.i=new on(this),this.M=this,this.F=null}F(mt,Z),mt.prototype[Ne]=!0,mt.prototype.removeEventListener=function(c,g,_,I){Ui(this,c,g,_,I)};function ht(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new pe(g,c);else if(g instanceof pe)g.target=g.target||c;else{var W=g;g=new pe(I,c),b(g,W)}if(W=!0,_)for(var J=_.length-1;0<=J;J--){var ye=g.g=_[J];W=Yn(ye,I,!0,g)&&W}if(ye=g.g=c,W=Yn(ye,I,!0,g)&&W,W=Yn(ye,I,!1,g)&&W,_)for(J=0;J<_.length;J++)ye=g.g=_[J],W=Yn(ye,I,!1,g)&&W}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)Ge(_[I]);delete c.g[g],c.h--}}this.F=null},mt.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},mt.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function Yn(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,J=0;J<g.length;++J){var ye=g[J];if(ye&&!ye.da&&ye.capture==_){var dt=ye.listener,jt=ye.ha||ye.src;ye.fa&&oi(c.i,ye),W=dt.call(jt,I)!==!1&&W}}return W&&!I.defaultPrevented}function ui(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function Dr(c){c.g=ui(()=>{c.g=null,c.i&&(c.i=!1,Dr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class an extends Z{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Dr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(c){Z.call(this),this.h=c,this.g={}}F(Or,Z);var ji=[];function zi(c){M(c.g,function(g,_){this.g.hasOwnProperty(_)&&pr(g)},c),c.g={}}Or.prototype.N=function(){Or.aa.N.call(this),zi(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=d.JSON.stringify,Bi=d.JSON.parse,Lr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Mr(){}Mr.prototype.h=null;function Vr(c){return c.h||(c.h=c.i())}function $i(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){pe.call(this,"d")}F(Xn,pe);function ci(){pe.call(this,"c")}F(ci,pe);var _n={},Fr=null;function hi(){return Fr=Fr||new mt}_n.La="serverreachability";function js(c){pe.call(this,_n.La,c)}F(js,pe);function N(c){const g=hi();ht(g,new js(g))}_n.STAT_EVENT="statevent";function H(c,g){pe.call(this,_n.STAT_EVENT,c),this.stat=g}F(H,pe);function Q(c){const g=hi();ht(g,new H(g,c))}_n.Ma="timingevent";function ae(c,g){pe.call(this,_n.Ma,c),this.size=g}F(ae,pe);function de(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function Pe(c,g,_,I,W,J){c.info(function(){if(c.g)if(J)for(var ye="",dt=J.split("&"),jt=0;jt<dt.length;jt++){var rt=dt[jt].split("=");if(1<rt.length){var qt=rt[0];rt=rt[1];var Lt=qt.split("_");ye=2<=Lt.length&&Lt[1]=="type"?ye+(qt+"="+rt+"&"):ye+(qt+"=redacted&")}}else ye=null;else ye=J;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+g+`
`+_+`
`+ye})}function we(c,g,_,I,W,J,ye){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+g+`
`+_+`
`+J+" "+ye})}function Ee(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(c,_)+(I?" "+I:"")})}function be(c,g){c.info(function(){return"TIMEOUT: "+g})}Ie.prototype.info=function(){};function De(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ye=1;ye<W.length;ye++)W[ye]=""}}}}return Us(_)}catch{return g}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qe;function _t(){}F(_t,Mr),_t.prototype.g=function(){return new XMLHttpRequest},_t.prototype.i=function(){return{}},Qe=new _t;function yt(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var ut={},Rn={};function Jn(c,g,_){c.L=1,c.v=Ki(jn(g)),c.m=_,c.P=!0,Pn(c,null)}function Pn(c,g){c.F=Date.now(),at(c),c.A=jn(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Qi(_.i,"t",I),c.C=0,_=c.j.J,c.h=new gt,c.g=wu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new an(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(ji[0]=W.toString()),W=ji);for(var J=0;J<W.length;J++){var ye=Fs(_,W[J],I||g.handleEvent,!1,g.h||g);if(!ye)break;g.g[ye.key]=ye}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),N(),Pe(c.i,c.u,c.A,c.l,c.R,c.m)}yt.prototype.ca=function(c){c=c.target;const g=this.M;g&&kn(c)==3?g.j():this.Y(c)},yt.prototype.Y=function(c){try{if(c==this.g)e:{const Lt=kn(this.g);var g=this.g.Ba();const nr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||Lt!=4||g==7||(g==8||0>=nr?N(3):N(2)),er(this);var _=this.g.Z();this.X=_;t:if(wn(this)){var I=Ma(this.g);c="";var W=I.length,J=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),Un(this);var ye="";break t}this.h.i=new d.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(J&&g==W-1)});I.length=0,this.h.g+=c,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=_==200,we(this.i,this.u,this.A,this.l,this.R,Lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,jt=this.g;if((dt=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(dt)){var rt=dt;break t}}rt=null}if(_=rt)Ee(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xt(this,_);else{this.o=!1,this.s=3,Q(12),He(this),Un(this);break e}}if(this.P){_=!0;let Bn;for(;!this.J&&this.C<ye.length;)if(Bn=zs(this,ye),Bn==Rn){Lt==4&&(this.s=4,Q(14),_=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==ut){this.s=4,Q(15),Ee(this.i,this.l,ye,"[Invalid Chunk]"),_=!1;break}else Ee(this.i,this.l,Bn,null),xt(this,Bn);if(wn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ye.length!=0||this.h.h||(this.s=1,Q(16),_=!1),this.o=this.o&&_,!_)Ee(this.i,this.l,ye,"[Invalid Chunked Response]"),He(this),Un(this);else if(0<ye.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Fa(qt),qt.M=!0,Q(11))}}else Ee(this.i,this.l,ye,null),xt(this,ye);Lt==4&&He(this),this.o&&!this.J&&(Lt==4?Vo(this.j,this):(this.o=!1,at(this)))}else No(this.g),_==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Q(12)):(this.s=0,Q(13)),He(this),Un(this)}}}catch{}finally{}};function wn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zs(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?Rn:(_=Number(g.substring(_,I)),isNaN(_)?ut:(I+=1,I+_>g.length?Rn:(g=g.slice(I,I+_),c.C=I+_,g)))}yt.prototype.cancel=function(){this.J=!0,He(this)};function at(c){c.S=Date.now()+c.I,Zn(c,c.I)}function Zn(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=de(T(c.ba,c),g)}function er(c){c.B&&(d.clearTimeout(c.B),c.B=null)}yt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(be(this.i,this.A),this.L!=2&&(N(),Q(17)),He(this),this.s=2,Un(this)):Zn(this,this.S-c)};function Un(c){c.j.G==0||c.J||Vo(c.j,c)}function He(c){er(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,zi(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function xt(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Wt(_.h,c))){if(!c.K&&Wt(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Mo(_),Er(_);else break e;Lo(_),Q(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(T(_.Za,_),6e3));if(1>=di(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yi(_,11)}else if((c.K||_.g==c)&&Mo(_),!z(g))for(W=_.Da.g.parse(g),g=0;g<W.length;g++){let rt=W[g];if(_.T=rt[0],rt=rt[1],_.G==2)if(rt[0]=="c"){_.K=rt[1],_.ia=rt[2];const qt=rt[3];qt!=null&&(_.la=qt,_.j.info("VER="+_.la));const Lt=rt[4];Lt!=null&&(_.Aa=Lt,_.j.info("SVER="+_.Aa));const nr=rt[5];nr!=null&&typeof nr=="number"&&0<nr&&(I=1.5*nr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const Bn=c.g;if(Bn){const Gs=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var J=I.h;J.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Bs(J,J.h),J.h=null))}if(I.D){const Uo=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(I.ya=Uo,vt(I.I,I.D,Uo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ye=c;if(I.qa=_u(I,I.J?I.ia:null,I.W),ye.K){au(I.h,ye);var dt=ye,jt=I.L;jt&&(dt.I=jt),dt.B&&(er(dt),at(dt)),I.g=ye}else Ks(I);0<_.i.length&&Br(_)}else rt[0]!="stop"&&rt[0]!="close"||yi(_,7);else _.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?yi(_,7):Zt(_):rt[0]!="noop"&&_.l&&_.l.ta(rt),_.v=0)}}N(4)}catch{}}var gr=class{constructor(c,g){this.g=c,this.map=g}};function En(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function st(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function Wt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Bs(c,g){c.g?c.g.add(g):c.h=g}function au(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}En.prototype.cancel=function(){if(this.i=lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function lu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return $(c.i)}function Po(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function Ao(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function Hi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ao(c),I=Po(c),W=I.length,J=0;J<W;J++)g.call(void 0,I[J],_&&_[J],c)}var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),W=null;if(0<=I){var J=c[_].substring(0,I);W=c[_].substring(I+1)}else J=c[_];g(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function fi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fi){this.h=c.h,Hs(this,c.j),this.o=c.o,this.g=c.g,Wi(this,c.s),this.l=c.l;var g=c.i,_=new Ur;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),qi(this,_),this.m=c.m}else c&&(g=String(c).match($s))?(this.h=!1,Hs(this,g[1]||"",!0),this.o=tt(g[2]||""),this.g=tt(g[3]||"",!0),Wi(this,g[4]),this.l=tt(g[5]||"",!0),qi(this,g[6]||"",!0),this.m=tt(g[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}fi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Gi(g,ko,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Gi(g,ko,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Gi(_,_.charAt(0)=="/"?hu:cu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Gi(_,Da)),c.join("")};function jn(c){return new fi(c)}function Hs(c,g,_){c.j=_?tt(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Wi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function qi(c,g,_){g instanceof Ur?(c.i=g,jr(c.i,c.h)):(_||(g=Gi(g,du)),c.i=new Ur(g,c.h))}function vt(c,g,_){c.i.set(g,_)}function Ki(c){return vt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function tt(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,uu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ko=/[#\/\?@]/g,cu=/[#\?:]/g,hu=/[#\?]/g,du=/[#\?@]/g,Da=/#/g;function Ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Jt(c){c.g||(c.g=new Map,c.h=0,c.i&&Dh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Ur.prototype,n.add=function(c,g){Jt(this),this.i=null,c=tr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function yr(c,g){Jt(c),g=tr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function vr(c,g){return Jt(c),g=tr(c,g),c.g.has(g)}n.forEach=function(c,g){Jt(this),this.g.forEach(function(_,I){_.forEach(function(W){c.call(g,W,I,this)},this)},this)},n.na=function(){Jt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const W=c[I];for(let J=0;J<W.length;J++)_.push(g[I])}return _},n.V=function(c){Jt(this);let g=[];if(typeof c=="string")vr(this,c)&&(g=g.concat(this.g.get(tr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Jt(this),this.i=null,c=tr(this,c),vr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Qi(c,g,_){yr(c,g),0<_.length&&(c.i=null,c.g.set(tr(c,g),$(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const J=encodeURIComponent(String(I)),ye=this.V(I);for(I=0;I<ye.length;I++){var W=J;ye[I]!==""&&(W+="="+encodeURIComponent(String(ye[I]))),c.push(W)}}return this.i=c.join("&")};function tr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function jr(c,g){g&&!c.j&&(Jt(c),c.i=null,c.g.forEach(function(_,I){var W=I.toLowerCase();I!=W&&(yr(this,I),Qi(this,W,_))},c)),c.j=g}function Oh(c,g){const _=new Ie;if(d.Image){const I=new Image;I.onload=P(An,_,"TestLoadImage: loaded",!0,g,I),I.onerror=P(An,_,"TestLoadImage: error",!1,g,I),I.onabort=P(An,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=P(An,_,"TestLoadImage: timeout",!1,g,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function fu(c,g){const _=new Ie,I=new AbortController,W=setTimeout(()=>{I.abort(),An(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(J=>{clearTimeout(W),J.ok?An(_,"TestPingServer: ok",!0,g):An(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),An(_,"TestPingServer: error",!1,g)})}function An(c,g,_,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(_)}catch{}}function Lh(){this.g=new Lr}function pu(c,g,_){const I=_||"";try{Hi(c,function(W,J){let ye=W;m(W)&&(ye=Us(W)),g.push(I+J+"="+encodeURIComponent(ye))})}catch(W){throw g.push(I+"type="+encodeURIComponent("_badmap")),W}}function pi(c){this.l=c.Ub||null,this.j=c.eb||!1}F(pi,Mr),pi.prototype.g=function(){return new Ws(this.l,this.j)},pi.prototype.i=(function(c){return function(){return c}})({});function Ws(c,g){mt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ws,mt),n=Ws.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,wr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?_r(this):wr(this),this.readyState==3&&mu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,_r(this))},n.Qa=function(c){this.g&&(this.response=c,_r(this))},n.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function wr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function mi(c){let g="";return M(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function Yi(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=mi(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):vt(c,g,_))}function St(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(St,mt);var Mh=/^https?$/i,Oa=["POST","PUT"];n=St.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qe.g(),this.v=this.o?Vr(this.o):Vr(Qe),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(J){qs(this,J);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)_.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())_.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),W=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Oa,g,void 0))||I||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ye]of _)this.g.setRequestHeader(J,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bo(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){qs(this,J)}};function qs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,xo(c),zn(c)}function xo(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ht(this,"complete"),ht(this,"abort"),zn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zn(this,!0)),St.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},n.bb=function(){La(this)};function La(c){if(c.h&&typeof u<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)ui(c.Ea,0,c);else if(ht(c,"readystatechange"),kn(c)==4){c.h=!1;try{const ye=c.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=ye===0){var W=String(c.D).match($s)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),I=!Mh.test(W?W.toLowerCase():"")}_=I}if(_)ht(c,"complete"),ht(c,"success");else{c.m=6;try{var J=2<kn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",xo(c)}}finally{zn(c)}}}}function zn(c,g){if(c.g){bo(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||ht(c,"ready");try{_.onreadystatechange=I}catch{}}}function bo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Bi(g)}};function Ma(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function No(c){const g={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(z(c[I]))continue;var _=D(c[I]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=g[W]||[];g[W]=J,J.push(_)}R(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Va(c){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,c),this.cb=zr("retryDelaySeedMs",1e4,c),this.Wa=zr("forwardChannelMaxRetries",2,c),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new En(c&&c.concurrentRequestLimit),this.Da=new Lh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Va.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,I){Q(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=_u(this,null,this.W),Br(this)};function Zt(c){if(Do(c),c.G==3){var g=c.U++,_=jn(c.I);if(vt(_,"SID",c.K),vt(_,"RID",g),vt(_,"TYPE","terminate"),gi(c,_),g=new yt(c,c.j,g),g.L=2,g.v=Ki(jn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=wu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),at(g)}vu(c)}function Er(c){c.g&&(Fa(c),c.g.cancel(),c.g=null)}function Do(c){Er(c),c.u&&(d.clearTimeout(c.u),c.u=null),Mo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Br(c){if(!st(c.h)&&!c.s){c.s=!0;var g=c.Ga;he||ue(),ee||(he(),ee=!0),ge.add(g,c),c.B=0}}function Vh(c,g){return di(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=de(T(c.Ga,c,g),yu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new yt(this,this.j,c);let J=this.o;if(this.S&&(J?(J=S(J),b(J,this.S)):J=this.S),this.m!==null||this.O||(W.H=J,J=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Xi(this,W,g),_=jn(this.I),vt(_,"RID",c),vt(_,"CVER",22),this.D&&vt(_,"X-HTTP-Session-Id",this.D),gi(this,_),J&&(this.O?g="headers="+encodeURIComponent(String(mi(J)))+"&"+g:this.m&&Yi(_,this.m,J)),Bs(this.h,W),this.Ua&&vt(_,"TYPE","init"),this.P?(vt(_,"$req",g),vt(_,"SID","null"),W.T=!0,Jn(W,_,null)):Jn(W,_,g),this.G=2}}else this.G==3&&(c?Oo(this,c):this.i.length==0||st(this.h)||Oo(this))};function Oo(c,g){var _;g?_=g.l:_=c.U++;const I=jn(c.I);vt(I,"SID",c.K),vt(I,"RID",_),vt(I,"AID",c.T),gi(c,I),c.m&&c.o&&Yi(I,c.m,c.o),_=new yt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Xi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Bs(c.h,_),Jn(_,I,g)}function gi(c,g){c.H&&M(c.H,function(_,I){vt(g,I,_)}),c.l&&Hi({},function(_,I){vt(g,I,_)})}function Xi(c,g,_){_=Math.min(c.i.length,_);var I=c.l?T(c.l.Na,c.l,c):null;e:{var W=c.i;let J=-1;for(;;){const ye=["count="+_];J==-1?0<_?(J=W[0].g,ye.push("ofs="+J)):J=0:ye.push("ofs="+J);let dt=!0;for(let jt=0;jt<_;jt++){let rt=W[jt].g;const qt=W[jt].map;if(rt-=J,0>rt)J=Math.max(0,W[jt].g-100),dt=!1;else try{pu(qt,ye,"req"+rt+"_")}catch{I&&I(qt)}}if(dt){I=ye.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function Ks(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;he||ue(),ee||(he(),ee=!0),ge.add(g,c),c.v=0}}function Lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=de(T(c.Fa,c),yu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=de(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Q(10),Er(this),gu(this))};function Fa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function gu(c){c.g=new yt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=jn(c.qa);vt(g,"RID","rpc"),vt(g,"SID",c.K),vt(g,"AID",c.T),vt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&vt(g,"TO",c.ja),vt(g,"TYPE","xmlhttp"),gi(c,g),c.m&&c.o&&Yi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ki(jn(g)),_.m=null,_.P=!0,Pn(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Er(this),Lo(this),Q(19))};function Mo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Vo(c,g){var _=null;if(c.g==g){Mo(c),Fa(c),c.g=null;var I=2}else if(Wt(c.h,g))_=g.D,au(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;I=hi(),ht(I,new ae(I,_)),Br(c)}else Ks(c);else if(W=g.s,W==3||W==0&&0<g.X||!(I==1&&Vh(c,g)||I==2&&Lo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),W){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function yu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function yi(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),I=c.Xa;const W=!I;I=new fi(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Hs(I,"https"),Ki(I),W?Oh(I.toString(),_):fu(I.toString(),_)}else Q(2);c.G=0,c.l&&c.l.sa(g),vu(c),Do(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Q(2)):(this.j.info("Failed to ping google.com"),Q(1))};function vu(c){if(c.G=0,c.ka=[],c.l){const g=lu(c.h);(g.length!=0||c.i.length!=0)&&(O(c.ka,g),O(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function _u(c,g,_){var I=_ instanceof fi?jn(_):new fi(_);if(I.g!="")g&&(I.g=g+"."+I.g),Wi(I,I.s);else{var W=d.location;I=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var J=new fi(null);I&&Hs(J,I),g&&(J.g=g),W&&Wi(J,W),_&&(J.l=_),I=J}return _=c.D,g=c.ya,_&&g&&vt(I,_,g),vt(I,"VER",c.la),gi(c,I),I}function wu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new St(new pi({eb:_})):new St(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ua(){}n=Ua.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fo(){}Fo.prototype.g=function(c,g){return new Tn(c,g)};function Tn(c,g){mt.call(this),this.g=new Va(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new $r(this)}F(Tn,mt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Zt(this.g)},Tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Us(c),c=_);g.i.push(new gr(g.Ya++,c)),g.G==3&&Br(g)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,Tn.aa.N.call(this)};function Eu(c){Xn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}F(Eu,Xn);function Tu(){ci.call(this),this.status=1}F(Tu,ci);function $r(c){this.g=c}F($r,Ua),$r.prototype.ua=function(){ht(this.g,"a")},$r.prototype.ta=function(c){ht(this.g,new Eu(c))},$r.prototype.sa=function(c){ht(this.g,new Tu)},$r.prototype.ra=function(){ht(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,o0=function(){return new Fo},s0=function(){return hi()},i0=_n,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Rc=Se,je.COMPLETE="complete",r0=je,$i.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ml=$i,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,n0=St}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const qy="@firebase/firestore",Ky="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new fp("@firebase/firestore");function oa(){return mo.logLevel}function _e(n,...e){if(mo.logLevel<=Je.DEBUG){const t=e.map(gp);mo.debug(`Firestore (${Aa}): ${n}`,...t)}}function Di(n,...e){if(mo.logLevel<=Je.ERROR){const t=e.map(gp);mo.error(`Firestore (${Aa}): ${n}`,...t)}}function wa(n,...e){if(mo.logLevel<=Je.WARN){const t=e.map(gp);mo.warn(`Firestore (${Aa}): ${n}`,...t)}}function gp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,a0(n,i,t)}function a0(n,e,t){let i=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Di(i),new Error(i)}function ct(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||a0(e,o,i)}function qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pn.UNAUTHENTICATED)))}shutdown(){}}class S1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class C1{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ps,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ps)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new l0(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class R1{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P1{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new R1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);const i=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Gy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=k1(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function Ze(n,e){return n<e?-1:n>e?1:0}function jf(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),a=e.charAt(i);if(o!==a)return gf(o)===gf(a)?Ze(o,a):gf(o)?1:-1}return Ze(n.length,e.length)}const x1=55296,b1=57343;function gf(n){const e=n.charCodeAt(0);return e>=x1&&e<=b1}function Ea(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="__name__";class Gr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ue(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Gr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ze(e.length,t.length)}static compareSegments(e,t){const i=Gr.isNumericId(e),o=Gr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Gr.extractNumericId(e).compare(Gr.extractNumericId(t)):jf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class At extends Gr{construct(e,t,i){return new At(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new At(t)}static emptyPath(){return new At([])}}const N1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Gr{construct(e,t,i){return new rn(e,t,i)}static isValidIdentifier(e){return N1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qy}static keyField(){return new rn([Qy])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new xe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new xe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(a(),o++)}if(a(),u)throw new xe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(At.fromString(e))}static fromName(e){return new Me(At.fromString(e).popFirst(5))}static empty(){return new Me(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n,e,t){if(!t)throw new xe(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function O1(n,e,t,i){if(e===!0&&i===!0)throw new xe(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yy(n){if(!Me.isDocumentKey(n))throw new xe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function xl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vp(n);throw new xe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,e){const t={typeString:n};return e&&(t.value=e),t}function Kl(n,e){if(!u0(n))throw new xe(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(o&&typeof u!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new xe(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-62135596800,Jy=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Jy);return new It(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xy)throw new xe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Ft("string",It._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new It(0,0))}static max(){return new We(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function L1(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=We.fromTimestamp(i===1e9?new It(t+1,0):new It(t,i));return new As(o,Me.empty(),e)}function M1(n){return new As(n.readTime,n.key,bl)}class As{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new As(We.min(),Me.empty(),bl)}static max(){return new As(We.max(),Me.empty(),bl)}}function V1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:Ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==F1)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,i)=>{t(e)}))}static reject(e){return new re(((t,i)=>{i(e)}))}static waitFor(e){return new re(((t,i)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(f=>i(f)))})),u=!0,a===o&&t()}))}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next((o=>o?re.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new re(((i,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((v=>{u[m]=v,++d,d===a&&i(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new re(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function j1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=-1;function mh(n){return n==null}function Bc(n){return n===0&&1/n==-1/0}function z1(n){return typeof n=="number"&&Number.isInteger(n)&&!Bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="";function B1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zy(e)),e=$1(n.get(t),e);return Zy(e)}function $1(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case c0:t+="";break;default:t+=a}}return t}function Zy(n){return n+c0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _o(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function h0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??nn.RED,this.left=o??nn.EMPTY,this.right=a??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new nn(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(e){return new tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new kr([])}unionWith(e){let t=new Ht(rn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new kr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new d0("Invalid base64 string: "+a):a}})(e);return new sn(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const H1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(ct(!!n,39018),typeof n=="string"){let e=0;const t=H1.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xs(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="server_timestamp",p0="__type__",m0="__previous_value__",g0="__local_write_time__";function wp(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[p0])==null?void 0:i.stringValue)===f0}function gh(n){const e=n.mapValue.fields[m0];return wp(e)?gh(e):e}function Nl(n){const e=ks(n.mapValue.fields[g0].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,i,o,a,u,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const $c="(default)";class Dl{constructor(e,t){this.projectId=e,this.database=t||$c}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__type__",q1="__max__",_c={mapValue:{}},v0="__vector__",Hc="value";function bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wp(n)?4:G1(n)?9007199254740991:K1(n)?10:11:Ue(28295,{value:n})}function ni(n,e){if(n===e)return!0;const t=bs(n);if(t!==bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nl(n).isEqual(Nl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ks(o.timestampValue),d=ks(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return xs(o.bytesValue).isEqual(xs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return Ot(o.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Ot(o.integerValue)===Ot(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Ot(o.doubleValue),d=Ot(a.doubleValue);return u===d?Bc(u)===Bc(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Ea(n.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(ev(u)!==ev(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!ni(u[f],d[f])))return!1;return!0})(n,e);default:return Ue(52216,{left:n})}}function Ol(n,e){return(n.values||[]).find((t=>ni(t,e)))!==void 0}function Ta(n,e){if(n===e)return 0;const t=bs(n),i=bs(e);if(t!==i)return Ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=Ot(a.integerValue||a.doubleValue),f=Ot(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return nv(n.timestampValue,e.timestampValue);case 4:return nv(Nl(n),Nl(e));case 5:return jf(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=xs(a),f=xs(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Ze(d[m],f[m]);if(v!==0)return v}return Ze(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ze(Ot(a.latitude),Ot(u.latitude));return d!==0?d:Ze(Ot(a.longitude),Ot(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return rv(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var T,P,F,$;const d=a.fields||{},f=u.fields||{},m=(T=d[Hc])==null?void 0:T.arrayValue,v=(P=f[Hc])==null?void 0:P.arrayValue,E=Ze(((F=m==null?void 0:m.values)==null?void 0:F.length)||0,(($=v==null?void 0:v.values)==null?void 0:$.length)||0);return E!==0?E:rv(m,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===_c.mapValue&&u===_c.mapValue)return 0;if(a===_c.mapValue)return 1;if(u===_c.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const T=jf(f[E],v[E]);if(T!==0)return T;const P=Ta(d[f[E]],m[v[E]]);if(P!==0)return P}return Ze(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function nv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ze(n,e);const t=ks(n),i=ks(e),o=Ze(t.seconds,i.seconds);return o!==0?o:Ze(t.nanos,i.nanos)}function rv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Ta(t[o],i[o]);if(a)return a}return Ze(t.length,i.length)}function Ia(n){return zf(n)}function zf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=ks(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return xs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=zf(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${zf(t.fields[u])}`;return o+"}"})(n.mapValue):Ue(61005,{value:n})}function Pc(n){switch(bs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(n);return e?16+Pc(e):16;case 5:return 2*n.stringValue.length;case 6:return xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+Pc(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return _o(i.fields,((a,u)=>{o+=a.length+Pc(u)})),o})(n.mapValue);default:throw Ue(13486,{value:n})}}function Bf(n){return!!n&&"integerValue"in n}function Ep(n){return!!n&&"arrayValue"in n}function iv(n){return!!n&&"nullValue"in n}function sv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ac(n){return!!n&&"mapValue"in n}function K1(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[y0])==null?void 0:i.stringValue)===v0}function El(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return _o(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=El(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=El(n.arrayValue.values[t]);return e}return{...n}}function G1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===q1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ac(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(t)}setAll(e){let t=rn.emptyPath(),i={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=d.popLast()}u?i[d.lastSegment()]=El(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Ac(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){_o(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new hr(El(this.value))}}function _0(n){const e=[];return _o(n.fields,((t,i)=>{const o=new rn([t]);if(Ac(i)){const a=_0(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,i,o,a,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,We.min(),We.min(),We.min(),hr.empty(),0)}static newFoundDocument(e,t,i,o){return new mn(e,1,t,We.min(),i,o,0)}static newNoDocument(e,t){return new mn(e,2,t,We.min(),We.min(),hr.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,We.min(),We.min(),hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.position=e,this.inclusive=t}}function ov(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=Me.comparator(Me.fromName(u.referenceValue),t.key):i=Ta(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function av(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ni(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Q1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{}class $t extends w0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new X1(e,t,i):t==="array-contains"?new eC(e,i):t==="in"?new tC(e,i):t==="not-in"?new nC(e,i):t==="array-contains-any"?new rC(e,i):new $t(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new J1(e,i):new Z1(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ta(t,this.value)):t!==null&&bs(this.value)===bs(t)&&this.matchesComparison(Ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends w0{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ri(e,t)}matches(e){return E0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E0(n){return n.op==="and"}function T0(n){return Y1(n)&&E0(n)}function Y1(n){for(const e of n.filters)if(e instanceof ri)return!1;return!0}function $f(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+Ia(n.value);if(T0(n))return n.filters.map((e=>$f(e))).join(",");{const e=n.filters.map((t=>$f(t))).join(",");return`${n.op}(${e})`}}function I0(n,e){return n instanceof $t?(function(i,o){return o instanceof $t&&i.op===o.op&&i.field.isEqual(o.field)&&ni(i.value,o.value)})(n,e):n instanceof ri?(function(i,o){return o instanceof ri&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,u,d)=>a&&I0(u,o.filters[d])),!0):!1})(n,e):void Ue(19439)}function S0(n){return n instanceof $t?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ia(t.value)}`})(n):n instanceof ri?(function(t){return t.op.toString()+" {"+t.getFilters().map(S0).join(" ,")+"}"})(n):"Filter"}class X1 extends $t{constructor(e,t,i){super(e,t,i),this.key=Me.fromName(i.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class J1 extends $t{constructor(e,t){super(e,"in",t),this.keys=C0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Z1 extends $t{constructor(e,t){super(e,"not-in",t),this.keys=C0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function C0(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>Me.fromName(i.referenceValue)))}class eC extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ep(t)&&Ol(t.arrayValue,this.value)}}class tC extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ol(this.value.arrayValue,t)}}class nC extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ol(this.value.arrayValue,t)}}class rC extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ep(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Ol(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t=null,i=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function lv(n,e=null,t=[],i=[],o=null,a=null,u=null){return new iC(n,e,t,i,o,a,u)}function Tp(n){const e=qe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>$f(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ia(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ia(i))).join(",")),e.Te=t}return e.Te}function Ip(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Q1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!I0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!av(n.startAt,e.startAt)&&av(n.endAt,e.endAt)}function Hf(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t=null,i=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sC(n,e,t,i,o,a,u,d){return new yh(n,e,t,i,o,a,u,d)}function Sp(n){return new yh(n)}function uv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oC(n){return n.collectionGroup!==null}function Tl(n){const e=qe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ht(rn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new qc(a,i))})),t.has(rn.keyField().canonicalString())||e.Ie.push(new qc(rn.keyField(),i))}return e.Ie}function Qr(n){const e=qe(n);return e.Ee||(e.Ee=aC(e,Tl(n))),e.Ee}function aC(n,e){if(n.limitType==="F")return lv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new qc(o.field,a)}));const t=n.endAt?new Wc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Wc(n.startAt.position,n.startAt.inclusive):null;return lv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Wf(n,e,t){return new yh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vh(n,e){return Ip(Qr(n),Qr(e))&&n.limitType===e.limitType}function R0(n){return`${Tp(Qr(n))}|lt:${n.limitType}`}function aa(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>S0(o))).join(", ")}]`),mh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Ia(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Ia(o))).join(",")),`Target(${i})`})(Qr(n))}; limitType=${n.limitType})`}function _h(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Me.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of Tl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(u,d,f){const m=ov(u,d,f);return u.inclusive?m<=0:m<0})(i.startAt,Tl(i),o)||i.endAt&&!(function(u,d,f){const m=ov(u,d,f);return u.inclusive?m>=0:m>0})(i.endAt,Tl(i),o))})(n,e)}function lC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function P0(n){return(e,t)=>{let i=!1;for(const o of Tl(n)){const a=uC(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function uC(n,e,t){const i=n.field.isKeyField()?Me.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?Ta(f,m):Ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ue(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return h0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new kt(Me.comparator);function Oi(){return cC}const A0=new kt(Me.comparator);function gl(...n){let e=A0;for(const t of n)e=e.insert(t.key,t);return e}function k0(n){let e=A0;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function lo(){return Il()}function x0(){return Il()}function Il(){return new wo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const hC=new kt(Me.comparator),dC=new Ht(Me.comparator);function et(...n){let e=dC;for(const t of n)e=e.add(t);return e}const fC=new Ht(Ze);function pC(){return fC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function b0(n){return{integerValue:""+n}}function mC(n,e){return z1(e)?b0(e):Cp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function gC(n,e,t){return n instanceof Kc?(function(o,a){const u={fields:{[p0]:{stringValue:f0},[g0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&wp(a)&&(a=gh(a)),a&&(u.fields[m0]=a),{mapValue:u}})(t,e):n instanceof Ll?D0(n,e):n instanceof Ml?O0(n,e):(function(o,a){const u=N0(o,a),d=cv(u)+cv(o.Ae);return Bf(u)&&Bf(o.Ae)?b0(d):Cp(o.serializer,d)})(n,e)}function yC(n,e,t){return n instanceof Ll?D0(n,e):n instanceof Ml?O0(n,e):t}function N0(n,e){return n instanceof Gc?(function(i){return Bf(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Kc extends wh{}class Ll extends wh{constructor(e){super(),this.elements=e}}function D0(n,e){const t=L0(e);for(const i of n.elements)t.some((o=>ni(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Ml extends wh{constructor(e){super(),this.elements=e}}function O0(n,e){let t=L0(e);for(const i of n.elements)t=t.filter((o=>!ni(o,i)));return{arrayValue:{values:t}}}class Gc extends wh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function cv(n){return Ot(n.integerValue||n.doubleValue)}function L0(n){return Ep(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function vC(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Ll&&o instanceof Ll||i instanceof Ml&&o instanceof Ml?Ea(i.elements,o.elements,ni):i instanceof Gc&&o instanceof Gc?ni(i.Ae,o.Ae):i instanceof Kc&&o instanceof Kc})(n.transform,e.transform)}class _C{constructor(e,t){this.version=e,this.transformResults=t}}class ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Eh{}function M0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new F0(n.key,ki.none()):new Gl(n.key,n.data,ki.none());{const t=n.data,i=hr.empty();let o=new Ht(rn.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Eo(n.key,i,new kr(o.toArray()),ki.none())}}function wC(n,e,t){n instanceof Gl?(function(o,a,u){const d=o.value.clone(),f=dv(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Eo?(function(o,a,u){if(!kc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=dv(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(V0(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Sl(n,e,t,i){return n instanceof Gl?(function(a,u,d,f){if(!kc(a.precondition,u))return d;const m=a.value.clone(),v=fv(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof Eo?(function(a,u,d,f){if(!kc(a.precondition,u))return d;const m=fv(a.fieldTransforms,f,u),v=u.data;return v.setAll(V0(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(a,u,d){return kc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function EC(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=N0(i.transform,o||null);a!=null&&(t===null&&(t=hr.empty()),t.set(i.field,a))}return t||null}function hv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ea(i,o,((a,u)=>vC(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gl extends Eh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Eo extends Eh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function V0(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function dv(n,e,t){const i=new Map;ct(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);i.set(a.field,yC(u,d,t[o]))}return i}function fv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,gC(a,u,e))}return i}class F0 extends Eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends Eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&wC(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Sl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Sl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=x0();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=M0(u,d);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(We.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),et())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,((t,i)=>hv(t,i)))&&Ea(this.baseMutations,e.baseMutations,((t,i)=>hv(t,i)))}}class Rp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return hC})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Rp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,it;function RC(n){switch(n){case oe.OK:return Ue(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function U0(n){if(n===void 0)return Di("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Vt.OK:return oe.OK;case Vt.CANCELLED:return oe.CANCELLED;case Vt.UNKNOWN:return oe.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return oe.INTERNAL;case Vt.UNAVAILABLE:return oe.UNAVAILABLE;case Vt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Vt.NOT_FOUND:return oe.NOT_FOUND;case Vt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Vt.ABORTED:return oe.ABORTED;case Vt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Vt.DATA_LOSS:return oe.DATA_LOSS;default:return Ue(39323,{code:n})}}(it=Vt||(Vt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Rs([4294967295,4294967295],0);function pv(n){const e=PC().encode(n),t=new t0;return t.update(e),new Uint8Array(t.digest())}function mv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Rs([t,i],0),new Rs([o,a],0)]}class Pp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new yl(`Invalid padding: ${t}`);if(i<0)throw new yl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new yl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rs.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Rs.fromNumber(i)));return o.compare(AC)===1&&(o=new Rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=pv(e),[i,o]=mv(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);if(!this.we(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Pp(a,o,t);return i.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=pv(e),[i,o]=mv(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(i,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Th(We.min(),o,new kt(Ze),Oi(),et())}}class Ql{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ql(i,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class j0{constructor(e,t){this.targetId=e,this.Ce=t}}class z0{constructor(e,t,i=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class gv{constructor(){this.ve=0,this.Fe=yv(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),i=et();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ue(38017,{changeType:a})}})),new Ql(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=yv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Oi(),this.Je=wc(),this.He=wc(),this.Ye=new kt(Ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Hf(a))if(i===0){const u=new Me(a.path);this.et(t,u,mn.newNoDocument(u,We.min()))}else ct(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=xs(i).toUint8Array()}catch(f){if(f instanceof d0)return wa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Pp(u,o,a)}catch(f){return wa(f instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Hf(d.target)){const f=new Me(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,mn.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let i=et();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new Th(e,t,this.Ye,this.je,i);return this.je=Oi(),this.Je=wc(),this.He=wc(),this.Ye=new kt(Ze),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new gv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ht(Ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ht(Ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wc(){return new kt(Me.comparator)}function yv(){return new kt(Me.comparator)}const xC={asc:"ASCENDING",desc:"DESCENDING"},bC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NC={and:"AND",or:"OR"};class DC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qf(n,e){return n.useProto3Json||mh(e)?e:{value:e}}function Qc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OC(n,e){return Qc(n,e.toTimestamp())}function Yr(n){return ct(!!n,49232),We.fromTimestamp((function(t){const i=ks(t);return new It(i.seconds,i.nanos)})(n))}function Ap(n,e){return Kf(n,e).canonicalString()}function Kf(n,e){const t=(function(o){return new At(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function $0(n){const e=At.fromString(n);return ct(G0(e),10190,{key:e.toString()}),e}function Gf(n,e){return Ap(n.databaseId,e.path)}function yf(n,e){const t=$0(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(W0(t))}function H0(n,e){return Ap(n.databaseId,e)}function LC(n){const e=$0(n);return e.length===4?At.emptyPath():W0(e)}function Qf(n){return new At(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W0(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vv(n,e,t){return{name:Gf(n,e),fields:t.value.mapValue.fields}}function MC(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(ct(v===void 0||typeof v=="string",58123),sn.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),sn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const v=m.code===void 0?oe.UNKNOWN:U0(m.code);return new xe(v,m.message||"")})(u);t=new z0(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=yf(n,i.document.name),a=Yr(i.document.updateTime),u=i.document.createTime?Yr(i.document.createTime):We.min(),d=new hr({mapValue:{fields:i.document.fields}}),f=mn.newFoundDocument(o,a,u,d),m=i.targetIds||[],v=i.removedTargetIds||[];t=new xc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=yf(n,i.document),a=i.readTime?Yr(i.readTime):We.min(),u=mn.newNoDocument(o,a),d=i.removedTargetIds||[];t=new xc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=yf(n,i.document),a=i.removedTargetIds||[];t=new xc([],a,o,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new CC(o,a),d=i.targetId;t=new j0(d,u)}}return t}function VC(n,e){let t;if(e instanceof Gl)t={update:vv(n,e.key,e.value)};else if(e instanceof F0)t={delete:Gf(n,e.key)};else if(e instanceof Eo)t={update:vv(n,e.key,e.data),updateMask:qC(e.fieldMask)};else{if(!(e instanceof TC))return Ue(16599,{Vt:e.type});t={verify:Gf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,u){const d=u.transform;if(d instanceof Kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ll)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gc)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ue(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:OC(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)})(n,e.precondition)),t}function FC(n,e){return n&&n.length>0?(ct(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?Yr(o.updateTime):Yr(a);return u.isEqual(We.min())&&(u=Yr(a)),new _C(u,o.transformResults||[])})(t,e)))):[]}function UC(n,e){return{documents:[H0(n,e.path)]}}function jC(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=H0(n,o);const a=(function(m){if(m.length!==0)return K0(ri.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((v=>(function(T){return{field:la(T.field),direction:$C(T.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=qf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function zC(n){let e=LC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ct(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(E){const T=q0(E);return T instanceof ri&&T0(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((T=>(function(F){return new qc(ua(F.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let T;return T=typeof E=="object"?E.value:E,mh(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(E){const T=!!E.before,P=E.values||[];return new Wc(P,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(E){const T=!E.before,P=E.values||[];return new Wc(P,T)})(t.endAt)),sC(e,o,u,a,d,"F",f,m)}function BC(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function q0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ua(t.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ua(t.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ua(t.unaryFilter.field);return $t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ua(t.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $t.create(ua(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ri.create(t.compositeFilter.filters.map((i=>q0(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(n):Ue(30097,{filter:n})}function $C(n){return xC[n]}function HC(n){return bC[n]}function WC(n){return NC[n]}function la(n){return{fieldPath:n.canonicalString()}}function ua(n){return rn.fromServerFormat(n.fieldPath)}function K0(n){return n instanceof $t?(function(t){if(t.op==="=="){if(sv(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NAN"}};if(iv(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sv(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NOT_NAN"}};if(iv(t.value))return{unaryFilter:{field:la(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(t.field),op:HC(t.op),value:t.value}}})(n):n instanceof ri?(function(t){const i=t.getFilters().map((o=>K0(o)));return i.length===1?i[0]:{compositeFilter:{op:WC(t.op),filters:i}}})(n):Ue(54877,{filter:n})}function qC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function G0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,i,o,a=We.min(),u=We.min(),d=sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.yt=e}}function GC(n){const e=zC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.Cn=new YC}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(As.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class YC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ht(At.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ht(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Q0,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sa(0)}static cr(){return new Sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="LruGarbageCollector",XC=1048576;function Ev([n,e],[t,i]){const o=Ze(n,t);return o===0?Ze(e,i):o}class JC{constructor(e){this.Ir=e,this.buffer=new Ht(Ev),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ev(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(wv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xa(t)?_e(wv,"Ignoring IndexedDB error during garbage collection: ",t):await ka(t)}await this.Vr(3e5)}))}}class eR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(ph.ce);const i=new JC(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(_v)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,t)))).next((E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(m=Date.now(),oa()<=Je.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function tR(n,e){return new eR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.changes=new wo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Sl(i.mutation,o,kr.empty(),It.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,et()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=et()){const o=lo();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let u=gl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=lo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,et())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,i,o){let a=Oi();const u=Il(),d=(function(){return Il()})();return t.forEach(((f,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Eo)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Sl(v.mutation,m,v.mutation.getFieldMask(),It.now())):u.set(m.key,kr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>u.set(m,v))),t.forEach(((m,v)=>d.set(m,new rR(v,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Il();let o=new kt(((u,d)=>u-d)),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=i.get(f)||kr.empty();v=d.applyToLocalView(m,v),i.set(f,v);const E=(o.get(d.batchId)||et()).add(f);o=o.insert(d.batchId,E)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,E=x0();v.forEach((T=>{if(!a.has(T)){const P=M0(t.get(T),i.get(T));P!==null&&E.set(T,P),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return re.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):re.resolve(lo());let d=bl,f=a;return u.next((m=>re.forEach(m,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,et()))).next((v=>({batchId:d,changes:k0(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next((i=>{let o=gl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=gl();return this.indexManager.getCollectionParents(e,a).next((d=>re.forEach(d,(f=>{const m=(function(E,T){return new yh(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((v=>{v.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((u=>{a.forEach(((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,mn.newInvalidDocument(v)))}));let d=gl();return u.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&Sl(v.mutation,m,kr.empty(),It.now()),_h(t,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Yr(o.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:GC(o.bundledQuery),readTime:Yr(o.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.overlays=new kt(Me.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=lo();return re.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.St(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const o=lo(),a=t.length+1,u=new Me(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new kt(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=lo(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=lo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=o)););return re.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new SC(t,i));let a=this.qr.get(t);a===void 0&&(a=et(),this.qr.set(t,a)),this.qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Qr=new Ht(Yt.$r),this.Ur=new Ht(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Yt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Yt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Me(new At([])),i=new Yt(t,e),o=new Yt(t,e+1),a=[];return this.Ur.forEachInRange([i,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Me(new At([])),i=new Yt(t,e),o=new Yt(t,e+1);let a=et();return this.Ur.forEachInRange([i,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Yt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Yt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Me.comparator(e.key,t.key)||Ze(e.Yr,t.Yr)}static Kr(e,t){return Ze(e.Yr,t.Yr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Yt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new IC(a,t,i,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Yt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),a=o<0?0:o;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?_p:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Yt(t,0),o=new Yt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,o],(u=>{const d=this.Xr(u.Yr);a.push(d)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ht(Ze);return t.forEach((o=>{const a=new Yt(o,0),u=new Yt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{i=i.add(d.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Me.isDocumentKey(a)||(a=a.child(""));const u=new Yt(new Me(a),0);let d=new Ht(Ze);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)}),u),re.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ct(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(t.mutations,(o=>{const a=new Yt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Yt(t,0),o=this.Zr.firstAfterOrEqual(i);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.ri=e,this.docs=(function(){return new kt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let i=Oi();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():mn.newInvalidDocument(o))})),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Oi();const u=t.path,d=new Me(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||V1(M1(v),i)<=0||(o.has(v.key)||_h(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ue(9500)}ii(e,t){return re.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new cR(this)}getSize(e){return re.resolve(this.size)}}class cR extends nR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.persistence=e,this.si=new wo((t=>Tp(t)),Ip),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=Sa.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Sa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),re.waitFor(a).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new aR,this.referenceDelegate=e(this),this.Pi=new hR(this),this.indexManager=new QC,this.remoteDocumentCache=(function(o){return new uR(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new KC(t),this.Ii=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new lR(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){_e("MemoryPersistence","Starting transaction:",e);const o=new dR(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class dR extends U1{constructor(e){super(),this.currentSequenceNumber=e}}class xp{constructor(e){this.persistence=e,this.Ri=new kp,this.Vi=null}static mi(e){return new xp(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const o=Me.fromPath(i);return this.gi(e,o).next((a=>{a||t.removeEntry(o,We.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Yc{constructor(e,t){this.persistence=e,this.pi=new wo((i=>B1(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=tR(this,t)}static mi(e,t){return new Yc(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((i,o)=>this.br(e,i,o).next((a=>a?re.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((d=>{d||(i++,a.removeEntry(u,We.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pc(e.data.value)),t}br(e,t,i){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return re.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=et(),o=et();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new bp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sS()?8:j1(gn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,o,i).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new fR;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(oa()<=Je.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",aa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(oa()<=Je.DEBUG&&_e("QueryEngine","Query:",aa(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(oa()<=Je.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",aa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(t))):re.resolve())}ys(e,t){if(uv(t))return re.resolve(null);let i=Qr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Wf(t,null,"F"),i=Qr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const u=et(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const m=this.Ds(t,d);return this.Cs(t,m,u,f.readTime)?this.ys(e,Wf(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ws(e,t,i,o){return uv(t)||o.isEqual(We.min())?re.resolve(null):this.ps.getDocuments(e,i).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,i,o)?re.resolve(null):(oa()<=Je.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),aa(t)),this.vs(e,u,t,L1(o,bl)).next((d=>d)))}))}Ds(e,t){let i=new Ht(P0(e));return t.forEach(((o,a)=>{_h(e,a)&&(i=i.add(a))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,i){return oa()<=Je.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",aa(t)),this.ps.getDocumentsMatchingQuery(e,t,As.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="LocalStore",mR=3e8;class gR{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new kt(Ze),this.xs=new wo((a=>Tp(a)),Ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function yR(n,e,t,i){return new gR(n,e,t,i)}async function X0(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const u=[],d=[];let f=et();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function vR(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,v){const E=m.batch,T=E.keys();let P=re.resolve();return T.forEach((F=>{P=P.next((()=>v.getEntry(f,F))).next(($=>{const O=m.docVersions.get(F);ct(O!==null,48541),$.version.compareTo(O)<0&&(E.applyToRemoteDocument($,m),$.isValidDocument()&&($.setReadTime(m.commitVersion),v.addEntry($)))}))})),P.next((()=>d.mutationQueue.removeMutationBatch(f,E)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=et();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function J0(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function _R(n,e){const t=qe(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((v,E)=>{const T=o.get(E);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(a,v.addedDocuments,E))));let P=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?P=P.withResumeToken(sn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,i)),o=o.insert(E,P),(function($,O,K){return $.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=mR?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(T,P,v)&&d.push(t.Pi.updateTargetData(a,P))}));let f=Oi(),m=et();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(wR(a,u,e.documentUpdates).next((v=>{f=v.ks,m=v.qs}))),!i.isEqual(We.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next((E=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i)));d.push(v)}return re.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Ms=o,a)))}function wR(n,e,t){let i=et(),o=et();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let u=Oi();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(We.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):_e(Np,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function ER(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=_p),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function TR(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((a=>a?(o=a,re.resolve(o)):t.Pi.allocateTargetId(i).next((u=>(o=new Es(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Yf(n,e,t){const i=qe(n),o=i.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!xa(u))throw u;_e(Np,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Tv(n,e,t){const i=qe(n);let o=We.min(),a=et();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,v){const E=qe(f),T=E.xs.get(v);return T!==void 0?re.resolve(E.Ms.get(T)):E.Pi.getTargetData(m,v)})(i,u,Qr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?o:We.min(),t?a:et()))).next((d=>(IR(i,lC(e),d),{documents:d,Qs:a})))))}function IR(n,e,t){let i=n.Os.get(e)||We.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Os.set(e,i)}class Iv{constructor(){this.activeTargetIds=pC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SR{constructor(){this.Mo=new Iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Iv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class Cv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(Sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(Sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function Xf(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="RestConnection",RR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===$c?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,a){const u=Xf(),d=this.zo(e,t.toUriEncodedString());_e(vf,`Sending RPC '${e}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(d),v=Ra(m);return this.Jo(e,d,f,i,v).then((E=>(_e(vf,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw wa(vf,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",i),E}))}Ho(e,t,i,o,a,u){return this.Go(e,t,i,o,a)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Aa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const i=RR[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class kR extends PR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,a){const u=Xf();return new Promise(((d,f)=>{const m=new n0;m.setWithCredentials(!0),m.listenOnce(r0.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Rc.NO_ERROR:const E=m.getResponseJson();_e(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case Rc.TIMEOUT:_e(dn,`RPC '${e}' ${u} timed out`),f(new xe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const T=m.getStatus();if(_e(dn,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let P=m.getResponseJson();Array.isArray(P)&&(P=P[0]);const F=P==null?void 0:P.error;if(F&&F.status&&F.message){const $=(function(K){const z=K.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(z)>=0?z:oe.UNKNOWN})(F.status);f(new xe($,F.message))}else f(new xe(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new xe(oe.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{_e(dn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);_e(dn,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,i,15)}))}T_(e,t,i){const o=Xf(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=o0(),d=s0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");_e(dn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const E=u.createWebChannel(v,f);this.I_(E);let T=!1,P=!1;const F=new AR({Yo:O=>{P?_e(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(T||(_e(dn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),_e(dn,`RPC '${e}' stream ${o} sending:`,O),E.send(O))},Zo:()=>E.close()}),$=(O,K,z)=>{O.listen(K,(G=>{try{z(G)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return $(E,ml.EventType.OPEN,(()=>{P||(_e(dn,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),$(E,ml.EventType.CLOSE,(()=>{P||(P=!0,_e(dn,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(E))})),$(E,ml.EventType.ERROR,(O=>{P||(P=!0,wa(dn,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),F.a_(new xe(oe.UNAVAILABLE,"The operation could not be completed")))})),$(E,ml.EventType.MESSAGE,(O=>{var K;if(!P){const z=O.data[0];ct(!!z,16349);const G=z,ne=(G==null?void 0:G.error)||((K=G[0])==null?void 0:K.error);if(ne){_e(dn,`RPC '${e}' stream ${o} received error:`,ne);const te=ne.status;let M=(function(C){const b=Vt[C];if(b!==void 0)return U0(b)})(te),R=ne.message;M===void 0&&(M=oe.INTERNAL,R="Unknown error status: "+te+" with message "+ne.message),P=!0,F.a_(new xe(M,R)),E.close()}else _e(dn,`RPC '${e}' stream ${o} received:`,z),F.u_(z)}})),$(d,i0.STAT_EVENT,(O=>{O.stat===Uf.PROXY?_e(dn,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Uf.NOPROXY&&_e(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n){return new DC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="PersistentStream";class ew{constructor(e,t,i,o,a,u,d,f){this.Mi=e,this.S_=i,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new xe(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(Rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(_e(Rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xR extends ew{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=MC(this.serializer,e),i=(function(a){if(!("targetChange"in a))return We.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?We.min():u.readTime?Yr(u.readTime):We.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Qf(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=Hf(f)?{documents:UC(a,f)}:{query:jC(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=B0(a,u.resumeToken);const m=qf(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(We.min())>0){d.readTime=Qc(a,u.snapshotVersion.toTimestamp());const m=qf(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const i=BC(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Qf(this.serializer),t.removeTarget=e,this.q_(t)}}class bR extends ew{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=FC(e.writeResults,e.commitTime),i=Yr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Qf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>VC(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{}class DR extends NR{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new xe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Kf(t,i),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(oe.UNKNOWN,a.toString())}))}Ho(e,t,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Kf(t,i),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Di(t),this.aa=!1):_e("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class LR{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{To(this)&&(_e(go,"Restarting streams for network reachability change."),await(async function(f){const m=qe(f);m.Ea.add(4),await Yl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Sh(m)})(this))}))})),this.Ra=new OR(i,o)}}async function Sh(n){if(To(n))for(const e of n.da)await e(!0)}async function Yl(n){for(const e of n.da)await e(!1)}function tw(n,e){const t=qe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Mp(t)?Lp(t):ba(t).O_()&&Op(t,e))}function Dp(n,e){const t=qe(n),i=ba(t);t.Ia.delete(e),i.O_()&&nw(t,e),t.Ia.size===0&&(i.O_()?i.L_():To(t)&&t.Ra.set("Unknown"))}function Op(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ba(n).Y_(e)}function nw(n,e){n.Va.Ue(e),ba(n).Z_(e)}function Lp(n){n.Va=new kC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ba(n).start(),n.Ra.ua()}function Mp(n){return To(n)&&!ba(n).x_()&&n.Ia.size>0}function To(n){return qe(n).Ea.size===0}function rw(n){n.Va=void 0}async function MR(n){n.Ra.set("Online")}async function VR(n){n.Ia.forEach(((e,t)=>{Op(n,e)}))}async function FR(n,e){rw(n),Mp(n)?(n.Ra.ha(e),Lp(n)):n.Ra.set("Unknown")}async function UR(n,e,t){if(n.Ra.set("Online"),e instanceof z0&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(i){_e(go,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xc(n,i)}else if(e instanceof xc?n.Va.Ze(e):e instanceof j0?n.Va.st(e):n.Va.tt(e),!t.isEqual(We.min()))try{const i=await J0(n.localStore);t.compareTo(i)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),nw(a,f);const E=new Es(v.target,f,m,v.sequenceNumber);Op(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){_e(go,"Failed to raise snapshot:",i),await Xc(n,i)}}async function Xc(n,e,t){if(!xa(e))throw e;n.Ea.add(1),await Yl(n),n.Ra.set("Offline"),t||(t=()=>J0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{_e(go,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Sh(n)}))}function iw(n,e){return e().catch((t=>Xc(n,t,e)))}async function Ch(n){const e=qe(n),t=Ns(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_p;for(;jR(e);)try{const o=await ER(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,zR(e,o)}catch(o){await Xc(e,o)}sw(e)&&ow(e)}function jR(n){return To(n)&&n.Ta.length<10}function zR(n,e){n.Ta.push(e);const t=Ns(n);t.O_()&&t.X_&&t.ea(e.mutations)}function sw(n){return To(n)&&!Ns(n).x_()&&n.Ta.length>0}function ow(n){Ns(n).start()}async function BR(n){Ns(n).ra()}async function $R(n){const e=Ns(n);for(const t of n.Ta)e.ea(t.mutations)}async function HR(n,e,t){const i=n.Ta.shift(),o=Rp.from(i,e,t);await iw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Ch(n)}async function WR(n,e){e&&Ns(n).X_&&await(async function(i,o){if((function(u){return RC(u)&&u!==oe.ABORTED})(o.code)){const a=i.Ta.shift();Ns(i).B_(),await iw(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Ch(i)}})(n,e),sw(n)&&ow(n)}async function Pv(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),_e(go,"RemoteStore received new credentials");const i=To(t);t.Ea.add(3),await Yl(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Sh(t)}async function qR(n,e){const t=qe(n);e?(t.Ea.delete(2),await Sh(t)):e||(t.Ea.add(2),await Yl(t),t.Ra.set("Unknown"))}function ba(n){return n.ma||(n.ma=(function(t,i,o){const a=qe(t);return a.sa(),new xR(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:MR.bind(null,n),t_:VR.bind(null,n),r_:FR.bind(null,n),H_:UR.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Mp(n)?Lp(n):n.Ra.set("Unknown")):(await n.ma.stop(),rw(n))}))),n.ma}function Ns(n){return n.fa||(n.fa=(function(t,i,o){const a=qe(t);return a.sa(),new bR(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:BR.bind(null,n),r_:WR.bind(null,n),ta:$R.bind(null,n),na:HR.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ch(n)):(await n.fa.stop(),n.Ta.length>0&&(_e(go,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,d=new Vp(e,t,u,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(n,e){if(Di("AsyncQueue",`${e}: ${n}`),xa(n))return new xe(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{static emptySet(e){return new fa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Me.comparator(t.key,i.key):(t,i)=>Me.comparator(t.key,i.key),this.keyedMap=gl(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new fa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.ga=new kt(Me.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Ca{constructor(e,t,i,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Ca(e,t,fa.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class GR{constructor(){this.queries=kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=qe(t),a=o.queries;o.queries=kv(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(i)}))})(this,new xe(oe.ABORTED,"Firestore shutting down"))}}function kv(){return new wo((n=>R0(n)),vh)}async function QR(n,e){const t=qe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(i=2):(a=new KR,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Fp(u,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Up(t)}async function YR(n,e){const t=qe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function XR(n,e){const t=qe(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(i=!0);u.wa=o}}i&&Up(t)}function JR(n,e,t){const i=qe(n),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);i.queries.delete(e)}function Up(n){n.Ca.forEach((e=>{e.next()}))}var Jf,xv;(xv=Jf||(Jf={})).Ma="default",xv.Cache="cache";class ZR{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ca(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.key=e}}class lw{constructor(e){this.key=e}}class eP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=P0(e),this.tu=new fa(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Av,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const T=o.get(v),P=_h(this.query,E)?E:null,F=!!T&&this.mutatedKeys.has(T.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let O=!1;T&&P?T.data.isEqual(P.data)?F!==$&&(i.track({type:3,doc:P}),O=!0):this.su(T,P)||(i.track({type:2,doc:P}),O=!0,(f&&this.eu(P,f)>0||m&&this.eu(P,m)<0)&&(d=!0)):!T&&P?(i.track({type:0,doc:P}),O=!0):T&&!P&&(i.track({type:1,doc:T}),O=!0,(f||m)&&(d=!0)),O&&(P?(u=u.add(P),a=$?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(P,F){const $=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:O})}};return $(P)-$(F)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new Ca(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new lw(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new aw(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jp="SyncEngine";class tP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class nP{constructor(e){this.key=e,this.hu=!1}}class rP{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new wo((d=>R0(d)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Me.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=Sa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iP(n,e,t=!0){const i=pw(n);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await uw(i,e,t,!0),o}async function sP(n,e){const t=pw(n);await uw(t,e,!0,!1)}async function uw(n,e,t,i){const o=await TR(n.localStore,Qr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await oP(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&tw(n.remoteStore,o),d}async function oP(n,e,t,i,o){n.pu=(E,T,P)=>(async function($,O,K,z){let G=O.view.ru(K);G.Cs&&(G=await Tv($.localStore,O.query,!1).then((({documents:R})=>O.view.ru(R,G))));const ne=z&&z.targetChanges.get(O.targetId),te=z&&z.targetMismatches.get(O.targetId)!=null,M=O.view.applyChanges(G,$.isPrimaryClient,ne,te);return Nv($,O.targetId,M.au),M.snapshot})(n,E,T,P);const a=await Tv(n.localStore,e,!0),u=new eP(e,a.Qs),d=u.ru(a.documents),f=Ql.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);Nv(n,t,m.au);const v=new tP(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function aP(n,e,t){const i=qe(n),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter((u=>!vh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Yf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Dp(i.remoteStore,o.targetId),Zf(i,o.targetId)})).catch(ka)):(Zf(i,o.targetId),await Yf(i.localStore,o.targetId,!0))}async function lP(n,e){const t=qe(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Dp(t.remoteStore,i.targetId))}async function uP(n,e,t){const i=gP(n);try{const o=await(function(u,d){const f=qe(u),m=It.now(),v=d.reduce(((P,F)=>P.add(F.key)),et());let E,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let F=Oi(),$=et();return f.Ns.getEntries(P,v).next((O=>{F=O,F.forEach(((K,z)=>{z.isValidDocument()||($=$.add(K))}))})).next((()=>f.localDocuments.getOverlayedDocuments(P,F))).next((O=>{E=O;const K=[];for(const z of d){const G=EC(z,E.get(z.key).overlayedDocument);G!=null&&K.push(new Eo(z.key,G,_0(G.value.mapValue),ki.exists(!0)))}return f.mutationQueue.addMutationBatch(P,m,K,d)})).next((O=>{T=O;const K=O.applyToLocalDocumentSet(E,$);return f.documentOverlayCache.saveOverlays(P,O.batchId,K)}))})).then((()=>({batchId:T.batchId,changes:k0(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,d,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new kt(Ze)),m=m.insert(d,f),u.Vu[u.currentUser.toKey()]=m})(i,o.batchId,t),await Xl(i,o.changes),await Ch(i.remoteStore)}catch(o){const a=Fp(o,"Failed to persist write");t.reject(a)}}async function cw(n,e){const t=qe(n);try{const i=await _R(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Au.get(a);u&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ct(u.hu,14607):o.removedDocuments.size>0&&(ct(u.hu,42227),u.hu=!1))})),await Xl(t,i,e)}catch(i){await ka(i)}}function bv(n,e,t){const i=qe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=qe(u);f.onlineState=d;let m=!1;f.queries.forEach(((v,E)=>{for(const T of E.Sa)T.va(d)&&(m=!0)})),m&&Up(f)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function cP(n,e,t){const i=qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),a=o&&o.key;if(a){let u=new kt(Me.comparator);u=u.insert(a,mn.newNoDocument(a,We.min()));const d=et().add(a),f=new Th(We.min(),new Map,new kt(Ze),u,d);await cw(i,f),i.du=i.du.remove(a),i.Au.delete(e),zp(i)}else await Yf(i.localStore,e,!1).then((()=>Zf(i,e,t))).catch(ka)}async function hP(n,e){const t=qe(n),i=e.batch.batchId;try{const o=await vR(t.localStore,e);dw(t,i,null),hw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Xl(t,o)}catch(o){await ka(o)}}async function dP(n,e,t){const i=qe(n);try{const o=await(function(u,d){const f=qe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next((E=>(ct(E!==null,37113),v=E.keys(),f.mutationQueue.removeMutationBatch(m,E)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(i.localStore,e);dw(i,e,t),hw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Xl(i,o)}catch(o){await ka(o)}}function hw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function dw(n,e,t){const i=qe(n);let o=i.Vu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Zf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||fw(n,i)}))}function fw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Dp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),zp(n))}function Nv(n,e,t){for(const i of t)i instanceof aw?(n.Ru.addReference(i.key,e),fP(n,i)):i instanceof lw?(_e(jp,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||fw(n,i.key)):Ue(19791,{wu:i})}function fP(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(_e(jp,"New document in limbo: "+t),n.Eu.add(i),zp(n))}function zp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Me(At.fromString(e)),i=n.fu.next();n.Au.set(i,new nP(t)),n.du=n.du.insert(t,i),tw(n.remoteStore,new Es(Qr(Sp(t.path)),i,"TargetPurposeLimboResolution",ph.ce))}}async function Xl(n,e,t){const i=qe(n),o=[],a=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{u.push(i.pu(f,e,t).then((m=>{var v;if((m||t)&&i.isPrimaryClient){const E=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){o.push(m);const E=bp.As(f.targetId,m);a.push(E)}})))})),await Promise.all(u),i.Pu.H_(o),await(async function(f,m){const v=qe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>re.forEach(m,(T=>re.forEach(T.Es,(P=>v.persistence.referenceDelegate.addReference(E,T.targetId,P))).next((()=>re.forEach(T.ds,(P=>v.persistence.referenceDelegate.removeReference(E,T.targetId,P)))))))))}catch(E){if(!xa(E))throw E;_e(Np,"Failed to update sequence numbers: "+E)}for(const E of m){const T=E.targetId;if(!E.fromCache){const P=v.Ms.get(T),F=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(F);v.Ms=v.Ms.insert(T,$)}}})(i.localStore,a))}async function pP(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){_e(jp,"User change. New user:",e.toKey());const i=await X0(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new xe(oe.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xl(t,i.Ls)}}function mP(n,e){const t=qe(n),i=t.Au.get(e);if(i&&i.hu)return et().add(i.key);{let o=et();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function pw(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cP.bind(null,e),e.Pu.H_=XR.bind(null,e.eventManager),e.Pu.yu=JR.bind(null,e.eventManager),e}function gP(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dP.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yR(this.persistence,new pR,e.initialUser,this.serializer)}Cu(e){return new Y0(xp.mi,this.serializer)}Du(e){return new SR}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class yP extends Jc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ct(this.persistence.referenceDelegate instanceof Yc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ZC(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Y0((i=>Yc.mi(i,t)),this.serializer)}}class ep{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pP.bind(null,this.syncEngine),await qR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GR})()}createDatastore(e){const t=Ih(e.databaseInfo.databaseId),i=(function(a){return new kR(a)})(e.databaseInfo);return(function(a,u,d,f){return new DR(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,u,d){return new LR(i,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>bv(this.syncEngine,t,0)),(function(){return Cv.v()?new Cv:new CR})())}createSyncEngine(e,t){return(function(o,a,u,d,f,m,v){const E=new rP(o,a,u,d,f,m);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=qe(o);_e(go,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class _P{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async u=>{_e(Ds,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(_e(Ds,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Fp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function wf(n,e){n.asyncQueue.verifyOperationInProgress(),_e(Ds,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await X0(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Dv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await wP(n);_e(Ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>Pv(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>Pv(e.remoteStore,o))),n._onlineComponents=e}async function wP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(Ds,"Using user provided OfflineComponentProvider");try{await wf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;wa("Error using user provided cache. Falling back to memory cache: "+t),await wf(n,new Jc)}}else _e(Ds,"Using default OfflineComponentProvider"),await wf(n,new yP(void 0));return n._offlineComponents}async function mw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(Ds,"Using user provided OnlineComponentProvider"),await Dv(n,n._uninitializedComponentsProvider._online)):(_e(Ds,"Using default OnlineComponentProvider"),await Dv(n,new ep))),n._onlineComponents}function EP(n){return mw(n).then((e=>e.syncEngine))}async function TP(n){const e=await mw(n),t=e.eventManager;return t.onListen=iP.bind(null,e.syncEngine),t.onUnlisten=aP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lP.bind(null,e.syncEngine),t}function IP(n,e,t={}){const i=new Ps;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const v=new vP({next:T=>{v.Nu(),u.enqueueAndForget((()=>YR(a,E)));const P=T.docs.has(d);!P&&T.fromCache?m.reject(new xe(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&T.fromCache&&f&&f.source==="server"?m.reject(new xe(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),E=new ZR(Sp(d.path),v,{includeMetadataChanges:!0,qa:!0});return QR(a,E)})(await TP(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firestore.googleapis.com",Lv=!0;class Mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yw,this.ssl=Lv}else this.host=e.host,this.ssl=e.ssl??Lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XC)throw new xe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bp{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new I1;switch(i.type){case"firstParty":return new P1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Ov.get(t);i&&(_e("ComponentProvider","Removing Datastore"),Ov.delete(t),i.terminate())})(this),Promise.resolve()}}function SP(n,e,t,i={}){var m;n=xl(n,Bp);const o=Ra(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(K_(`https://${d}`),G_("Firestore",!0)),a.host!==yw&&a.host!==d&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:i};if(!fo(f,u)&&(n._setSettings(f),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=pn.MOCK_USER;else{v=YI(i.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new xe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new pn(T)}n._authCredentials=new S1(new l0(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $p(this.firestore,e,this._query)}}class Xt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Kl(t,Xt._jsonSchema))return new Xt(e,i||null,new Me(At.fromString(t.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Ft("string",Xt._jsonSchemaVersion),referencePath:Ft("string")};class Vl extends $p{constructor(e,t,i){super(e,t,Sp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Me(e))}withConverter(e){return new Vl(this.firestore,e,this._path)}}function tp(n,e,...t){if(n=Gn(n),arguments.length===1&&(e=yp.newId()),D1("doc","path",e),n instanceof Bp){const i=At.fromString(e,...t);return Yy(i),new Xt(n,null,new Me(i))}{if(!(n instanceof Xt||n instanceof Vl))throw new xe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(At.fromString(e,...t));return Yy(i),new Xt(n.firestore,n instanceof Vl?n.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="AsyncQueue";class Fv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z0(this,"async_queue_retry"),this._c=()=>{const i=_f();i&&_e(Vv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=_f();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_f();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xa(e))throw e;_e(Vv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Di("INTERNAL UNHANDLED ERROR: ",Uv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Vp.createAndSchedule(this,e,t,i,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ue(47125,{Pc:Uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Uv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Hp extends Bp{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Fv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fv(e),this._firestoreClient=void 0,await e}}}function CP(n,e){const t=typeof n=="object"?n:J_(),i=typeof n=="string"?n:$c,o=mp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=GI("firestore");a&&SP(o,...a)}return o}function vw(n){if(n._terminated)throw new xe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RP(n),n._firestoreClient}function RP(n){var i,o,a;const e=n._freezeSettings(),t=(function(d,f,m,v){return new W1(d,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,gw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new _P(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dr(sn.fromBase64String(e))}catch(t){throw new xe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dr(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,dr._jsonSchema))return dr.fromBase64String(e.bytes)}}dr._jsonSchemaVersion="firestore/bytes/1.0",dr._jsonSchema={type:Ft("string",dr._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xr._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,Xr._jsonSchema))return new Xr(e.latitude,e.longitude)}}Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:Ft("string",Xr._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Jr(e.vectorValues);throw new xe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:Ft("string",Jr._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=/^__.*__$/;class AP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}function ww(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:n})}}class qp{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ww(this.Ac)&&PP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ih(e)}Cc(e,t,i,o=!1){return new qp({Ac:e,methodName:t,Dc:i,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xP(n){const e=n._freezeSettings(),t=Ih(n._databaseId);return new kP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bP(n,e,t,i,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);Sw("Data must be an object, but it was:",u,i);const d=Tw(i,u);let f,m;if(a.merge)f=new kr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const T=NP(e,E,t);if(!u.contains(T))throw new xe(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);OP(v,T)||v.push(T)}f=new kr(v),m=u.fieldTransforms.filter((E=>f.covers(E.field)))}else f=null,m=u.fieldTransforms;return new AP(new hr(d),f,m)}function Ew(n,e){if(Iw(n=Gn(n)))return Sw("Unsupported field value:",e,n),Tw(n,e);if(n instanceof _w)return(function(i,o){if(!ww(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const a=[];let u=0;for(const d of i){let f=Ew(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=Gn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=It.fromDate(i);return{timestampValue:Qc(o.serializer,a)}}if(i instanceof It){const a=new It(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qc(o.serializer,a)}}if(i instanceof Xr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof dr)return{bytesValue:B0(o.serializer,i._byteString)};if(i instanceof Xt){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ap(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Jr)return(function(u,d){return{mapValue:{fields:{[y0]:{stringValue:v0},[Hc]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return Cp(d.serializer,m)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${vp(i)}`)})(n,e)}function Tw(n,e){const t={};return h0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(n,((i,o)=>{const a=Ew(o,e.mc(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function Iw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof Xr||n instanceof dr||n instanceof Xt||n instanceof _w||n instanceof Jr)}function Sw(n,e,t){if(!Iw(t)||!u0(t)){const i=vp(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function NP(n,e,t){if((e=Gn(e))instanceof Wp)return e._internalPath;if(typeof e=="string")return Cw(n,e);throw Zc("Field path arguments must be of type string or ",n,!1,void 0,t)}const DP=new RegExp("[~\\*/\\[\\]]");function Cw(n,e,t){if(e.search(DP)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wp(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zc(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new xe(oe.INVALID_ARGUMENT,d+n+f)}function OP(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LP extends Rw{data(){return super.data()}}function Pw(n,e){return typeof e=="string"?Cw(n,e):e instanceof Wp?e._internalPath:e._delegate._internalPath}class MP{convertValue(e,t="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return _o(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){var i,o,a;const t=(a=(o=(i=e.fields)==null?void 0:i[Hc].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>Ot(u.doubleValue)));return new Jr(t)}convertGeoPoint(e){return new Xr(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const t=ks(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=At.fromString(e);ct(G0(i),9688,{name:e});const o=new Dl(i.get(1),i.get(3)),a=new Me(i.popFirst(5));return o.isEqual(t)||Di(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class vl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends Rw{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Pw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=co._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:Ft("string",co._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class bc extends co{data(e={}){return super.data(e)}}class Cl{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new bc(this._firestore,this._userDataWriter,i.key,i,new vl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new vl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new vl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:FP(d.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n){n=xl(n,Xt);const e=xl(n.firestore,Hp);return IP(vw(e),n._key).then((t=>zP(e,n,t)))}Cl._jsonSchemaVersion="firestore/querySnapshot/1.0",Cl._jsonSchema={type:Ft("string",Cl._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class UP extends MP{constructor(e){super(),this.firestore=e}convertBytes(e){return new dr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}function kw(n,e,t){n=xl(n,Xt);const i=xl(n.firestore,Hp),o=VP(n.converter,e,t);return jP(i,[bP(xP(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ki.none())])}function jP(n,e){return(function(i,o){const a=new Ps;return i.asyncQueue.enqueueAndForget((async()=>uP(await EP(i),o,a))),a.promise})(vw(n),e)}function zP(n,e,t){const i=t.docs.get(e._key),o=new UP(n);return new co(n,o,e._key,i,new vl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Aa=o})(Pa),_a(new po("firestore",((i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new Hp(new C1(i.getProvider("auth-internal")),new A1(u,i.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(m.options.projectId,v)})(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Cs(qy,Ky,e),Cs(qy,Ky,"esm2020")})();var BP="firebase",$P="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(BP,$P,"app");function xw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HP=xw,bw=new Wl("auth","Firebase",xw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new fp("@firebase/auth");function WP(n,...e){eh.logLevel<=Je.WARN&&eh.warn(`Auth (${Pa}): ${n}`,...e)}function Nc(n,...e){eh.logLevel<=Je.ERROR&&eh.error(`Auth (${Pa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(n,...e){throw Kp(n,...e)}function Zr(n,...e){return Kp(n,...e)}function Nw(n,e,t){const i={...HP(),[e]:t};return new Wl("auth","Firebase",i).create(e,{appName:n.name})}function xi(n){return Nw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return bw.create(n,...e)}function Fe(n,e,...t){if(!n)throw Kp(e,...t)}function Pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nc(e),new Error(e)}function Li(n,e){n||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function qP(){return jv()==="http:"||jv()==="https:"}function jv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qP()||nS()||"connection"in navigator)?navigator.onLine:!0}function GP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=ZI()||rS()}get(){return KP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n,e){Li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XP=new Jl(3e4,6e4);function Ls(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ms(n,e,t,i,o={}){return Ow(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=ql({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return tS()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ra(n.emulatorConfig.host)&&(m.credentials="include"),Dw.fetch()(await Lw(n,n.config.apiHost,t,d),m)})}async function Ow(n,e,t){n._canInitEmulator=!1;const i={...QP,...e};try{const o=new ZP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Tc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Tc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Tc(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Nw(n,v,m);br(n,v)}}catch(o){if(o instanceof Mi)throw o;br(n,"network-request-failed",{message:String(o)})}}async function Zl(n,e,t,i,o={}){const a=await Ms(n,e,t,i,o);return"mfaPendingCredential"in a&&br(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Lw(n,e,t,i){const o=`${e}${t}?${i}`,a=n,u=a.config.emulator?Gp(n.config,o):`${n.config.apiScheme}://${o}`;return YP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function JP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Zr(this.auth,"network-request-failed")),XP.get())})}}function Tc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Zr(n,e,i);return o.customData._tokenResponse=t,o}function zv(n){return n!==void 0&&n.enterprise!==void 0}class eA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tA(n,e){return Ms(n,"GET","/v2/recaptchaConfig",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(n,e){return Ms(n,"POST","/v1/accounts:delete",e)}async function th(n,e){return Ms(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rA(n,e=!1){const t=Gn(n),i=await t.getIdToken(e),o=Qp(i);Fe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Rl(Ef(o.auth_time)),issuedAtTime:Rl(Ef(o.iat)),expirationTime:Rl(Ef(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ef(n){return Number(n)*1e3}function Qp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$_(t);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Bv(n){const e=Qp(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Mi&&iA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function iA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(n){var E;const e=n.auth,t=await n.getIdToken(),i=await Fl(n,th(e,{idToken:t}));Fe(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const a=(E=o.providerUserInfo)!=null&&E.length?Mw(o.providerUserInfo):[],u=aA(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function oA(n){const e=Gn(n);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Mw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(n,e){const t=await Ow(n,{},async()=>{const i=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await Lw(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:i};return n.emulatorConfig&&Ra(n.emulatorConfig.host)&&(f.credentials="include"),Dw.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uA(n,e){return Ms(n,"POST","/v2/accounts:revokeToken",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const t=Bv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await lA(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new pa;return i&&(Fe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Fe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Fe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pa,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n,e){Fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new sA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rA(this,e)}reload(){return oA(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await nh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await Fl(this,nA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:P,providerData:F,stsTokenManager:$}=t;Fe(E&&$,e,"internal-error");const O=pa.fromJSON(this.name,$);Fe(typeof E=="string",e,"internal-error"),ds(i,e.name),ds(o,e.name),Fe(typeof T=="boolean",e,"internal-error"),Fe(typeof P=="boolean",e,"internal-error"),ds(a,e.name),ds(u,e.name),ds(d,e.name),ds(f,e.name),ds(m,e.name),ds(v,e.name);const K=new xr({uid:E,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:P,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:O,createdAt:m,lastLoginAt:v});return F&&Array.isArray(F)&&(K.providerData=F.map(z=>({...z}))),f&&(K._redirectEventId=f),K}static async _fromIdTokenResponse(e,t,i=!1){const o=new pa;o.updateFromServerResponse(t);const a=new xr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await nh(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Fe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Mw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new pa;d.updateFromIdToken(i);const f=new xr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function Ai(n){Li(n instanceof Function,"Expected a class definition");let e=$v.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$v.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vw.type="NONE";const Hv=Vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n,e,t){return`firebase:${n}:${e}:${t}`}class ma{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Dc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Dc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await th(this.auth,{idToken:e}).catch(()=>{});return t?xr._fromGetAccountInfoResponse(this.auth,t,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ma(Ai(Hv),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Ai(Hv);const u=Dc(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let E;if(typeof v=="string"){const T=await th(e,{idToken:v}).catch(()=>{});if(!T)break;E=await xr._fromGetAccountInfoResponse(e,T,v)}else E=xr._fromJSON(e,v);m!==a&&(d=E),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ma(a,e,i):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ma(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($w(e))return"Blackberry";if(Hw(e))return"Webos";if(Uw(e))return"Safari";if((e.includes("chrome/")||jw(e))&&!e.includes("edge/"))return"Chrome";if(Bw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Fw(n=gn()){return/firefox\//i.test(n)}function Uw(n=gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jw(n=gn()){return/crios\//i.test(n)}function zw(n=gn()){return/iemobile/i.test(n)}function Bw(n=gn()){return/android/i.test(n)}function $w(n=gn()){return/blackberry/i.test(n)}function Hw(n=gn()){return/webos/i.test(n)}function Yp(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cA(n=gn()){var e;return Yp(n)&&!!((e=window.navigator)!=null&&e.standalone)}function hA(){return iS()&&document.documentMode===10}function Ww(n=gn()){return Yp(n)||Bw(n)||Hw(n)||$w(n)||/windows phone/i.test(n)||zw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e=[]){let t;switch(n){case"Browser":t=Wv(gn());break;case"Worker":t=`${Wv(gn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n,e={}){return Ms(n,"GET","/v2/passwordPolicy",Ls(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=6;class mA{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??pA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new dA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await ma.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await th(this,{idToken:e}),i=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(xi(this));const t=e?Gn(e):null;return t&&Fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fA(this),t=new mA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await uA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ai(e)||this._popupRedirectResolver;Fe(t,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&WP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Io(n){return Gn(n)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=dS(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yA(n){Rh=n}function Kw(n){return Rh.loadJS(n)}function vA(){return Rh.recaptchaEnterpriseScript}function _A(){return Rh.gapiScript}function wA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class EA{constructor(){this.enterprise=new TA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const IA="recaptcha-enterprise",Gw="NO_RECAPTCHA";class SA{constructor(e){this.type=IA,this.auth=Io(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{tA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new eA(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;zv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(Gw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EA().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!t&&zv(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=vA();f.length!==0&&(f+=d),Kw(f).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function Kv(n,e,t,i=!1,o=!1){const a=new SA(n);let u;if(o)u=Gw;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ip(n,e,t,i,o){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Kv(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Kv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n,e){const t=mp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(fo(a,e??{}))return o;br(o,"already-initialized")}return t.initialize({options:e})}function RA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ai);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function PA(n,e,t){const i=Io(n);Fe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Qw(e),{host:u,port:d}=AA(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Fe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Fe(fo(m,i.config.emulator)&&fo(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Ra(u)?(K_(`${a}//${u}${f}`),G_("Auth",!0)):kA()}function Qw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AA(n){const e=Qw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Gv(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:Gv(u)}}}function Gv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function xA(n,e){return Ms(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(n,e){return Zl(n,"POST","/v1/accounts:signInWithPassword",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(n,e){return Zl(n,"POST","/v1/accounts:signInWithEmailLink",Ls(n,e))}async function DA(n,e){return Zl(n,"POST","/v1/accounts:signInWithEmailLink",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Xp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ul(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ul(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,t,"signInWithPassword",bA);case"emailLink":return NA(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,i,"signUpPassword",xA);case"emailLink":return DA(e,{idToken:t,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(n,e){return Zl(n,"POST","/v1/accounts:signInWithIdp",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="http://localhost";class yo extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...a}=t;if(!i||!o)return null;const u=new yo(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ga(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ga(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ga(e,t)}buildRequest(){const e={requestUri:OA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ql(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MA(n){const e=fl(pl(n)).link,t=e?fl(pl(e)).deep_link_id:null,i=fl(pl(n)).deep_link_id;return(i?fl(pl(i)).link:null)||i||t||e||n}class Jp{constructor(e){const t=fl(pl(e)),i=t.apiKey??null,o=t.oobCode??null,a=LA(t.mode??null);Fe(i&&o&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=MA(e);try{return new Jp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.providerId=Na.PROVIDER_ID}static credential(e,t){return Ul._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Jp.parseLink(t);return Fe(i,"argument-error"),Ul._fromEmailAndCode(e,i.code,i.tenantId)}}Na.PROVIDER_ID="password";Na.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Na.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Yw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends eu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return gs.credential(t,i)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends eu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends eu{constructor(){super("twitter.com")}static credential(e,t){return yo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(n,e){return Zl(n,"POST","/v1/accounts:signUp",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await xr._fromIdTokenResponse(e,i,o),u=Qv(i);return new vo({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Qv(i);return new vo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Qv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Mi{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new rh(e,t,i,o)}}function Xw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(n,a,e,i):a})}async function FA(n,e,t=!1){const i=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return vo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n,e,t=!1){const{auth:i}=n;if(cr(i.app))return Promise.reject(xi(i));const o="reauthenticate";try{const a=await Fl(n,Xw(i,o,e,n),t);Fe(a.idToken,i,"internal-error");const u=Qp(a.idToken);Fe(u,i,"internal-error");const{sub:d}=u;return Fe(n.uid===d,i,"user-mismatch"),vo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&br(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(n,e,t=!1){if(cr(n.app))return Promise.reject(xi(n));const i="signIn",o=await Xw(n,i,e),a=await vo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function jA(n,e){return Jw(Io(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(n){const e=Io(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zA(n,e,t){if(cr(n.app))return Promise.reject(xi(n));const i=Io(n),u=await ip(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VA).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Zw(n),f}),d=await vo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function BA(n,e,t){return cr(n.app)?Promise.reject(xi(n)):jA(Gn(n),Na.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Zw(n),i})}function $A(n,e,t,i){return Gn(n).onIdTokenChanged(e,t,i)}function HA(n,e,t){return Gn(n).beforeAuthStateChanged(e,t)}function WA(n,e,t,i){return Gn(n).onAuthStateChanged(e,t,i)}function qA(n){return Gn(n).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1e3,GA=10;class tE extends eE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ww(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);hA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},KA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tE.type="LOCAL";const QA=tE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE extends eE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nE.type="SESSION";const rE=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ph(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await YA(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Zp("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function JA(n){ei().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function ZA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ek(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function tk(){return iE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firebaseLocalStorageDb",nk=1,sh="firebaseLocalStorage",oE="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ah(n,e){return n.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function rk(){const n=indexedDB.deleteDatabase(sE);return new tu(n).toPromise()}function sp(){const n=indexedDB.open(sE,nk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(sh,{keyPath:oE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(sh)?e(i):(i.close(),await rk(),e(await sp()))})})}async function Yv(n,e,t){const i=Ah(n,!0).put({[oE]:e,value:t});return new tu(i).toPromise()}async function ik(n,e){const t=Ah(n,!1).get(e),i=await new tu(t).toPromise();return i===void 0?null:i.value}function Xv(n,e){const t=Ah(n,!0).delete(e);return new tu(t).toPromise()}const sk=800,ok=3;class aE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ok)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(tk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await ZA(),!this.activeServiceWorker)return;this.sender=new XA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ek()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await Yv(e,ih,"1"),await Xv(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Yv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ik(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Ah(o,!1).getAll();return new tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aE.type="LOCAL";const ak=aE;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n,e){return e?Ai(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ga(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ga(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uk(n){return Jw(n.auth,new em(n),n.bypassAuthState)}function ck(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),UA(t,new em(n),n.bypassAuthState)}async function hk(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),FA(t,new em(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uk;case"linkViaPopup":case"linkViaRedirect":return hk;case"reauthViaPopup":case"reauthViaRedirect":return ck;default:br(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Jl(2e3,1e4);class ha extends lE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dk.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="pendingRedirect",Oc=new Map;class pk extends lE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const i=await mk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mk(n,e){const t=vk(e),i=yk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function gk(n,e){Oc.set(n._key(),e)}function yk(n){return Ai(n._redirectPersistence)}function vk(n){return Dc(fk,n.config.apiKey,n.name)}async function _k(n,e,t=!1){if(cr(n.app))return Promise.reject(xi(n));const i=Io(n),o=lk(i,e),u=await new pk(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=600*1e3;class Ek{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!uE(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Zr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Tk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(n,e={}){return Ms(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ck=/^https?/;async function Rk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ik(n);for(const t of e)try{if(Pk(t))return}catch{}br(n,"unauthorized-domain")}function Pk(n){const e=np(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Ck.test(t))return!1;if(Sk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Jl(3e4,6e4);function Zv(){const n=ei().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function kk(n){return new Promise((e,t)=>{var o,a,u;function i(){Zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zv(),t(Zr(n,"network-request-failed"))},timeout:Ak.get()})}if((a=(o=ei().gapi)==null?void 0:o.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=ei().gapi)!=null&&u.load)i();else{const d=wA("iframefcb");return ei()[d]=()=>{gapi.load?i():t(Zr(n,"network-request-failed"))},Kw(`${_A()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function xk(n){return Lc=Lc||kk(n),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new Jl(5e3,15e3),Nk="__/auth/iframe",Dk="emulator/auth/iframe",Ok={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mk(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gp(e,Dk):`https://${n.config.authDomain}/${Nk}`,i={apiKey:e.apiKey,appName:n.name,v:Pa},o=Lk.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${ql(i).slice(1)}`}async function Vk(n){const e=await xk(n),t=ei().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:Mk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ok,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Zr(n,"network-request-failed"),d=ei().setTimeout(()=>{a(u)},bk.get());function f(){ei().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uk=500,jk=600,zk="_blank",Bk="http://localhost";class e_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $k(n,e,t,i=Uk,o=jk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f={...Fk,width:i.toString(),height:o.toString(),top:a,left:u},m=gn().toLowerCase();t&&(d=jw(m)?zk:t),Fw(m)&&(e=e||Bk,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[P,F])=>`${T}${P}=${F},`,"");if(cA(m)&&d!=="_self")return Hk(e||"",d),new e_(null);const E=window.open(e||"",d,v);Fe(E,n,"popup-blocked");try{E.focus()}catch{}return new e_(E)}function Hk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="__/auth/handler",qk="emulator/auth/handler",Kk=encodeURIComponent("fac");async function t_(n,e,t,i,o,a){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Pa,eventId:o};if(e instanceof Yw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",hS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof eu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${Kk}=${encodeURIComponent(f)}`:"";return`${Gk(n)}?${ql(d).slice(1)}${m}`}function Gk({config:n}){return n.emulator?Gp(n,qk):`https://${n.authDomain}/${Wk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class Qk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=_k,this._overrideRedirectResult=gk}async _openPopup(e,t,i,o){var u;Li((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await t_(e,t,i,np(),o);return $k(e,a,Zp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await t_(e,t,i,np(),o);return JA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Li(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Vk(e),i=new Ek(e);return t.register("authEvent",o=>(Fe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tf,{type:Tf},o=>{var u;const a=(u=o==null?void 0:o[0])==null?void 0:u[Tf];a!==void 0&&t(!!a),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Rk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ww()||Uw()||Yp()}}const Yk=Qk;var n_="@firebase/auth",r_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zk(n){_a(new po("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Fe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qw(n)},m=new gA(i,o,a,f);return RA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),_a(new po("auth-internal",e=>{const t=Io(e.getProvider("auth").getImmediate());return(i=>new Xk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(n_,r_,Jk(n)),Cs(n_,r_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=300,tx=q_("authIdTokenMaxAge")||ex;let i_=null;const nx=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>tx)return;const o=t==null?void 0:t.token;i_!==o&&(i_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rx(n=J_()){const e=mp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CA(n,{popupRedirectResolver:Yk,persistence:[ak,QA,rE]}),i=q_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=nx(a.toString());HA(t,u,()=>u(t.currentUser)),$A(t,d=>u(d))}}const o=H_("auth");return o&&PA(t,`http://${o}`),t}function ix(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}yA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Zr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",ix().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zk("Browser");const sx={apiKey:"AIzaSyAgo30jBVUE0PBaQ3vze1_dYE1H974DCeA",authDomain:"pomodor-2ebfb.firebaseapp.com",projectId:"pomodor-2ebfb",storageBucket:"pomodor-2ebfb.firebasestorage.app",messagingSenderId:"76436281043",appId:"1:76436281043:web:e65ab8241373ba3fb46626"},cE=X_(sx),kh=rx(cE),op=CP(cE),ox=(n,e,t)=>{const i=V.useMemo(()=>n?tp(op,"users",n.uid):null,[n]),[o,a]=V.useState(!1),[u,d]=Ar("todos",[]),[f,m]=Ar("selected-todo-id",""),[v,E]=Ar("current-view-type",fn.ALL);V.useEffect(()=>{async function me(){if(!i){a(!1);return}const ce=await Aw(i);if(ce&&ce.exists()){const he=ce.data();d(he.todos),m(he.selectedTodoId),E(he.currentViewType)}a(!0)}me()},[n,i]),V.useEffect(()=>{function me(he){i&&kw(i,he,{merge:!0})}if(!i||!o)return;me({todos:u,selectedTodoId:f,currentViewType:v})},[v,f,u,i]);const T=V.useMemo(()=>u.find(me=>me.id===f)||null,[u,f]),P=V.useMemo(()=>({[fn.ALL]:u,[fn.COMPLETED]:u.filter(ce=>ce.completed),[fn.ACTIVE]:u.filter(ce=>!ce.completed)})[v],[v,u]),{allTodosCompleted:F,totalPomodoroSessions:$,completedPomodoroSessions:O,totalRemainingTimeInMinutes:K,estimatedFinishTime:z}=V.useMemo(()=>{const me=u.length>0&&u.every(Z=>Z.completed),ce=u.reduce((Z,pe)=>pe.completed||pe.completedSessions>=pe.targetSessions?Z:Z+pe.targetSessions,0),he=u.reduce((Z,pe)=>pe.completed||pe.completedSessions>=pe.targetSessions?Z:Z+pe.completedSessions,0),ee=ce-he,ge=ee*e.pomodoroDuration+ee*e.breakDuration,ue=new Date;ue.setTime(ue.getTime()+ge*6e4);const B={hours:ue.getHours(),minutes:ue.getMinutes()};return{allTodosCompleted:me,totalPomodoroSessions:ce,completedPomodoroSessions:he,totalRemainingTimeInMinutes:ge,estimatedFinishTime:B}},[u,e]);function G(me){m(me)}function ne(me){const ce=[...u,{id:self.crypto.randomUUID(),title:me.title.trim(),description:me.description?me.description.trim():"",completed:!1,targetSessions:me.targetSessions,completedSessions:0}],he=ce.find(ee=>!ee.completed);d(ce),he&&m(he.id)}function te(me,ce){let he=u.map(ue=>ue.id!==me?ue:{...ue,...ce});he=A(he);const{todos:ee,newSelectedId:ge}=Re(he);d(ee),ge&&m(ge)}function M(me){const ce=u.filter(ge=>ge.id!==me),{todos:he,newSelectedId:ee}=Re(ce);d(he),ee&&m(ee)}function R(me){const ce=u.map(ee=>ee.id!==me?ee:{...ee,completed:!ee.completed}),he=ce.find(ee=>!ee.completed);he&&he.id,d(ce),he&&m(he.id)}function S(me){E(me)}function C(){const me=u.map(ee=>(ee.completed=!1,ee.completedSessions=0,ee)),{todos:ce,newSelectedId:he}=Re(me);d(ce),he&&m(he)}function b(){d([])}function D(){const me=u.filter(ee=>!ee.completed),{todos:ce,newSelectedId:he}=Re(me);d(ce),he&&m(he)}function U(){let me=u.map(ee=>(ee.id===f&&(ee.completedSessions+=1),ee));me=A(me);const{todos:ce,newSelectedId:he}=Re(me);d(ce),he&&m(he)}function A(me){return t.autoCheckTasks?me.map(ce=>{const he=ce.targetSessions>0&&ce.completedSessions===ce.targetSessions;return he&&!ce.completed?{...ce,completed:!0}:!he&&ce.completed?{...ce,completed:!1}:ce}):me}function Re(me){var ee;if(!t.autoSwitchTasks)return{todos:me};const ce=(ee=me.find(ge=>ge.id===f))==null?void 0:ee.completed,he=me.find(ge=>!ge.completed);return ce&&he?{todos:me,newSelectedId:he.id}:{todos:me}}return{todos:u,visibleTodos:P,selectedTodoId:f,selectedTodo:T,allTodosCompleted:F,currentViewType:v,totalPomodoroSessions:$,completedPomodoroSessions:O,totalRemainingTimeInMinutes:K,estimatedFinishTime:z,incrementSession:U,todoHandlers:{selectTodo:G,addTodo:ne,editTodo:te,removeTodo:M,toggleTodoCompletion:R},todosHandlers:{changeViewType:S,resetTodos:C,clearAllTodos:b,clearCompletedTodos:D}}},ax=()=>{const[n,e]=Ar("timer-setting",{pomodoroDuration:30,breakDuration:5,autoStartBreak:!1,autoStartPomodoros:!1}),t=(z,G,ne,te)=>{e({...n,pomodoroDuration:z,breakDuration:G,autoStartBreak:ne,autoStartPomodoros:te})},[i,o]=Ar("sound-setting",{alarmSoundVolume:100,alarmSoundType:da.BELL,tickingSoundType:dp.NONE}),a=(z,G)=>{o({...i,alarmSoundVolume:z,alarmSoundType:G})},u=z=>{o({...i,alarmSoundVolume:z})},d=z=>{o({...i,alarmSoundType:z})},f=z=>{o({...i,tickingSoundType:z})},[m,v]=Ar("task-setting",{autoCheckTasks:!1,autoSwitchTasks:!1}),E=(z,G)=>{v({...m,autoCheckTasks:z,autoSwitchTasks:G})},T=()=>{v({...m,autoCheckTasks:!m.autoCheckTasks})},P=()=>{v({...m,autoSwitchTasks:!m.autoSwitchTasks})},[F,$]=Ar("theme-settting",{darkModeWhenRunning:!1,themes:{[Dt.POMODORO]:Ri.RED,[Dt.BREAK]:Ri.BLUE}});return{timerSetting:n,timerSettingHandler:t,soundSetting:i,soundSettingHandlers:{soundSettingHandler:a,setAlarmSoundVolume:u,setAlarmSoundType:d,setTickingSoundType:f},taskSetting:m,taskSettingHandlers:{taskSettingHandler:E,toggleAutoCheckTasks:T,toggleAutoSwitchTasks:P},themeSetting:F,themeSettingHandlers:{toggleDarkMode:()=>{$({...F,darkModeWhenRunning:!F.darkModeWhenRunning})},themeSettingHandler:(z,G,ne)=>{$({darkModeWhenRunning:z,themes:{[Dt.POMODORO]:G,[Dt.BREAK]:ne}})}}}},s_={[Ri.RED]:"var(--bg-color-1)",[Ri.GREEN]:"var(--bg-color-2)",[Ri.BLUE]:"var(--bg-color-3)",[Ri.BROWN]:"var(--bg-color-4)",[Ri.PURPLE]:"var(--bg-color-5)"};function lx(n,e){return n===Dt.POMODORO?s_[e.pomodoro]:n===Dt.BREAK?s_[e.break]:null}function ux(n){n&&document.documentElement.style.setProperty("--primary-color",n)}const cx=(n,e)=>{V.useEffect(()=>{const t=lx(n,e);ux(t)},[n,e,e.break,e.pomodoro])},hE=()=>{const[n,e]=V.useState(null);return V.useEffect(()=>{const t=WA(kh,i=>{e(i)});return()=>t()},[]),n};class hx{async getData(e){if(!e)return null;const t=tp(op,"users",e),i=await Aw(t);return i.exists()?i.data():null}async setData(e,t){if(!t)return;const i=tp(op,"users",t);await kw(i,e,{merge:!0})}}const xh=V.createContext({timer:void 0,session:void 0,todo:void 0,setting:void 0,user:null}),dx=({children:n})=>{const e=ax(),t=hE(),i=FI(e,u),o=UI(),a=ox(t,e.timerSetting,e.taskSetting);cx(i.mode,e.themeSetting.themes);function u(){i.mode===Dt.POMODORO&&(o.increment(),a.incrementSession())}return x.jsx(xh.Provider,{value:{timer:i,session:o,todo:a,setting:e,user:t},children:n})};function tm(){const{todo:n}=V.useContext(xh);if(n===void 0)throw new Error("useTodoContext must be used within an AppContext");return n}function fx(){const{timer:n}=V.useContext(xh);if(n===void 0)throw new Error("useTimerContext must be used with an AppContext");return n}function nu(){const{setting:n}=V.useContext(xh);if(n===void 0)throw new Error("useSettingContext must be used with an AppContext");return n}const px=({minutes:n,seconds:e})=>{const t=va(n),i=va(e);return x.jsxs("div",{className:"text-8xl font-extrabold leading-none sm:text-[7.5rem]",children:[t,":",i]})},mx="/pomodor/next-white.png",gx=({isRunning:n,onToggle:e,onSkip:t})=>x.jsx("div",{className:"flex justify-center","aria-label":"Timer controls",children:x.jsxs("div",{className:"relative",children:[x.jsx("button",{className:"button","data-type":"primary","data-size":"lg","data-active":n,onClick:e,"aria-label":"Toggle timer",children:n?"Pause":"Start"}),x.jsx("button",{className:"button absolute -right-2 h-full translate-x-full","data-size":"sm",onClick:t,"aria-label":"Skip current session",children:x.jsx("img",{className:"h-8 w-8",src:mx,alt:""})})]})}),yx=({mode:n,onPomodoroClick:e,onBreakClick:t})=>x.jsxs("div",{children:[x.jsx("button",{className:"button","data-type":"naked","data-size":"sm","data-active":n===Dt.POMODORO,onClick:e,children:"Pomodoro"}),x.jsx("button",{className:"button","data-type":"naked","data-size":"sm","data-active":n===Dt.BREAK,onClick:t,children:"Short Break"})]}),vx=()=>{const n=fx();return x.jsx("div",{children:x.jsxs("article",{className:"mx-auto max-w-[var(--max-w-container)] space-y-6 rounded-lg bg-white/10 px-4 py-6 text-center text-white sm:space-y-8 sm:py-8","aria-label":"Timer",children:[x.jsx(yx,{mode:n.mode,onPomodoroClick:n.handlePomodoroMode,onBreakClick:n.handleBreakMode}),x.jsx(px,{minutes:Math.floor(n.remainingTime/60),seconds:Math.floor(n.remainingTime%60)}),x.jsx(gx,{isRunning:n.isTimerRunning,onToggle:n.handleToggle,onSkip:n.handleNextMode})]})})},_x=n=>{const e=new FormData(n);return{title:e.get("title"),description:e.get("description"),targetSessions:parseInt(e.get("targetSessions"),10),completedSessions:parseInt(e.get("completedSessions"),10)}};class oh{static string(e,t=1,i=1/0){return e=e.trim(),e.length>=t&&e.length<=i}static positiveNumber(e){return e>0}static negativeNumber(e){return e<0}static lessThan(e,t){return e<t}}const wx=n=>{const e=[];return oh.string(n)||e.push("Cannot be empty"),e},Ex=(n,e)=>{const t=[];return oh.negativeNumber(n)&&t.push("Cannot accept negative value"),oh.lessThan(n,e)||t.push("Cannot be larger than or equal to target sessions"),t},Tx=n=>{const e=[];return oh.negativeNumber(n)&&e.push("Cannot accept negative value"),e},Ix=n=>({title:wx(n.title),targetSessions:Tx(n.targetSessions),completedSessions:n.completedSessions?Ex(n.completedSessions,n.targetSessions):[]}),Sx=n=>Object.values(n).some(e=>e.length>0),Cx=n=>{ft.error("You have invalid entries, try again!"),console.error(n)},dE=({todo:n,onSubmit:e,onCancel:t,onDelete:i})=>{var d;const[o,a]=V.useState(n?((d=n.description)==null?void 0:d.length)>0:!1),u=f=>{f.preventDefault();const m=f.currentTarget,v=_x(m),E=Ix(v);if(Sx(E)){Cx(E);return}e(v),m.reset()};return x.jsxs("form",{className:"overflow-hidden rounded-lg bg-white text-slate-700",onSubmit:u,children:[x.jsxs("div",{className:"grid gap-4 px-5 py-7","aria-label":"Form inputs",children:[x.jsxs("div",{children:[x.jsx("label",{className:"sr-only",htmlFor:"title-"+(n==null?void 0:n.id),children:"Title"}),x.jsx("input",{type:"text",id:"title-"+(n==null?void 0:n.id),className:"offset-1 w-full -translate-x-0.5 rounded-lg border-2 border-transparent bg-transparent p-0.5 text-xl font-bold placeholder:italic hover:border-slate-300 focus:border-transparent focus:outline-slate-400",name:"title",defaultValue:n?n.title:"",placeholder:"What are you working on?",autoFocus:!0})]}),n&&i&&x.jsxs("div",{children:[x.jsx("label",{htmlFor:"completedSessions-"+(n==null?void 0:n.id),children:"Completed Sessions"}),x.jsx("input",{type:"number",id:"completedSessions-"+(n==null?void 0:n.id),className:"block border border-black",name:"completedSessions",defaultValue:n?n.completedSessions:0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"targetSessions-"+(n==null?void 0:n.id),children:"Target Sessions"}),x.jsx("input",{type:"number",id:"targetSessions-"+(n==null?void 0:n.id),className:"block border border-black",name:"targetSessions",defaultValue:n?n.targetSessions:1})]}),o?x.jsxs("div",{children:[x.jsx("label",{className:"sr-only",htmlFor:"description-"+(n==null?void 0:n.id),children:"Description"}),x.jsx("textarea",{id:"description-"+(n==null?void 0:n.id),className:"w-full resize-none rounded-lg bg-[#efefef] p-3 text-sm placeholder:text-gray-300",name:"description",defaultValue:n?n.description:"",placeholder:"Some notes...",onFocus:f=>{const m=f.currentTarget.value.length;f.currentTarget.setSelectionRange(m,m)}})]}):x.jsx("a",{href:"#",className:"text-sm text-slate-500 underline",onClick:f=>{f.preventDefault(),a(!0)},children:"+ Add Note"})]}),x.jsxs("footer",{className:"flex bg-slate-200 px-5 py-3","aria-label":"Form buttons",children:[x.jsx("div",{className:"mr-auto",children:n&&i&&x.jsx("button",{type:"button",className:"button font-bold !uppercase tracking-wide active:translate-y-[0.125rem] active:!bg-transparent","data-type":"naked","data-size":"sm","aria-label":"Delete button",onClick:i,children:"Delete"})}),x.jsx("button",{type:"button",className:"button font-bold !uppercase tracking-wide active:translate-y-[0.125rem] active:!bg-transparent","data-type":"naked","data-size":"sm","aria-label":"Cancel button",onClick:t,children:"Cancel"}),x.jsx("button",{type:"submit",className:"button font-bold !uppercase tracking-wide","data-type":"confirm","data-size":"sm","aria-label":"Save button",children:"Save"})]})]})},Rx=({activeTodo:n,todos:e})=>n?x.jsxs("p",{className:"mt-4 py-4 text-center text-slate-300",children:["Currently focusing on:",x.jsx("br",{}),x.jsx("b",{className:"text-lg text-white",children:n.title})]}):x.jsx("p",{className:"mt-4 py-4 text-center text-lg text-slate-300",children:e.length>0?"You didn't select any tasks ":"You don't have any tasks "}),Px=({onClick:n})=>x.jsx("button",{type:"button",className:"button w-full border-2 border-dashed !bg-black/10 !py-4 font-bold !text-white/80 hover:!text-white","data-type":"secondary","data-size":"md",title:"Click to add a new todo","aria-label":"Show todo form button",onClick:n,children:"Add Todo"}),Ax=({id:n,title:e,completed:t,onToggle:i})=>x.jsxs("label",{className:"form-control",htmlFor:"todo-"+n,onClick:o=>o.stopPropagation(),children:[x.jsx("input",{type:"checkbox",id:"todo-"+n,className:"checkbox peer",checked:t,onChange:()=>{i()}}),x.jsx("span",{className:"peer-checked:line-through",children:e})]}),kx=({id:n,description:e})=>e?x.jsxs("div",{"aria-label":"Todo description",children:[x.jsx("label",{className:"hidden",htmlFor:"description-"+n,children:"description"}),x.jsx("textarea",{id:"description-"+n,name:"description",value:e,onChange:()=>console.log("update description"),className:"pointer-events-none w-full cursor-none resize-none rounded-lg bg-[#feff9c]/80 p-3 text-sm shadow-md"})]}):null,xx=({onToggleEditView:n})=>x.jsx("button",{type:"button",className:"button border !text-black/60 hover:bg-black/10","data-type":"secondary","data-size":"sm",title:"Click to edit this task","aria-label":"Edit todo button",onClick:e=>{e.stopPropagation(),n()},children:"Edit"}),bx=({completedSessions:n,targetSessions:e})=>x.jsxs("div",{className:"text-right text-sm",children:[x.jsxs("p",{children:[x.jsx("b",{className:"text-lg font-bold",children:n}),"/",e]}),x.jsxs("p",{children:["round",e>1&&"s"]})]}),o_=({todo:n,isActive:e,todoHandlers:t})=>{const[i,o]=V.useState(!1),a=Ts("cursor-pointer space-y-2 rounded-lg bg-white px-5 py-3 -outline-offset-4 hover:outline hover:outline-4",{"outline outline-4 outline-black hover:outline-black":e,"hover:outline-slate-300":!e});function u(){o(!1)}return i?x.jsx("div",{className:"rounded-lg bg-white",children:x.jsx(dE,{todo:n,onSubmit:d=>{t.editTodo(n.id,d),u()},onCancel:()=>u(),onDelete:()=>{t.removeTodo(n.id),u()}})}):x.jsxs("li",{className:a,role:"button",tabIndex:0,"data-active":e,onClick:()=>t.selectTodo(n.id),children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx(Ax,{id:n.id,title:n.title,completed:n.completed,onToggle:()=>{t.toggleTodoCompletion(n.id)}}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(bx,{completedSessions:n.completedSessions,targetSessions:n.targetSessions}),x.jsx(xx,{onToggleEditView:()=>o(!0)})]})]}),x.jsx(kx,{id:n.id,description:n.description})]})},Nx=({todos:n,activeTodoId:e,todoHandlers:t})=>{const i=n.filter(a=>a.completed),o=n.filter(a=>!a.completed);return x.jsxs("ol",{className:"grid gap-3",children:[o.map(a=>x.jsx(o_,{todo:a,isActive:a.id===e,todoHandlers:t},a.id)),i.map(a=>x.jsx(o_,{todo:a,isActive:a.id===e,todoHandlers:t},a.id))]})},Dx=({todosHandlers:n})=>x.jsxs("div",{className:"flex gap-2","aria-label":"action buttons for todos",children:[x.jsx("p",{className:"py-1 text-sm text-white",children:"Actions:"}),x.jsxs("div",{className:"flex flex-wrap gap-1",children:[x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm",onClick:()=>{n.resetTodos()},children:"Reset All"}),x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm",onClick:()=>{n.clearAllTodos()},children:"Clear All"}),x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm",onClick:()=>{n.clearCompletedTodos()},children:"Clear Completed"})]})]}),Ox=({todosHandlers:n})=>{const[e,t]=V.useState(fn.ALL);return x.jsxs("div",{className:"flex gap-2","aria-label":"action buttons for todos",children:[x.jsx("p",{className:"py-1 text-sm text-white",children:"Filters:"}),x.jsxs("div",{className:"flex flex-wrap gap-1",children:[x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm","data-active":e===fn.ALL,onClick:()=>{n.changeViewType(fn.ALL),t(fn.ALL)},children:"Show All"}),x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm","data-active":e===fn.ACTIVE,onClick:()=>{n.changeViewType(fn.ACTIVE),t(fn.ACTIVE)},children:"Show Active"}),x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm","data-active":e===fn.COMPLETED,onClick:()=>{n.changeViewType(fn.COMPLETED),t(fn.COMPLETED)},children:"Show Completed"})]})]})},Lx=()=>{const[n,e]=V.useState({width:document.body.scrollWidth,height:document.body.scrollHeight});return V.useEffect(()=>{const t=()=>{e({width:document.body.scrollWidth,height:document.body.scrollHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),n};var If,a_;function Mx(){if(a_)return If;a_=1;var n={linear:function(e,t,i,o){var a=i-t;return a*e/o+t},easeInQuad:function(e,t,i,o){var a=i-t;return a*(e/=o)*e+t},easeOutQuad:function(e,t,i,o){var a=i-t;return-a*(e/=o)*(e-2)+t},easeInOutQuad:function(e,t,i,o){var a=i-t;return(e/=o/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,i,o){var a=i-t;return a*(e/=o)*e*e+t},easeOutCubic:function(e,t,i,o){var a=i-t;return a*((e=e/o-1)*e*e+1)+t},easeInOutCubic:function(e,t,i,o){var a=i-t;return(e/=o/2)<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,i,o){var a=i-t;return a*(e/=o)*e*e*e+t},easeOutQuart:function(e,t,i,o){var a=i-t;return-a*((e=e/o-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,i,o){var a=i-t;return(e/=o/2)<1?a/2*e*e*e*e+t:-a/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,i,o){var a=i-t;return a*(e/=o)*e*e*e*e+t},easeOutQuint:function(e,t,i,o){var a=i-t;return a*((e=e/o-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,i,o){var a=i-t;return(e/=o/2)<1?a/2*e*e*e*e*e+t:a/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,i,o){var a=i-t;return-a*Math.cos(e/o*(Math.PI/2))+a+t},easeOutSine:function(e,t,i,o){var a=i-t;return a*Math.sin(e/o*(Math.PI/2))+t},easeInOutSine:function(e,t,i,o){var a=i-t;return-a/2*(Math.cos(Math.PI*e/o)-1)+t},easeInExpo:function(e,t,i,o){var a=i-t;return e==0?t:a*Math.pow(2,10*(e/o-1))+t},easeOutExpo:function(e,t,i,o){var a=i-t;return e==o?t+a:a*(-Math.pow(2,-10*e/o)+1)+t},easeInOutExpo:function(e,t,i,o){var a=i-t;return e===0?t:e===o?t+a:(e/=o/2)<1?a/2*Math.pow(2,10*(e-1))+t:a/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,i,o){var a=i-t;return-a*(Math.sqrt(1-(e/=o)*e)-1)+t},easeOutCirc:function(e,t,i,o){var a=i-t;return a*Math.sqrt(1-(e=e/o-1)*e)+t},easeInOutCirc:function(e,t,i,o){var a=i-t;return(e/=o/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+t:a/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,i,o){var a=i-t,u,d,f;return f=1.70158,d=0,u=a,e===0?t:(e/=o)===1?t+a:(d||(d=o*.3),u<Math.abs(a)?(u=a,f=d/4):f=d/(2*Math.PI)*Math.asin(a/u),-(u*Math.pow(2,10*(e-=1))*Math.sin((e*o-f)*(2*Math.PI)/d))+t)},easeOutElastic:function(e,t,i,o){var a=i-t,u,d,f;return f=1.70158,d=0,u=a,e===0?t:(e/=o)===1?t+a:(d||(d=o*.3),u<Math.abs(a)?(u=a,f=d/4):f=d/(2*Math.PI)*Math.asin(a/u),u*Math.pow(2,-10*e)*Math.sin((e*o-f)*(2*Math.PI)/d)+a+t)},easeInOutElastic:function(e,t,i,o){var a=i-t,u,d,f;return f=1.70158,d=0,u=a,e===0?t:(e/=o/2)===2?t+a:(d||(d=o*(.3*1.5)),u<Math.abs(a)?(u=a,f=d/4):f=d/(2*Math.PI)*Math.asin(a/u),e<1?-.5*(u*Math.pow(2,10*(e-=1))*Math.sin((e*o-f)*(2*Math.PI)/d))+t:u*Math.pow(2,-10*(e-=1))*Math.sin((e*o-f)*(2*Math.PI)/d)*.5+a+t)},easeInBack:function(e,t,i,o,a){var u=i-t;return a===void 0&&(a=1.70158),u*(e/=o)*e*((a+1)*e-a)+t},easeOutBack:function(e,t,i,o,a){var u=i-t;return a===void 0&&(a=1.70158),u*((e=e/o-1)*e*((a+1)*e+a)+1)+t},easeInOutBack:function(e,t,i,o,a){var u=i-t;return a===void 0&&(a=1.70158),(e/=o/2)<1?u/2*(e*e*(((a*=1.525)+1)*e-a))+t:u/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+t},easeInBounce:function(e,t,i,o){var a=i-t,u;return u=n.easeOutBounce(o-e,0,a,o),a-u+t},easeOutBounce:function(e,t,i,o){var a=i-t;return(e/=o)<1/2.75?a*(7.5625*e*e)+t:e<2/2.75?a*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?a*(7.5625*(e-=2.25/2.75)*e+.9375)+t:a*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,i,o){var a=i-t,u;return e<o/2?(u=n.easeInBounce(e*2,0,a,o),u*.5+t):(u=n.easeOutBounce(e*2-o,0,a,o),u*.5+a*.5+t)}};return If=n,If}var Vx=Mx();function Fx(n){return n*Math.PI/180}function qn(n,e){return n+Math.random()*(e-n)}function Ux(n,e){return Math.floor(n+Math.random()*(e-n+1))}var Pl;(function(n){n[n.Circle=0]="Circle",n[n.Square=1]="Square",n[n.Strip=2]="Strip"})(Pl||(Pl={}));var ps;(function(n){n[n.Positive=1]="Positive",n[n.Negative=-1]="Negative"})(ps||(ps={}));const jx=1e3/60;class zx{constructor(e,t,i,o){this.getOptions=t;const{colors:a,initialVelocityX:u,initialVelocityY:d}=this.getOptions();this.context=e,this.x=i,this.y=o,this.w=qn(5,20),this.h=qn(5,20),this.radius=qn(5,10),this.vx=typeof u=="number"?qn(-u,u):qn(u.min,u.max),this.vy=typeof d=="number"?qn(-d,0):qn(d.min,d.max),this.shape=Ux(0,2),this.angle=Fx(qn(0,360)),this.angularSpin=qn(-.2,.2),this.color=a[Math.floor(Math.random()*a.length)],this.rotateY=qn(0,1),this.rotationDirection=qn(0,1)?ps.Positive:ps.Negative}update(e){const{gravity:t,wind:i,friction:o,opacity:a,drawShape:u}=this.getOptions(),d=e/jx;this.x+=this.vx*d,this.y+=this.vy*d,this.vy+=t*d,this.vx+=i*d,this.vx*=o**d,this.vy*=o**d,this.rotateY>=1&&this.rotationDirection===ps.Positive?this.rotationDirection=ps.Negative:this.rotateY<=-1&&this.rotationDirection===ps.Negative&&(this.rotationDirection=ps.Positive);const f=.1*this.rotationDirection*d;if(this.rotateY+=f,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,u&&typeof u=="function")u.call(this,this.context);else switch(this.shape){case Pl.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case Pl.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case Pl.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class Bx{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=o=>{this.particles.splice(o,1)},this.getParticle=()=>{const o=qn(this.x,this.w+this.x),a=qn(this.y,this.h+this.y);return new zx(this.context,this.getOptions,o,a)},this.animate=o=>{const{canvas:a,context:u,particlesGenerated:d,lastNumberOfPieces:f}=this,{run:m,recycle:v,numberOfPieces:E,debug:T,tweenFunction:P,tweenDuration:F}=this.getOptions();if(!m)return!1;const $=this.particles.length,O=v?$:d;if(O<E){f!==E&&(this.tweenProgress=0,this.tweenFrom=O,this.lastNumberOfPieces=E),this.tweenProgress=Math.min(F,Math.max(0,this.tweenProgress+o));const K=P(this.tweenProgress,this.tweenFrom,E,F),z=Math.round(K-O);for(let G=0;G<z;G++)this.particles.push(this.getParticle());this.particlesGenerated+=z}T&&(u.font="12px sans-serif",u.fillStyle="#333",u.textAlign="right",u.fillText(`Particles: ${$}`,a.width-10,a.height-20));for(let K=this.particles.length-1;K>=0;K--){const z=this.particles[K];z.update(o),(z.y>a.height||z.y<-100||z.x>a.width+100||z.x<-100)&&(v&&O<=E?this.particles[K]=this.getParticle():this.removeParticleAt(K))}return $>0||O<E},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=t}}const nm={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:Vx.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};let $x=class{constructor(e,t){this.lastFrameTime=0,this.setOptionsWithDefaults=o=>{const a={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...a,...nm,...o},Object.assign(this,o.confettiSource)},this.update=(o=0)=>{const{options:{run:a,onConfettiComplete:u,frameRate:d},canvas:f,context:m}=this,v=Math.min(o-this.lastFrameTime,50);if(d&&v<1e3/d){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=o-(d?v%d:0),a&&(m.fillStyle="white",m.clearRect(0,0,f.width,f.height)),this.generator.animate(v)?this.rafId=requestAnimationFrame(this.update):(u&&typeof u=="function"&&this.generator.particlesGenerated>0&&u.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new Bx(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){var o,a;const t=(o=this._options)==null?void 0:o.run,i=(a=this._options)==null?void 0:a.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&t===!1&&this.update()}};const Hx=pt.createRef();class rm extends pt.Component{constructor(e){super(e),this.canvas=pt.createRef(),this.canvas=e.canvasRef||Hx}componentDidMount(){if(this.canvas.current){const e=Sf(this.props)[0];this.confetti=new $x(this.canvas.current,e)}}componentDidUpdate(){const e=Sf(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=Sf(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...t.style};return x.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...t,style:i})}}rm.defaultProps={...nm};rm.displayName="ReactConfetti";function Sf(n){const e={},t={},i={},o=[...Object.keys(nm),"confettiSource","drawShape","onConfettiComplete","frameRate"],a=["canvasRef"];for(const u in n){const d=n[u];o.includes(u)?e[u]=d:a.includes(u)?a[u]=d:i[u]=d}return[e,i,t]}const Wx=pt.forwardRef((n,e)=>x.jsx(rm,{canvasRef:e,...n})),qx=()=>{const{width:n,height:e}=Lx();return x.jsx(Wx,{width:n,height:e,numberOfPieces:1e3,recycle:!1})},Kx=()=>{const{allTodosCompleted:n}=tm();return V.useEffect(()=>{n&&U_("Congrats","success")},[n]),n?x.jsx(qx,{}):null},Gx=()=>{const n=tm(),[e,t]=V.useState(!1);return x.jsxs("section",{className:"mx-auto max-w-[var(--max-w-container)]","aria-label":"Todos section",children:[x.jsx(Kx,{}),x.jsx(Rx,{activeTodo:n.selectedTodo,todos:n.todos}),x.jsx("header",{className:"flex justify-between border-b-2 py-4",children:x.jsx("h2",{className:"text-lg font-bold text-white",children:"Tasks"})}),x.jsxs("div",{className:"grid gap-2 pb-6 pt-4",children:[x.jsx(Ox,{todosHandlers:n.todosHandlers}),x.jsx(Dx,{todosHandlers:n.todosHandlers})]}),x.jsx(Nx,{todos:n.visibleTodos,activeTodoId:n.selectedTodoId,todoHandlers:n.todoHandlers}),x.jsx("div",{className:"mt-5",children:e?x.jsx(dE,{onSubmit:i=>{n.todoHandlers.addTodo(i),t(!1)},onCancel:()=>t(!1)}):x.jsx(Px,{onClick:()=>t(!0)})})]})},Qx="/pomodor/remove-black-sm.png",Yx=({dialogRef:n})=>x.jsxs("div",{className:"flex items-center justify-between border-b border-solid px-5 py-3",children:[x.jsx("div",{}),x.jsx("h2",{className:"text-md font-bold uppercase",children:"Setting"}),x.jsx("button",{type:"button",className:"aspect-square h-3 w-3","aria-label":"Close button",onClick:()=>{n.current&&n.current.close()},children:x.jsx("img",{src:Qx,alt:""})})]}),Xx=()=>{const{timerSetting:n}=nu();return x.jsxs("div",{className:"space-y-4 border-b py-6",children:[x.jsx("h3",{className:"mb-3 font-bold uppercase tracking-wider text-gray-400",children:"Timer"}),x.jsxs("div",{className:"grid gap-1",children:[x.jsx("p",{className:"font-bold",children:"Time (minutes)"}),x.jsxs("div",{className:"flex flex-wrap justify-between",children:[x.jsxs("label",{className:"grid",children:[x.jsx("span",{className:"text-sm font-bold text-gray-400",children:"Pomodoro"}),x.jsx("input",{type:"number",className:"block border border-black",name:"pomodoro-duration",defaultValue:n.pomodoroDuration,min:1,required:!0})]}),x.jsxs("label",{className:"grid",children:[x.jsx("span",{className:"text-sm font-bold text-gray-400",children:"Short Break"}),x.jsx("input",{type:"number",className:"block border border-black",name:"break-duration",defaultValue:n.breakDuration,min:1,required:!0})]})]})]}),x.jsxs("label",{className:"flex items-center justify-between",children:[x.jsx("span",{children:"Auto Start Breaks"}),x.jsx("input",{type:"checkbox",name:"auto-start-break",className:"checkbox",defaultChecked:n.autoStartBreak})]}),x.jsxs("label",{className:"flex items-center justify-between",children:[x.jsx("span",{children:"Auto Start Pomodoros"}),x.jsx("input",{type:"checkbox",name:"auto-start-pomodoro",className:"checkbox",defaultChecked:n.autoStartPomodoros})]})]})},Jx=()=>{const{soundSetting:n,soundSettingHandlers:e}=nu();return x.jsxs("div",{className:"space-y-4 border-b py-6",children:[x.jsx("h3",{className:"mb-3 font-bold uppercase tracking-wider text-gray-400",children:"Sound"}),x.jsxs("div",{children:[x.jsxs("label",{className:"flex items-center justify-between",htmlFor:"alarm-sound",children:[x.jsx("span",{children:"Alarm Sound"}),x.jsx("select",{name:"alarm-sound",id:"alarm-sound",defaultValue:n.alarmSoundType,children:b_.map(t=>x.jsx("option",{value:t.value,children:t.label},t.value))})]}),x.jsxs("label",{className:"flex items-center justify-between",htmlFor:"alarm-sound-volume",children:[x.jsx("span",{className:"invisible",children:"Volume"}),x.jsxs("div",{children:[x.jsx("span",{children:n.alarmSoundVolume}),x.jsx("input",{type:"range",name:"alarm-sound-volume",id:"alarm-sound-volume",min:0,max:100,onChange:t=>e.setAlarmSoundVolume(Number(t.currentTarget.value)),value:n.alarmSoundVolume})]})]})]})]})},Zx=()=>{const{taskSetting:n}=nu();return x.jsxs("div",{className:"space-y-4 border-b py-6",children:[x.jsx("h3",{className:"mb-3 font-bold uppercase tracking-wider text-gray-400",children:"Task"}),x.jsxs("label",{className:"flex items-center justify-between",htmlFor:"auto-check-tasks",children:[x.jsx("span",{children:"Auto Check Tasks"}),x.jsx("input",{type:"checkbox",name:"auto-check-tasks",id:"auto-check-tasks",className:"checkbox",defaultChecked:n.autoCheckTasks})]}),x.jsxs("label",{className:"flex items-center justify-between",htmlFor:"auto-switch-tasks",children:[x.jsx("span",{children:"Auto Switch Tasks"}),x.jsx("input",{className:"checkbox",type:"checkbox",name:"auto-switch-tasks",id:"auto-switch-tasks",defaultChecked:n.autoSwitchTasks})]})]})},eb=({isFormValid:n})=>x.jsx("footer",{className:"flex justify-end bg-black/10 px-5 py-3",children:x.jsx("button",{type:"submit",className:"button !bg-black","data-type":"secondary","data-size":"md",disabled:!n,children:"OK"})}),tb=()=>{const n=nu(),e=Object.keys(Ri).filter(t=>isNaN(Number(t)));return x.jsxs("div",{className:"space-y-4 py-6",children:[x.jsx("h3",{className:"mb-3 font-bold uppercase tracking-wider text-gray-400",children:"Theme"}),x.jsxs("label",{className:"flex items-center justify-between",htmlFor:"dark-mode",children:[x.jsx("span",{children:"Dark Mode when running"}),x.jsx("input",{className:"checkbox",type:"checkbox",name:"dark-mode",id:"dark-mode",defaultChecked:n.themeSetting.darkModeWhenRunning})]}),x.jsxs("label",{className:"flex items-center justify-between",htmlFor:"pomodoro-bg-color",children:[x.jsx("span",{children:"Pomodoro Background Color"}),x.jsx("select",{name:"pomodoro-bg-color",id:"pomodoro-bg-color",defaultValue:n.themeSetting.themes.pomodoro,children:e.map((t,i)=>x.jsx("option",{value:i,children:t.toLowerCase()},i))})]}),x.jsxs("label",{className:"flex items-center justify-between",htmlFor:"short-break-bg-color",children:[x.jsx("span",{children:"Short Break Background Color"}),x.jsx("select",{name:"short-break-bg-color",id:"short-break-bg-color",defaultValue:n.themeSetting.themes.break,children:e.map((t,i)=>x.jsx("option",{value:i,children:t.toLowerCase()},i))})]})]})},nb=V.forwardRef((n,e)=>{const t=nu(),[i,o]=V.useState(!0),a=d=>{const f=d.currentTarget;o(f.checkValidity())},u=d=>{const f=d.currentTarget,m=new FormData(f);t.timerSettingHandler(Number(m.get("pomodoro-duration")),Number(m.get("break-duration")),!!m.get("auto-start-break"),!!m.get("auto-start-pomodoro")),t.taskSettingHandlers.taskSettingHandler(!!m.get("auto-check-tasks"),!!m.get("auto-switch-tasks")),t.soundSettingHandlers.soundSettingHandler(Number(m.get("alarm-sound-volume")),Number(m.get("alarm-sound"))),t.themeSettingHandlers.themeSettingHandler(!!m.get("dark-mode"),Number(m.get("pomodoro-bg-color")),Number(m.get("short-break-bg-color")))};return x.jsx("dialog",{ref:e,className:"h-fit w-full max-w-[25rem] rounded-lg backdrop:bg-black/50 backdrop:backdrop-blur-md",id:"modal",children:x.jsxs("form",{method:"dialog",onChange:a,onSubmit:u,children:[x.jsx(Yx,{dialogRef:e}),x.jsxs("div",{className:"px-5",children:[x.jsx(Xx,{}),x.jsx(tb,{}),x.jsx(Zx,{}),x.jsx(Jx,{})]}),x.jsx(eb,{isFormValid:i})]})})}),rb="/pomodor/config-solid-white.png",ib="/pomodor/analytics-solid-white.png",sb="/pomodor/icon-white.png",ob=()=>x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("img",{className:"aspect-square h-5 w-5",src:sb,alt:""}),x.jsx("span",{className:"text-xl font-bold text-white",children:"Pomodor"})]}),ab=()=>x.jsx("div",{className:"absolute bottom-0 h-0.5 w-full bg-white/20"}),lb="/pomodor/user-solid-white.png",ub="/pomodor/logout-solid-white.png",cb=(n,e)=>zA(kh,n,e),hb=(n,e)=>BA(kh,n,e),db=()=>qA(kh),fb=async(n,e)=>{const t=await cb(n,e),i=new hx,o=await i.getData(t.user.uid),a={timerSetting:{pomodoroDuration:15,breakDuration:30,autoStartBreak:!1,autoStartPomodoros:!1},timerMode:Dt.POMODORO,currentViewType:fn.ALL,elapsedTime:0,isTimerRunning:!1,selectedTodoId:"",sessionCount:0,soundSetting:{alarmSoundVolume:50,alarmSoundType:da.DIGITAL,tickingSoundType:dp.NONE},taskSetting:{autoCheckTasks:!1,autoSwitchTasks:!1},themeSetting:{darkModeWhenRunning:!0,themes:{pomodoro:0,break:1}},todos:[]};return o||await i.setData(a,t.user.uid),t};/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fE=n=>{throw TypeError(n)},pb=(n,e,t)=>e.has(n)||fE("Cannot "+t),Cf=(n,e,t)=>(pb(n,e,"read from private field"),t?t.call(n):e.get(n)),mb=(n,e,t)=>e.has(n)?fE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),l_="popstate";function gb(n={}){function e(i,o){let{pathname:a,search:u,hash:d}=i.location;return jl("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Os(o)}return vb(e,t,null,n)}function Xe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ut(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yb(){return Math.random().toString(36).substring(2,10)}function u_(n,e){return{usr:n.state,key:n.key,idx:e}}function jl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vs(e):e,state:t,key:e&&e.key||i||yb()}}function Os({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function vb(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function E(){d="POP";let O=v(),K=O==null?null:O-m;m=O,f&&f({action:d,location:$.location,delta:K})}function T(O,K){d="PUSH";let z=jl($.location,O,K);m=v()+1;let G=u_(z,m),ne=$.createHref(z);try{u.pushState(G,"",ne)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(ne)}a&&f&&f({action:d,location:$.location,delta:1})}function P(O,K){d="REPLACE";let z=jl($.location,O,K);m=v();let G=u_(z,m),ne=$.createHref(z);u.replaceState(G,"",ne),a&&f&&f({action:d,location:$.location,delta:0})}function F(O){return pE(O)}let $={get action(){return d},get location(){return n(o,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(l_,E),f=O,()=>{o.removeEventListener(l_,E),f=null}},createHref(O){return e(o,O)},createURL:F,encodeLocation(O){let K=F(O);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:T,replace:P,go(O){return u.go(O)}};return $}function pE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Os(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var _l,c_=class{constructor(n){if(mb(this,_l,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Cf(this,_l).has(n))return Cf(this,_l).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Cf(this,_l).set(n,e)}};_l=new WeakMap;var _b=new Set(["lazy","caseSensitive","path","id","index","children"]);function wb(n){return _b.has(n)}var Eb=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Tb(n){return Eb.has(n)}function Ib(n){return n.index===!0}function zl(n,e,t=[],i={},o=!1){return n.map((a,u)=>{let d=[...t,String(u)],f=typeof a.id=="string"?a.id:d.join("-");if(Xe(a.index!==!0||!a.children,"Cannot specify children on an index route"),Xe(o||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),Ib(a)){let m={...a,...e(a),id:f};return i[f]=m,m}else{let m={...a,...e(a),id:f,children:void 0};return i[f]=m,a.children&&(m.children=zl(a.children,e,d,i,o)),m}})}function _s(n,e,t="/"){return Mc(n,e,t,!1)}function Mc(n,e,t,i){let o=typeof e=="string"?Vs(e):e,a=fr(o.pathname||"/",t);if(a==null)return null;let u=mE(n);Cb(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=Mb(a);d=Ob(u[f],m,i)}return d}function Sb(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function mE(n,e=[],t=[],i="",o=!1){let a=(u,d,f=o,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;Xe(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let E=ti([i,v.relativePath]),T=t.concat(v);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),mE(u.children,e,T,E,f)),!(u.path==null&&!u.index)&&e.push({path:E,score:Nb(E,u.index),routesMeta:T})};return n.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))a(u,d);else for(let m of gE(u.path))a(u,d,!0,m)}),e}function gE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=gE(i.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function Cb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Db(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Rb=/^:[\w-]+$/,Pb=3,Ab=2,kb=1,xb=10,bb=-2,h_=n=>n==="*";function Nb(n,e){let t=n.split("/"),i=t.length;return t.some(h_)&&(i+=bb),e&&(i+=Ab),t.filter(o=>!h_(o)).reduce((o,a)=>o+(Rb.test(a)?Pb:a===""?kb:xb),i)}function Db(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function Ob(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],m=d===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=ah({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),T=f.route;if(!E&&m&&t&&!i[i.length-1].route.index&&(E=ah({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:ti([a,E.pathname]),pathnameBase:jb(ti([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=ti([a,E.pathnameBase]))}return u}function ah(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Lb(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:E},T)=>{if(v==="*"){let F=d[T]||"";u=a.slice(0,a.length-F.length).replace(/(.)\/+$/,"$1")}const P=d[T];return E&&!P?m[v]=void 0:m[v]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function Lb(n,e=!1,t=!0){Ut(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Mb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ut(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Vb({basename:n,pathname:e}){return e==="/"?n:ti([n,e])}function Fb(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Vs(n):n;return{pathname:t?t.startsWith("/")?t:Ub(t,e):e,search:zb(i),hash:Bb(o)}}function Ub(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Rf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function im(n){let e=yE(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function sm(n,e,t,i=!1){let o;typeof n=="string"?o=Vs(n):(o={...n},Xe(!o.pathname||!o.pathname.includes("?"),Rf("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Rf("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Rf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let E=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}d=E>=0?e[E]:"/"}let f=Fb(o,d),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),jb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Bb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,lh=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Bl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var vE=["POST","PUT","PATCH","DELETE"],$b=new Set(vE),Hb=["GET",...vE],Wb=new Set(Hb),qb=new Set([301,302,303,307,308]),Kb=new Set([307,308]),Pf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,om=n=>Qb.test(n),Yb=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),_E="remix-router-transitions",wE=Symbol("ResetLoaderData");function Xb(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],o=n.mapRouteProperties||Yb,a={},u=zl(n.routes,o,void 0,a),d,f=n.basename||"/";f.startsWith("/")||(f=`/${f}`);let m=n.dataStrategy||nN,v={...n.future},E=null,T=new Set,P=null,F=null,$=null,O=n.hydrationData!=null,K=_s(u,n.history.location,f),z=!1,G=null,ne;if(K==null&&!n.patchRoutesOnNavigation){let N=ur(404,{pathname:n.history.location.pathname}),{matches:H,route:Q}=Ic(u);ne=!0,K=H,G={[Q.id]:N}}else if(K&&!n.hydrationData&&_n(K,u,n.history.location.pathname).active&&(K=null),K)if(K.some(N=>N.route.lazy))ne=!1;else if(!K.some(N=>N.route.loader))ne=!0;else{let N=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let Q=K.findIndex(ae=>H[ae.route.id]!==void 0);ne=K.slice(0,Q+1).every(ae=>!lp(ae.route,N,H))}else ne=K.every(Q=>!lp(Q.route,N,H))}else{ne=!1,K=[];let N=_n(null,u,n.history.location.pathname);N.active&&N.matches&&(z=!0,K=N.matches)}let te,M={historyAction:n.history.action,location:n.history.location,matches:K,initialized:ne,navigation:Pf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||G,fetchers:new Map,blockers:new Map},R="POP",S=!1,C,b=!1,D=new Map,U=null,A=!1,Re=!1,me=new Set,ce=new Map,he=0,ee=-1,ge=new Map,ue=new Set,B=new Map,Z=new Map,pe=new Set,Ve=new Map,$e,Be=null;function Ne(){if(E=n.history.listen(({action:N,location:H,delta:Q})=>{if($e){$e(),$e=void 0;return}Ut(Ve.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Mr({currentLocation:M.location,nextLocation:H,historyAction:N});if(ae&&Q!=null){let de=new Promise(Ie=>{$e=Ie});n.history.go(Q*-1),Lr(ae,{state:"blocked",location:H,proceed(){Lr(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),de.then(()=>n.history.go(Q))},reset(){let Ie=new Map(M.blockers);Ie.set(ae,cl),Ge({blockers:Ie})}});return}return yn(N,H)}),t){yN(e,D);let N=()=>vN(e,D);e.addEventListener("pagehide",N),U=()=>e.removeEventListener("pagehide",N)}return M.initialized||yn("POP",M.location,{initialHydration:!0}),te}function Ke(){E&&E(),U&&U(),T.clear(),C&&C.abort(),M.fetchers.forEach((N,H)=>ui(H)),M.blockers.forEach((N,H)=>Bi(H))}function nt(N){return T.add(N),()=>T.delete(N)}function Ge(N,H={}){N.matches&&(N.matches=N.matches.map(de=>{let Ie=a[de.route.id],Pe=de.route;return Pe.element!==Ie.element||Pe.errorElement!==Ie.errorElement||Pe.hydrateFallbackElement!==Ie.hydrateFallbackElement?{...de,route:Ie}:de})),M={...M,...N};let Q=[],ae=[];M.fetchers.forEach((de,Ie)=>{de.state==="idle"&&(pe.has(Ie)?Q.push(Ie):ae.push(Ie))}),pe.forEach(de=>{!M.fetchers.has(de)&&!ce.has(de)&&Q.push(de)}),[...T].forEach(de=>de(M,{deletedFetchers:Q,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),Q.forEach(de=>ui(de)),ae.forEach(de=>M.fetchers.delete(de))}function on(N,H,{flushSync:Q}={}){var De,Se;let ae=M.actionData!=null&&M.navigation.formMethod!=null&&Vn(M.navigation.formMethod)&&M.navigation.state==="loading"&&((De=N.state)==null?void 0:De._isRedirect)!==!0,de;H.actionData?Object.keys(H.actionData).length>0?de=H.actionData:de=null:ae?de=M.actionData:de=null;let Ie=H.loaderData?E_(M.loaderData,H.loaderData,H.matches||[],H.errors):M.loaderData,Pe=M.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((je,Qe)=>Pe.set(Qe,cl)));let we=A?!1:ci(N,H.matches||M.matches),Ee=S===!0||M.navigation.formMethod!=null&&Vn(M.navigation.formMethod)&&((Se=N.state)==null?void 0:Se._isRedirect)!==!0;d&&(u=d,d=void 0),A||R==="POP"||(R==="PUSH"?n.history.push(N,N.state):R==="REPLACE"&&n.history.replace(N,N.state));let be;if(R==="POP"){let je=D.get(M.location.pathname);je&&je.has(N.pathname)?be={currentLocation:M.location,nextLocation:N}:D.has(N.pathname)&&(be={currentLocation:N,nextLocation:M.location})}else if(b){let je=D.get(M.location.pathname);je?je.add(N.pathname):(je=new Set([N.pathname]),D.set(M.location.pathname,je)),be={currentLocation:M.location,nextLocation:N}}Ge({...H,actionData:de,loaderData:Ie,historyAction:R,location:N,initialized:!0,navigation:Pf,revalidation:"idle",restoreScrollPosition:we,preventScrollReset:Ee,blockers:Pe},{viewTransitionOpts:be,flushSync:Q===!0}),R="POP",S=!1,b=!1,A=!1,Re=!1,Be==null||Be.resolve(),Be=null}async function oi(N,H){if(typeof N=="number"){n.history.go(N);return}let Q=ap(M.location,M.matches,f,N,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:ae,submission:de,error:Ie}=d_(!1,Q,H),Pe=M.location,we=jl(M.location,ae,H&&H.state);we={...we,...n.history.encodeLocation(we)};let Ee=H&&H.replace!=null?H.replace:void 0,be="PUSH";Ee===!0?be="REPLACE":Ee===!1||de!=null&&Vn(de.formMethod)&&de.formAction===M.location.pathname+M.location.search&&(be="REPLACE");let De=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Se=(H&&H.flushSync)===!0,je=Mr({currentLocation:Pe,nextLocation:we,historyAction:be});if(je){Lr(je,{state:"blocked",location:we,proceed(){Lr(je,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),oi(N,H)},reset(){let Qe=new Map(M.blockers);Qe.set(je,cl),Ge({blockers:Qe})}});return}await yn(be,we,{submission:de,pendingError:Ie,preventScrollReset:De,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Se})}function Nr(){Be||(Be=_N()),li(),Ge({revalidation:"loading"});let N=Be.promise;return M.navigation.state==="submitting"?N:M.navigation.state==="idle"?(yn(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),N):(yn(R||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:b===!0}),N)}async function yn(N,H,Q){C&&C.abort(),C=null,R=N,A=(Q&&Q.startUninterruptedRevalidation)===!0,Xn(M.location,M.matches),S=(Q&&Q.preventScrollReset)===!0,b=(Q&&Q.enableViewTransition)===!0;let ae=d||u,de=Q&&Q.overrideNavigation,Ie=Q!=null&&Q.initialHydration&&M.matches&&M.matches.length>0&&!z?M.matches:_s(ae,H,f),Pe=(Q&&Q.flushSync)===!0;if(Ie&&M.initialized&&!Re&&cN(M.location,H)&&!(Q&&Q.submission&&Vn(Q.submission.formMethod))){on(H,{matches:Ie},{flushSync:Pe});return}let we=_n(Ie,ae,H.pathname);if(we.active&&we.matches&&(Ie=we.matches),!Ie){let{error:yt,notFoundMatches:gt,route:ut}=Vr(H.pathname);on(H,{matches:gt,loaderData:{},errors:{[ut.id]:yt}},{flushSync:Pe});return}C=new AbortController;let Ee=ca(n.history,H,C.signal,Q&&Q.submission),be=n.unstable_getContext?await n.unstable_getContext():new c_,De;if(Q&&Q.pendingError)De=[ws(Ie).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Vn(Q.submission.formMethod)){let yt=await Vi(Ee,H,Q.submission,Ie,be,we.active,Q&&Q.initialHydration===!0,{replace:Q.replace,flushSync:Pe});if(yt.shortCircuited)return;if(yt.pendingActionResult){let[gt,ut]=yt.pendingActionResult;if(Kn(ut)&&Bl(ut.error)&&ut.error.status===404){C=null,on(H,{matches:yt.matches,loaderData:{},errors:{[gt]:ut.error}});return}}Ie=yt.matches||Ie,De=yt.pendingActionResult,de=Af(H,Q.submission),Pe=!1,we.active=!1,Ee=ca(n.history,Ee.url,Ee.signal)}let{shortCircuited:Se,matches:je,loaderData:Qe,errors:_t}=await Fs(Ee,H,Ie,be,we.active,de,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Pe,De);Se||(C=null,on(H,{matches:je||Ie,...T_(De),loaderData:Qe,errors:_t}))}async function Vi(N,H,Q,ae,de,Ie,Pe,we={}){li();let Ee=mN(H,Q);if(Ge({navigation:Ee},{flushSync:we.flushSync===!0}),Ie){let Se=await Fr(ae,H.pathname,N.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){if(Se.partialMatches.length===0){let{matches:Qe,route:_t}=Ic(u);return{matches:Qe,pendingActionResult:[_t.id,{type:"error",error:Se.error}]}}let je=ws(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[je,{type:"error",error:Se.error}]}}else if(Se.matches)ae=Se.matches;else{let{notFoundMatches:je,error:Qe,route:_t}=Vr(H.pathname);return{matches:je,pendingActionResult:[_t.id,{type:"error",error:Qe}]}}}let be,De=Vc(ae,H);if(!De.route.action&&!De.route.lazy)be={type:"error",error:ur(405,{method:N.method,pathname:H.pathname,routeId:De.route.id})};else{let Se=ya(o,a,N,ae,De,Pe?[]:i,de),je=await Qn(N,Se,de,null);if(be=je[De.route.id],!be){for(let Qe of ae)if(je[Qe.route.id]){be=je[Qe.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(uo(be)){let Se;return we&&we.replace!=null?Se=we.replace:Se=v_(be.response.headers.get("Location"),new URL(N.url),f)===M.location.pathname+M.location.search,await Fn(N,be,!0,{submission:Q,replace:Se}),{shortCircuited:!0}}if(Kn(be)){let Se=ws(ae,De.route.id);return(we&&we.replace)!==!0&&(R="PUSH"),{matches:ae,pendingActionResult:[Se.route.id,be,De.route.id]}}return{matches:ae,pendingActionResult:[De.route.id,be]}}async function Fs(N,H,Q,ae,de,Ie,Pe,we,Ee,be,De,Se){let je=Ie||Af(H,Pe),Qe=Pe||we||S_(je),_t=!A&&!be;if(de){if(_t){let xt=Fi(Se);Ge({navigation:je,...xt!==void 0?{actionData:xt}:{}},{flushSync:De})}let He=await Fr(Q,H.pathname,N.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){if(He.partialMatches.length===0){let{matches:gr,route:En}=Ic(u);return{matches:gr,loaderData:{},errors:{[En.id]:He.error}}}let xt=ws(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[xt]:He.error}}}else if(He.matches)Q=He.matches;else{let{error:xt,notFoundMatches:gr,route:En}=Vr(H.pathname);return{matches:gr,loaderData:{},errors:{[En.id]:xt}}}}let yt=d||u,{dsMatches:gt,revalidatingFetchers:ut}=f_(N,ae,o,a,n.history,M,Q,Qe,H,be?[]:i,be===!0,Re,me,pe,B,ue,yt,f,n.patchRoutesOnNavigation!=null,Se);if(ee=++he,!n.dataStrategy&&!gt.some(He=>He.shouldLoad)&&!gt.some(He=>He.route.unstable_middleware)&&ut.length===0){let He=ji();return on(H,{matches:Q,loaderData:{},errors:Se&&Kn(Se[1])?{[Se[0]]:Se[1].error}:null,...T_(Se),...He?{fetchers:new Map(M.fetchers)}:{}},{flushSync:De}),{shortCircuited:!0}}if(_t){let He={};if(!de){He.navigation=je;let xt=Fi(Se);xt!==void 0&&(He.actionData=xt)}ut.length>0&&(He.fetchers=Ro(ut)),Ge(He,{flushSync:De})}ut.forEach(He=>{an(He.key),He.controller&&ce.set(He.key,He.controller)});let Rn=()=>ut.forEach(He=>an(He.key));C&&C.signal.addEventListener("abort",Rn);let{loaderResults:Jn,fetcherResults:Pn}=await ai(gt,ut,N,ae);if(N.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Rn),ut.forEach(He=>ce.delete(He.key));let wn=Sc(Jn);if(wn)return await Fn(N,wn.result,!0,{replace:Ee}),{shortCircuited:!0};if(wn=Sc(Pn),wn)return ue.add(wn.key),await Fn(N,wn.result,!0,{replace:Ee}),{shortCircuited:!0};let{loaderData:zs,errors:at}=w_(M,Q,Jn,Se,ut,Pn);be&&M.errors&&(at={...M.errors,...at});let Zn=ji(),er=zi(ee),Un=Zn||er||ut.length>0;return{matches:Q,loaderData:zs,errors:at,...Un?{fetchers:new Map(M.fetchers)}:{}}}function Fi(N){if(N&&!Kn(N[1]))return{[N[0]]:N[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Ro(N){return N.forEach(H=>{let Q=M.fetchers.get(H.key),ae=hl(void 0,Q?Q.data:void 0);M.fetchers.set(H.key,ae)}),new Map(M.fetchers)}async function Ui(N,H,Q,ae){an(N);let de=(ae&&ae.flushSync)===!0,Ie=d||u,Pe=ap(M.location,M.matches,f,Q,H,ae==null?void 0:ae.relative),we=_s(Ie,Pe,f),Ee=_n(we,Ie,Pe);if(Ee.active&&Ee.matches&&(we=Ee.matches),!we){ht(N,H,ur(404,{pathname:Pe}),{flushSync:de});return}let{path:be,submission:De,error:Se}=d_(!0,Pe,ae);if(Se){ht(N,H,Se,{flushSync:de});return}let je=n.unstable_getContext?await n.unstable_getContext():new c_,Qe=(ae&&ae.preventScrollReset)===!0;if(De&&Vn(De.formMethod)){await pr(N,H,be,we,je,Ee.active,de,Qe,De);return}B.set(N,{routeId:H,path:be}),await mr(N,H,be,we,je,Ee.active,de,Qe,De)}async function pr(N,H,Q,ae,de,Ie,Pe,we,Ee){li(),B.delete(N);let be=M.fetchers.get(N);mt(N,gN(Ee,be),{flushSync:Pe});let De=new AbortController,Se=ca(n.history,Q,De.signal,Ee);if(Ie){let st=await Fr(ae,new URL(Se.url).pathname,Se.signal,N);if(st.type==="aborted")return;if(st.type==="error"){ht(N,H,st.error,{flushSync:Pe});return}else if(st.matches)ae=st.matches;else{ht(N,H,ur(404,{pathname:Q}),{flushSync:Pe});return}}let je=Vc(ae,Q);if(!je.route.action&&!je.route.lazy){let st=ur(405,{method:Ee.formMethod,pathname:Q,routeId:H});ht(N,H,st,{flushSync:Pe});return}ce.set(N,De);let Qe=he,_t=ya(o,a,Se,ae,je,i,de),gt=(await Qn(Se,_t,de,N))[je.route.id];if(Se.signal.aborted){ce.get(N)===De&&ce.delete(N);return}if(pe.has(N)){if(uo(gt)||Kn(gt)){mt(N,fs(void 0));return}}else{if(uo(gt))if(ce.delete(N),ee>Qe){mt(N,fs(void 0));return}else return ue.add(N),mt(N,hl(Ee)),Fn(Se,gt,!1,{fetcherSubmission:Ee,preventScrollReset:we});if(Kn(gt)){ht(N,H,gt.error);return}}let ut=M.navigation.location||M.location,Rn=ca(n.history,ut,De.signal),Jn=d||u,Pn=M.navigation.state!=="idle"?_s(Jn,M.navigation.location,f):M.matches;Xe(Pn,"Didn't find any matches after fetcher action");let wn=++he;ge.set(N,wn);let zs=hl(Ee,gt.data);M.fetchers.set(N,zs);let{dsMatches:at,revalidatingFetchers:Zn}=f_(Rn,de,o,a,n.history,M,Pn,Ee,ut,i,!1,Re,me,pe,B,ue,Jn,f,n.patchRoutesOnNavigation!=null,[je.route.id,gt]);Zn.filter(st=>st.key!==N).forEach(st=>{let di=st.key,Wt=M.fetchers.get(di),Bs=hl(void 0,Wt?Wt.data:void 0);M.fetchers.set(di,Bs),an(di),st.controller&&ce.set(di,st.controller)}),Ge({fetchers:new Map(M.fetchers)});let er=()=>Zn.forEach(st=>an(st.key));De.signal.addEventListener("abort",er);let{loaderResults:Un,fetcherResults:He}=await ai(at,Zn,Rn,de);if(De.signal.aborted)return;if(De.signal.removeEventListener("abort",er),ge.delete(N),ce.delete(N),Zn.forEach(st=>ce.delete(st.key)),M.fetchers.has(N)){let st=fs(gt.data);M.fetchers.set(N,st)}let xt=Sc(Un);if(xt)return Fn(Rn,xt.result,!1,{preventScrollReset:we});if(xt=Sc(He),xt)return ue.add(xt.key),Fn(Rn,xt.result,!1,{preventScrollReset:we});let{loaderData:gr,errors:En}=w_(M,Pn,Un,void 0,Zn,He);zi(wn),M.navigation.state==="loading"&&wn>ee?(Xe(R,"Expected pending action"),C&&C.abort(),on(M.navigation.location,{matches:Pn,loaderData:gr,errors:En,fetchers:new Map(M.fetchers)})):(Ge({errors:En,loaderData:E_(M.loaderData,gr,Pn,En),fetchers:new Map(M.fetchers)}),Re=!1)}async function mr(N,H,Q,ae,de,Ie,Pe,we,Ee){let be=M.fetchers.get(N);mt(N,hl(Ee,be?be.data:void 0),{flushSync:Pe});let De=new AbortController,Se=ca(n.history,Q,De.signal);if(Ie){let ut=await Fr(ae,new URL(Se.url).pathname,Se.signal,N);if(ut.type==="aborted")return;if(ut.type==="error"){ht(N,H,ut.error,{flushSync:Pe});return}else if(ut.matches)ae=ut.matches;else{ht(N,H,ur(404,{pathname:Q}),{flushSync:Pe});return}}let je=Vc(ae,Q);ce.set(N,De);let Qe=he,_t=ya(o,a,Se,ae,je,i,de),gt=(await Qn(Se,_t,de,N))[je.route.id];if(ce.get(N)===De&&ce.delete(N),!Se.signal.aborted){if(pe.has(N)){mt(N,fs(void 0));return}if(uo(gt))if(ee>Qe){mt(N,fs(void 0));return}else{ue.add(N),await Fn(Se,gt,!1,{preventScrollReset:we});return}if(Kn(gt)){ht(N,H,gt.error);return}mt(N,fs(gt.data))}}async function Fn(N,H,Q,{submission:ae,fetcherSubmission:de,preventScrollReset:Ie,replace:Pe}={}){H.response.headers.has("X-Remix-Revalidate")&&(Re=!0);let we=H.response.headers.get("Location");Xe(we,"Expected a Location header on the redirect Response"),we=v_(we,new URL(N.url),f);let Ee=jl(M.location,we,{_isRedirect:!0});if(t){let _t=!1;if(H.response.headers.has("X-Remix-Reload-Document"))_t=!0;else if(om(we)){const yt=pE(we,!0);_t=yt.origin!==e.location.origin||fr(yt.pathname,f)==null}if(_t){Pe?e.location.replace(we):e.location.assign(we);return}}C=null;let be=Pe===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:Se,formEncType:je}=M.navigation;!ae&&!de&&De&&Se&&je&&(ae=S_(M.navigation));let Qe=ae||de;if(Kb.has(H.response.status)&&Qe&&Vn(Qe.formMethod))await yn(be,Ee,{submission:{...Qe,formAction:we},preventScrollReset:Ie||S,enableViewTransition:Q?b:void 0});else{let _t=Af(Ee,ae);await yn(be,Ee,{overrideNavigation:_t,fetcherSubmission:de,preventScrollReset:Ie||S,enableViewTransition:Q?b:void 0})}}async function Qn(N,H,Q,ae){let de,Ie={};try{de=await iN(m,N,H,ae,Q,!1)}catch(Pe){return H.filter(we=>we.shouldLoad).forEach(we=>{Ie[we.route.id]={type:"error",error:Pe}}),Ie}if(N.signal.aborted)return Ie;for(let[Pe,we]of Object.entries(de))if(fN(we)){let Ee=we.result;Ie[Pe]={type:"redirect",response:lN(Ee,N,Pe,H,f)}}else Ie[Pe]=await aN(we);return Ie}async function ai(N,H,Q,ae){let de=Qn(Q,N,ae,null),Ie=Promise.all(H.map(async Ee=>{if(Ee.matches&&Ee.match&&Ee.request&&Ee.controller){let De=(await Qn(Ee.request,Ee.matches,ae,Ee.key))[Ee.match.route.id];return{[Ee.key]:De}}else return Promise.resolve({[Ee.key]:{type:"error",error:ur(404,{pathname:Ee.path})}})})),Pe=await de,we=(await Ie).reduce((Ee,be)=>Object.assign(Ee,be),{});return{loaderResults:Pe,fetcherResults:we}}function li(){Re=!0,B.forEach((N,H)=>{ce.has(H)&&me.add(H),an(H)})}function mt(N,H,Q={}){M.fetchers.set(N,H),Ge({fetchers:new Map(M.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function ht(N,H,Q,ae={}){let de=ws(M.matches,H);ui(N),Ge({errors:{[de.route.id]:Q},fetchers:new Map(M.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Yn(N){return Z.set(N,(Z.get(N)||0)+1),pe.has(N)&&pe.delete(N),M.fetchers.get(N)||Gb}function ui(N){let H=M.fetchers.get(N);ce.has(N)&&!(H&&H.state==="loading"&&ge.has(N))&&an(N),B.delete(N),ge.delete(N),ue.delete(N),pe.delete(N),me.delete(N),M.fetchers.delete(N)}function Dr(N){let H=(Z.get(N)||0)-1;H<=0?(Z.delete(N),pe.add(N)):Z.set(N,H),Ge({fetchers:new Map(M.fetchers)})}function an(N){let H=ce.get(N);H&&(H.abort(),ce.delete(N))}function Or(N){for(let H of N){let Q=Yn(H),ae=fs(Q.data);M.fetchers.set(H,ae)}}function ji(){let N=[],H=!1;for(let Q of ue){let ae=M.fetchers.get(Q);Xe(ae,`Expected fetcher: ${Q}`),ae.state==="loading"&&(ue.delete(Q),N.push(Q),H=!0)}return Or(N),H}function zi(N){let H=[];for(let[Q,ae]of ge)if(ae<N){let de=M.fetchers.get(Q);Xe(de,`Expected fetcher: ${Q}`),de.state==="loading"&&(an(Q),ge.delete(Q),H.push(Q))}return Or(H),H.length>0}function Us(N,H){let Q=M.blockers.get(N)||cl;return Ve.get(N)!==H&&Ve.set(N,H),Q}function Bi(N){M.blockers.delete(N),Ve.delete(N)}function Lr(N,H){let Q=M.blockers.get(N)||cl;Xe(Q.state==="unblocked"&&H.state==="blocked"||Q.state==="blocked"&&H.state==="blocked"||Q.state==="blocked"&&H.state==="proceeding"||Q.state==="blocked"&&H.state==="unblocked"||Q.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${H.state}`);let ae=new Map(M.blockers);ae.set(N,H),Ge({blockers:ae})}function Mr({currentLocation:N,nextLocation:H,historyAction:Q}){if(Ve.size===0)return;Ve.size>1&&Ut(!1,"A router only supports one blocker at a time");let ae=Array.from(Ve.entries()),[de,Ie]=ae[ae.length-1],Pe=M.blockers.get(de);if(!(Pe&&Pe.state==="proceeding")&&Ie({currentLocation:N,nextLocation:H,historyAction:Q}))return de}function Vr(N){let H=ur(404,{pathname:N}),Q=d||u,{matches:ae,route:de}=Ic(Q);return{notFoundMatches:ae,route:de,error:H}}function $i(N,H,Q){if(P=N,$=H,F=Q||null,!O&&M.navigation===Pf){O=!0;let ae=ci(M.location,M.matches);ae!=null&&Ge({restoreScrollPosition:ae})}return()=>{P=null,$=null,F=null}}function vn(N,H){return F&&F(N,H.map(ae=>Sb(ae,M.loaderData)))||N.key}function Xn(N,H){if(P&&$){let Q=vn(N,H);P[Q]=$()}}function ci(N,H){if(P){let Q=vn(N,H),ae=P[Q];if(typeof ae=="number")return ae}return null}function _n(N,H,Q){if(n.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Mc(H,Q,f,!0)}}else return{active:!0,matches:Mc(H,Q,f,!0)||[]};return{active:!1,matches:null}}async function Fr(N,H,Q,ae){if(!n.patchRoutesOnNavigation)return{type:"success",matches:N};let de=N;for(;;){let Ie=d==null,Pe=d||u,we=a;try{await n.patchRoutesOnNavigation({signal:Q,path:H,matches:de,fetcherKey:ae,patch:(De,Se)=>{Q.aborted||p_(De,Se,Pe,we,o,!1)}})}catch(De){return{type:"error",error:De,partialMatches:de}}finally{Ie&&!Q.aborted&&(u=[...u])}if(Q.aborted)return{type:"aborted"};let Ee=_s(Pe,H,f);if(Ee)return{type:"success",matches:Ee};let be=Mc(Pe,H,f,!0);if(!be||de.length===be.length&&de.every((De,Se)=>De.route.id===be[Se].route.id))return{type:"success",matches:null};de=be}}function hi(N){a={},d=zl(N,o,void 0,a)}function js(N,H,Q=!1){let ae=d==null;p_(N,H,d||u,a,o,Q),ae&&(u=[...u],Ge({}))}return te={get basename(){return f},get future(){return v},get state(){return M},get routes(){return u},get window(){return e},initialize:Ne,subscribe:nt,enableScrollRestoration:$i,navigate:oi,fetch:Ui,revalidate:Nr,createHref:N=>n.history.createHref(N),encodeLocation:N=>n.history.encodeLocation(N),getFetcher:Yn,deleteFetcher:Dr,dispose:Ke,getBlocker:Us,deleteBlocker:Bi,patchRoutes:js,_internalFetchControllers:ce,_internalSetRoutes:hi,_internalSetStateDoNotUseOrYouWillBreakYourApp(N){Ge(N)}},te}function Jb(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ap(n,e,t,i,o,a){let u,d;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){d=m;break}}else u=e,d=e[e.length-1];let f=sm(i||".",im(u),fr(n.pathname,t)||n.pathname,a==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&d){let m=am(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let v=new URLSearchParams(f.search),E=v.getAll("index");v.delete("index"),E.filter(P=>P).forEach(P=>v.append("index",P));let T=v.toString();f.search=T?`?${T}`:""}}return t!=="/"&&(f.pathname=Vb({basename:t,pathname:f.pathname})),Os(f)}function d_(n,e,t){if(!t||!Jb(t))return{path:e};if(t.formMethod&&!pN(t.formMethod))return{path:e,error:ur(405,{method:t.formMethod})};let i=()=>({path:e,error:ur(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=RE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Vn(a))return i();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((T,[P,F])=>`${T}${P}=${F}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Vn(a))return i();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return i()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let d,f;if(t.formData)d=cp(t.formData),f=t.formData;else if(t.body instanceof FormData)d=cp(t.body),f=t.body;else if(t.body instanceof URLSearchParams)d=t.body,f=__(d);else if(t.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(t.body),f=__(d)}catch{return i()}let m={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vn(m.formMethod))return{path:e,submission:m};let v=Vs(e);return n&&v.search&&am(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Os(v),submission:m}}function f_(n,e,t,i,o,a,u,d,f,m,v,E,T,P,F,$,O,K,z,G){var A;let ne=G?Kn(G[1])?G[1].error:G[1].data:void 0,te=o.createURL(a.location),M=o.createURL(f),R;if(v&&a.errors){let Re=Object.keys(a.errors)[0];R=u.findIndex(me=>me.route.id===Re)}else if(G&&Kn(G[1])){let Re=G[0];R=u.findIndex(me=>me.route.id===Re)-1}let S=G?G[1].statusCode:void 0,C=S&&S>=400,b={currentUrl:te,currentParams:((A=a.matches[0])==null?void 0:A.params)||{},nextUrl:M,nextParams:u[0].params,...d,actionResult:ne,actionStatus:S},D=u.map((Re,me)=>{let{route:ce}=Re,he=null;if(R!=null&&me>R?he=!1:ce.lazy?he=!0:ce.loader==null?he=!1:v?he=lp(ce,a.loaderData,a.errors):Zb(a.loaderData,a.matches[me],Re)&&(he=!0),he!==null)return up(t,i,n,Re,m,e,he);let ee=C?!1:E||te.pathname+te.search===M.pathname+M.search||te.search!==M.search||eN(a.matches[me],Re),ge={...b,defaultShouldRevalidate:ee},ue=uh(Re,ge);return up(t,i,n,Re,m,e,ue,ge)}),U=[];return F.forEach((Re,me)=>{if(v||!u.some(pe=>pe.route.id===Re.routeId)||P.has(me))return;let ce=a.fetchers.get(me),he=ce&&ce.state!=="idle"&&ce.data===void 0,ee=_s(O,Re.path,K);if(!ee){if(z&&he)return;U.push({key:me,routeId:Re.routeId,path:Re.path,matches:null,match:null,request:null,controller:null});return}if($.has(me))return;let ge=Vc(ee,Re.path),ue=new AbortController,B=ca(o,Re.path,ue.signal),Z=null;if(T.has(me))T.delete(me),Z=ya(t,i,B,ee,ge,m,e);else if(he)E&&(Z=ya(t,i,B,ee,ge,m,e));else{let pe={...b,defaultShouldRevalidate:C?!1:E};uh(ge,pe)&&(Z=ya(t,i,B,ee,ge,m,e,pe))}Z&&U.push({key:me,routeId:Re.routeId,path:Re.path,matches:Z,match:ge,request:B,controller:ue})}),{dsMatches:D,revalidatingFetchers:U}}function lp(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&n.id in e,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function Zb(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function eN(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function uh(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function p_(n,e,t,i,o,a){let u;if(n){let m=i[n];Xe(m,`No route found to patch children into: routeId = ${n}`),m.children||(m.children=[]),u=m.children}else u=t;let d=[],f=[];if(e.forEach(m=>{let v=u.find(E=>EE(m,E));v?f.push({existingRoute:v,newRoute:m}):d.push(m)}),d.length>0){let m=zl(d,o,[n||"_","patch",String((u==null?void 0:u.length)||"0")],i);u.push(...m)}if(a&&f.length>0)for(let m=0;m<f.length;m++){let{existingRoute:v,newRoute:E}=f[m],T=v,[P]=zl([E],o,[],{},!0);Object.assign(T,{element:P.element?P.element:T.element,errorElement:P.errorElement?P.errorElement:T.errorElement,hydrateFallbackElement:P.hydrateFallbackElement?P.hydrateFallbackElement:T.hydrateFallbackElement})}}function EE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(a=>EE(t,a))}):!1}var m_=new WeakMap,TE=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let o=t[e.id];if(Xe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let a=o.lazy[n];if(!a)return;let u=m_.get(o);u||(u={},m_.set(o,u));let d=u[n];if(d)return d;let f=(async()=>{let m=wb(n),E=o[n]!==void 0&&n!=="hasErrorBoundary";if(m)Ut(!m,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(E)Ut(!1,`Route "${o.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let T=await a();T!=null&&(Object.assign(o,{[n]:T}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[n]=void 0,Object.values(o.lazy).every(T=>T===void 0)&&(o.lazy=void 0))})();return u[n]=f,f},g_=new WeakMap;function tN(n,e,t,i,o){let a=t[n.id];if(Xe(a,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let v=g_.get(a);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let E=(async()=>{Xe(typeof n.lazy=="function","No lazy route function found");let T=await n.lazy(),P={};for(let F in T){let $=T[F];if($===void 0)continue;let O=Tb(F),z=a[F]!==void 0&&F!=="hasErrorBoundary";O?Ut(!O,"Route property "+F+" is not a supported property to be returned from a lazy route function. This property will be ignored."):z?Ut(!z,`Route "${a.id}" has a static property "${F}" defined but its lazy function is also returning a value for this property. The lazy route property "${F}" will be ignored.`):P[F]=$}Object.assign(a,P),Object.assign(a,{...i(a),lazy:void 0})})();return g_.set(a,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let u=Object.keys(n.lazy),d=[],f;for(let v of u){if(o&&o.includes(v))continue;let E=TE({key:v,route:n,manifest:t,mapRouteProperties:i});E&&(d.push(E),v===e&&(f=E))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m==null||m.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function y_(n){let e=n.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,a)=>{t[e[a].route.id]=o}),t}async function nN(n){return n.matches.some(e=>e.route.unstable_middleware)?IE(n,()=>y_(n)):y_(n)}function IE(n,e){return rN(n,e,i=>i,hN,t);function t(i,o,a){if(a)return Promise.resolve(Object.assign(a.value,{[o]:{type:"error",result:i}}));{let{matches:u}=n,d=Math.min(u.findIndex(m=>m.route.id===o)||0,u.findIndex(m=>m.unstable_shouldCallHandler())||0),f=ws(u,u[d].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:i}})}}}async function rN(n,e,t,i,o){let{matches:a,request:u,params:d,context:f}=n,m=a.flatMap(E=>E.route.unstable_middleware?E.route.unstable_middleware.map(T=>[E.route.id,T]):[]);return await SE({request:u,params:d,context:f},m,e,t,i,o)}async function SE(n,e,t,i,o,a,u=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let f=e[u];if(!f)return await t();let[m,v]=f,E,T=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");try{return E={value:await SE(n,e,t,i,o,a,u+1)},E.value}catch(P){return E={value:await a(P,m,E)},E.value}};try{let P=await v(n,T),F=P!=null?i(P):void 0;return o(F)?F:E?F??E.value:(E={value:await T()},E.value)}catch(P){return await a(P,m,E)}}function CE(n,e,t,i,o){let a=TE({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),u=tN(i.route,Vn(t.method)?"action":"loader",e,n,o);return{middleware:a,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function up(n,e,t,i,o,a,u,d=null){let f=!1,m=CE(n,e,t,i,o);return{...i,_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return f=!0,d?typeof v=="boolean"?uh(i,{...d,defaultShouldRevalidate:v}):uh(i,d):u},resolve(v){return f||u||v&&!Vn(t.method)&&(i.route.lazy||i.route.loader)?sN({request:t,match:i,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:v,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function ya(n,e,t,i,o,a,u,d=null){return i.map(f=>f.route.id!==o.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:CE(n,e,t,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:up(n,e,t,f,a,u,!0,d))}async function iN(n,e,t,i,o,a){t.some(m=>{var v;return(v=m._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(t.map(m=>{var v;return(v=m._lazyPromises)==null?void 0:v.middleware}));let u={request:e,params:t[0].params,context:o,matches:t},f=await n({...u,fetcherKey:i,unstable_runClientMiddleware:m=>{let v=u;return IE(v,()=>m({...v,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(m=>{var v,E;return[(v=m._lazyPromises)==null?void 0:v.handler,(E=m._lazyPromises)==null?void 0:E.route]}))}catch{}return f}async function sN({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:o,scopedContext:a}){let u,d,f=Vn(n.method),m=f?"action":"loader",v=E=>{let T,P=new Promise((O,K)=>T=K);d=()=>T(),n.signal.addEventListener("abort",d);let F=O=>typeof E!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):E({request:n,params:e.params,context:a},...O!==void 0?[O]:[]),$=(async()=>{try{return{type:"data",result:await(o?o(K=>F(K)):F())}}catch(O){return{type:"error",result:O}}})();return Promise.race([$,P])};try{let E=f?e.route.action:e.route.loader;if(t||i)if(E){let T,[P]=await Promise.all([v(E).catch(F=>{T=F}),t,i]);if(T!==void 0)throw T;u=P}else{await t;let T=f?e.route.action:e.route.loader;if(T)[u]=await Promise.all([v(T),i]);else if(m==="action"){let P=new URL(n.url),F=P.pathname+P.search;throw ur(405,{method:n.method,pathname:F,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(E)u=await v(E);else{let T=new URL(n.url),P=T.pathname+T.search;throw ur(404,{pathname:P})}}catch(E){return{type:"error",result:E}}finally{d&&n.signal.removeEventListener("abort",d)}return u}async function oN(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function aN(n){var i,o,a,u,d,f;let{result:e,type:t}=n;if(PE(e)){let m;try{m=await oN(e)}catch(v){return{type:"error",error:v}}return t==="error"?{type:"error",error:new lh(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return t==="error"?I_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new lh(((a=e.init)==null?void 0:a.status)||500,void 0,e.data),statusCode:Bl(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Bl(e)?e.status:void 0}:I_(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function lN(n,e,t,i,o){let a=n.headers.get("Location");if(Xe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!om(a)){let u=i.slice(0,i.findIndex(d=>d.route.id===t)+1);a=ap(new URL(e.url),u,o,a),n.headers.set("Location",a)}return n}function v_(n,e,t){if(om(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=fr(o.pathname,t)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return n}function ca(n,e,t,i){let o=n.createURL(RE(e)).toString(),a={signal:t};if(i&&Vn(i.formMethod)){let{formMethod:u,formEncType:d}=i;a.method=u.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(i.json)):d==="text/plain"?a.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?a.body=cp(i.formData):a.body=i.formData}return new Request(o,a)}function cp(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function __(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function uN(n,e,t,i=!1,o=!1){let a={},u=null,d,f=!1,m={},v=t&&Kn(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let T=E.route.id,P=e[T];if(Xe(!uo(P),"Cannot handle redirect results in processLoaderData"),Kn(P)){let F=P.error;if(v!==void 0&&(F=v,v=void 0),u=u||{},o)u[T]=F;else{let $=ws(n,T);u[$.route.id]==null&&(u[$.route.id]=F)}i||(a[T]=wE),f||(f=!0,d=Bl(P.error)?P.error.status:500),P.headers&&(m[T]=P.headers)}else a[T]=P.data,P.statusCode&&P.statusCode!==200&&!f&&(d=P.statusCode),P.headers&&(m[T]=P.headers)}),v!==void 0&&t&&(u={[t[0]]:v},t[2]&&(a[t[2]]=void 0)),{loaderData:a,errors:u,statusCode:d||200,loaderHeaders:m}}function w_(n,e,t,i,o,a){let{loaderData:u,errors:d}=uN(e,t,i);return o.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:v,controller:E}=f;if(E&&E.signal.aborted)return;let T=a[m];if(Xe(T,"Did not find corresponding fetcher result"),Kn(T)){let P=ws(n.matches,v==null?void 0:v.route.id);d&&d[P.route.id]||(d={...d,[P.route.id]:T.error}),n.fetchers.delete(m)}else if(uo(T))Xe(!1,"Unhandled fetcher revalidation redirect");else{let P=fs(T.data);n.fetchers.set(m,P)}}),{loaderData:u,errors:d}}function E_(n,e,t,i){let o=Object.entries(e).filter(([,a])=>a!==wE).reduce((a,[u,d])=>(a[u]=d,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(o[u]=n[u]),i&&i.hasOwnProperty(u))break}return o}function T_(n){return n?Kn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ws(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Ic(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(n,{pathname:e,routeId:t,method:i,type:o,message:a}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&e&&t?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(u="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",d=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",i&&e&&t?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new lh(n||500,u,new Error(d),!0)}function Sc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(uo(o))return{key:i,result:o}}}function RE(n){let e=typeof n=="string"?Vs(n):n;return Os({...e,hash:""})}function cN(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function hN(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&dN(t))}function dN(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function fN(n){return PE(n.result)&&qb.has(n.result.status)}function Kn(n){return n.type==="error"}function uo(n){return(n&&n.type)==="redirect"}function I_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function PE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function pN(n){return Wb.has(n.toUpperCase())}function Vn(n){return $b.has(n.toUpperCase())}function am(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Vc(n,e){let t=typeof e=="string"?Vs(e).search:e.search;if(n[n.length-1].route.index&&am(t||""))return n[n.length-1];let i=yE(n);return i[i.length-1]}function S_(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:a,json:u}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:u,text:void 0}}}function Af(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mN(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function hl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function gN(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function fs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function yN(n,e){try{let t=n.sessionStorage.getItem(_E);if(t){let i=JSON.parse(t);for(let[o,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function vN(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(_E,JSON.stringify(t))}catch(i){Ut(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function _N(){let n,e,t=new Promise((i,o)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{o(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var So=V.createContext(null);So.displayName="DataRouter";var ru=V.createContext(null);ru.displayName="DataRouterState";V.createContext(!1);var lm=V.createContext({isTransitioning:!1});lm.displayName="ViewTransition";var AE=V.createContext(new Map);AE.displayName="Fetchers";var wN=V.createContext(null);wN.displayName="Await";var ii=V.createContext(null);ii.displayName="Navigation";var bh=V.createContext(null);bh.displayName="Location";var si=V.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var um=V.createContext(null);um.displayName="RouteError";function EN(n,{relative:e}={}){Xe(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=V.useContext(ii),{hash:o,pathname:a,search:u}=su(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ti([t,a])),i.createHref({pathname:d,search:u,hash:o})}function iu(){return V.useContext(bh)!=null}function Co(){return Xe(iu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(bh).location}var kE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xE(n){V.useContext(ii).static||V.useLayoutEffect(n)}function cm(){let{isDataRoute:n}=V.useContext(si);return n?MN():TN()}function TN(){Xe(iu(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(So),{basename:e,navigator:t}=V.useContext(ii),{matches:i}=V.useContext(si),{pathname:o}=Co(),a=JSON.stringify(im(i)),u=V.useRef(!1);return xE(()=>{u.current=!0}),V.useCallback((f,m={})=>{if(Ut(u.current,kE),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=sm(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ti([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}var IN=V.createContext(null);function SN(n){let e=V.useContext(si).outlet;return e&&V.createElement(IN.Provider,{value:n},e)}function su(n,{relative:e}={}){let{matches:t}=V.useContext(si),{pathname:i}=Co(),o=JSON.stringify(im(t));return V.useMemo(()=>sm(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function CN(n,e,t,i,o){Xe(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=V.useContext(ii),{matches:u}=V.useContext(si),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let z=E&&E.path||"";bE(m,!E||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=Co(),P;P=T;let F=P.pathname||"/",$=F;if(v!=="/"){let z=v.replace(/^\//,"").split("/");$="/"+F.replace(/^\//,"").split("/").slice(z.length).join("/")}let O=_s(n,{pathname:$});return Ut(E||O!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ut(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xN(O&&O.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:ti([v,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:ti([v,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,t,i,o)}function RN(){let n=LN(),e=Bl(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,u)}var PN=V.createElement(RN,null),AN=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?V.createElement(si.Provider,{value:this.props.routeContext},V.createElement(um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kN({routeContext:n,match:e,children:t}){let i=V.useContext(So);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(si.Provider,{value:n},t)}function xN(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let m=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Xe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let v=a[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:E,errors:T}=t,P=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||P){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,v,E)=>{let T,P=!1,F=null,$=null;t&&(T=u&&v.route.id?u[v.route.id]:void 0,F=v.route.errorElement||PN,d&&(f<0&&E===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,$=null):f===E&&(P=!0,$=v.route.hydrateFallbackElement||null)));let O=e.concat(a.slice(0,E+1)),K=()=>{let z;return T?z=F:P?z=$:v.route.Component?z=V.createElement(v.route.Component,null):v.route.element?z=v.route.element:z=m,V.createElement(kN,{match:v,routeContext:{outlet:m,matches:O,isDataRoute:t!=null},children:z})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?V.createElement(AN,{location:t.location,revalidation:t.revalidation,component:F,error:T,children:K(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:i}):K()},null)}function hm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bN(n){let e=V.useContext(So);return Xe(e,hm(n)),e}function NN(n){let e=V.useContext(ru);return Xe(e,hm(n)),e}function DN(n){let e=V.useContext(si);return Xe(e,hm(n)),e}function dm(n){let e=DN(n),t=e.matches[e.matches.length-1];return Xe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ON(){return dm("useRouteId")}function LN(){var i;let n=V.useContext(um),e=NN("useRouteError"),t=dm("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function MN(){let{router:n}=bN("useNavigate"),e=dm("useNavigate"),t=V.useRef(!1);return xE(()=>{t.current=!0}),V.useCallback(async(o,a={})=>{Ut(t.current,kE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var C_={};function bE(n,e,t){!e&&!C_[n]&&(C_[n]=!0,Ut(!1,t))}var R_={};function P_(n,e){!n&&!R_[e]&&(R_[e]=!0,console.warn(e))}function VN(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Ut(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:V.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Ut(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:V.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Ut(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:V.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var FN=["HydrateFallback","hydrateFallbackElement"],UN=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function jN({router:n,flushSync:e,unstable_onError:t}){let[i,o]=V.useState(n.state),[a,u]=V.useState(),[d,f]=V.useState({isTransitioning:!1}),[m,v]=V.useState(),[E,T]=V.useState(),[P,F]=V.useState(),$=V.useRef(new Map),O=V.useCallback(te=>{o(M=>(te.errors&&t&&Object.entries(te.errors).forEach(([R,S])=>{var C;((C=M.errors)==null?void 0:C[R])!==S&&t(S)}),te))},[t]),K=V.useCallback((te,{deletedFetchers:M,flushSync:R,viewTransitionOpts:S})=>{te.fetchers.forEach((b,D)=>{b.data!==void 0&&$.current.set(D,b.data)}),M.forEach(b=>$.current.delete(b)),P_(R===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(P_(S==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!S||!C){e&&R?e(()=>O(te)):V.startTransition(()=>O(te));return}if(e&&R){e(()=>{E&&(m&&m.resolve(),E.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:S.currentLocation,nextLocation:S.nextLocation})});let b=n.window.document.startViewTransition(()=>{e(()=>O(te))});b.finished.finally(()=>{e(()=>{v(void 0),T(void 0),u(void 0),f({isTransitioning:!1})})}),e(()=>T(b));return}E?(m&&m.resolve(),E.skipTransition(),F({state:te,currentLocation:S.currentLocation,nextLocation:S.nextLocation})):(u(te),f({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}))},[n.window,e,E,m,O]);V.useLayoutEffect(()=>n.subscribe(K),[n,K]),V.useEffect(()=>{d.isTransitioning&&!d.flushSync&&v(new UN)},[d]),V.useEffect(()=>{if(m&&a&&n.window){let te=a,M=m.promise,R=n.window.document.startViewTransition(async()=>{V.startTransition(()=>O(te)),await M});R.finished.finally(()=>{v(void 0),T(void 0),u(void 0),f({isTransitioning:!1})}),T(R)}},[a,m,n.window,O]),V.useEffect(()=>{m&&a&&i.location.key===a.location.key&&m.resolve()},[m,E,i.location,a]),V.useEffect(()=>{!d.isTransitioning&&P&&(u(P.state),f({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),F(void 0))},[d.isTransitioning,P]);let z=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:te=>n.navigate(te),push:(te,M,R)=>n.navigate(te,{state:M,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(te,M,R)=>n.navigate(te,{replace:!0,state:M,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),G=n.basename||"/",ne=V.useMemo(()=>({router:n,navigator:z,static:!1,basename:G,unstable_onError:t}),[n,z,G,t]);return V.createElement(V.Fragment,null,V.createElement(So.Provider,{value:ne},V.createElement(ru.Provider,{value:i},V.createElement(AE.Provider,{value:$.current},V.createElement(lm.Provider,{value:d},V.createElement(HN,{basename:G,location:i.location,navigationType:i.historyAction,navigator:z},V.createElement(zN,{routes:n.routes,future:n.future,state:i,unstable_onError:t})))))),null)}var zN=V.memo(BN);function BN({routes:n,future:e,state:t,unstable_onError:i}){return CN(n,void 0,t,i,e)}function $N(n){return SN(n.context)}function HN({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){Xe(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Vs(t));let{pathname:f="/",search:m="",hash:v="",state:E=null,key:T="default"}=t,P=V.useMemo(()=>{let F=fr(f,u);return F==null?null:{location:{pathname:F,search:m,hash:v,state:E,key:T},navigationType:i}},[u,f,m,v,E,T,i]);return Ut(P!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:V.createElement(ii.Provider,{value:d},V.createElement(bh.Provider,{children:e,value:P}))}var Fc="get",Uc="application/x-www-form-urlencoded";function Nh(n){return n!=null&&typeof n.tagName=="string"}function WN(n){return Nh(n)&&n.tagName.toLowerCase()==="button"}function qN(n){return Nh(n)&&n.tagName.toLowerCase()==="form"}function KN(n){return Nh(n)&&n.tagName.toLowerCase()==="input"}function GN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function QN(n,e){return n.button===0&&(!e||e==="_self")&&!GN(n)}var Cc=null;function YN(){if(Cc===null)try{new FormData(document.createElement("form"),0),Cc=!1}catch{Cc=!0}return Cc}var XN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kf(n){return n!=null&&!XN.has(n)?(Ut(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):n}function JN(n,e){let t,i,o,a,u;if(qN(n)){let d=n.getAttribute("action");i=d?fr(d,e):null,t=n.getAttribute("method")||Fc,o=kf(n.getAttribute("enctype"))||Uc,a=new FormData(n)}else if(WN(n)||KN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(i=f?fr(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Fc,o=kf(n.getAttribute("formenctype"))||kf(d.getAttribute("enctype"))||Uc,a=new FormData(d,n),!YN()){let{name:m,type:v,value:E}=n;if(v==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,E)}}else{if(Nh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fc,i=null,o=Uc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ZN(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&fr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function e2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function n2(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await e2(a,t);return u.links?u.links():[]}return[]}));return o2(i.flat(1).filter(t2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A_(n,e,t,i,o,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>{var v;return t[m].pathname!==f.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):a==="data"?e.filter((f,m)=>{var E;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function r2(n,e,{includeHydrateFallback:t}={}){return i2(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function i2(n){return[...new Set(n)]}function s2(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function o2(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(s2(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function NE(){let n=V.useContext(So);return fm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function a2(){let n=V.useContext(ru);return fm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pm=V.createContext(void 0);pm.displayName="FrameworkContext";function DE(){let n=V.useContext(pm);return fm(n,"You must render this element inside a <HydratedRouter> element"),n}function l2(n,e){let t=V.useContext(pm),[i,o]=V.useState(!1),[a,u]=V.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:E}=e,T=V.useRef(null);V.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let $=K=>{K.forEach(z=>{u(z.isIntersecting)})},O=new IntersectionObserver($,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[n]),V.useEffect(()=>{if(i){let $=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout($)}}},[i]);let P=()=>{o(!0)},F=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:dl(d,P),onBlur:dl(f,F),onMouseEnter:dl(m,P),onMouseLeave:dl(v,F),onTouchStart:dl(E,P)}]:[!1,T,{}]}function dl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function u2({page:n,...e}){let{router:t}=NE(),i=V.useMemo(()=>_s(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?V.createElement(h2,{page:n,matches:i,...e}):null}function c2(n){let{manifest:e,routeModules:t}=DE(),[i,o]=V.useState([]);return V.useEffect(()=>{let a=!1;return n2(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),i}function h2({page:n,matches:e,...t}){let i=Co(),{manifest:o,routeModules:a}=DE(),{basename:u}=NE(),{loaderData:d,matches:f}=a2(),m=V.useMemo(()=>A_(n,e,f,o,i,"data"),[n,e,f,o,i]),v=V.useMemo(()=>A_(n,e,f,o,i,"assets"),[n,e,f,o,i]),E=V.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let F=new Set,$=!1;if(e.forEach(K=>{var G;let z=o.routes[K.route.id];!z||!z.hasLoader||(!m.some(ne=>ne.route.id===K.route.id)&&K.route.id in d&&((G=a[K.route.id])!=null&&G.shouldRevalidate)||z.hasClientLoader?$=!0:F.add(K.route.id))}),F.size===0)return[];let O=ZN(n,u,"data");return $&&F.size>0&&O.searchParams.set("_routes",e.filter(K=>F.has(K.route.id)).map(K=>K.route.id).join(",")),[O.pathname+O.search]},[u,d,i,o,m,e,n,a]),T=V.useMemo(()=>r2(v,o),[v,o]),P=c2(v);return V.createElement(V.Fragment,null,E.map(F=>V.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...t})),T.map(F=>V.createElement("link",{key:F,rel:"modulepreload",href:F,...t})),P.map(({key:F,link:$})=>V.createElement("link",{key:F,nonce:t.nonce,...$})))}function d2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.8.2")}catch{}function f2(n,e){return Xb({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:gb({window:e==null?void 0:e.window}),hydrationData:p2(),routes:n,mapRouteProperties:VN,hydrationRouteProperties:FN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function p2(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:m2(n.errors)}),n}function m2(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new lh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let u=new a(o.message);u.stack="",t[i]=u}catch{}}if(t[i]==null){let a=new Error(o.message);a.stack="",t[i]=a}}else t[i]=o;return t}var LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ou=V.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:v,viewTransition:E,...T},P){let{basename:F}=V.useContext(ii),$=typeof m=="string"&&LE.test(m),O,K=!1;if(typeof m=="string"&&$&&(O=m,OE))try{let C=new URL(window.location.href),b=m.startsWith("//")?new URL(C.protocol+m):new URL(m),D=fr(b.pathname,F);b.origin===C.origin&&D!=null?m=D+b.search+b.hash:K=!0}catch{Ut(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=EN(m,{relative:o}),[G,ne,te]=l2(i,T),M=_2(m,{replace:u,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:E});function R(C){e&&e(C),C.defaultPrevented||M(C)}let S=V.createElement("a",{...T,...te,href:O||z,onClick:K||a?e:R,ref:d2(P,ne),target:f,"data-discover":!$&&t==="render"?"true":void 0});return G&&!$?V.createElement(V.Fragment,null,S,V.createElement(u2,{page:z})):S});ou.displayName="Link";var g2=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...m},v){let E=su(u,{relative:m.relative}),T=Co(),P=V.useContext(ru),{navigator:F,basename:$}=V.useContext(ii),O=P!=null&&S2(E)&&d===!0,K=F.encodeLocation?F.encodeLocation(E).pathname:E.pathname,z=T.pathname,G=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(z=z.toLowerCase(),G=G?G.toLowerCase():null,K=K.toLowerCase()),G&&$&&(G=fr(G,$)||G);const ne=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let te=z===K||!o&&z.startsWith(K)&&z.charAt(ne)==="/",M=G!=null&&(G===K||!o&&G.startsWith(K)&&G.charAt(K.length)==="/"),R={isActive:te,isPending:M,isTransitioning:O},S=te?e:void 0,C;typeof i=="function"?C=i(R):C=[i,te?"active":null,M?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(R):a;return V.createElement(ou,{...m,"aria-current":S,className:C,ref:v,style:b,to:u,viewTransition:d},typeof f=="function"?f(R):f)});g2.displayName="NavLink";var y2=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=Fc,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:E,...T},P)=>{let F=T2(),$=I2(d,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&LE.test(d),z=G=>{if(f&&f(G),G.defaultPrevented)return;G.preventDefault();let ne=G.nativeEvent.submitter,te=(ne==null?void 0:ne.getAttribute("formmethod"))||u;F(ne||G.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:E})};return V.createElement("form",{ref:P,method:O,action:$,onSubmit:i?f:z,...T,"data-discover":!K&&n==="render"?"true":void 0})});y2.displayName="Form";function v2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ME(n){let e=V.useContext(So);return Xe(e,v2(n)),e}function _2(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=cm(),f=Co(),m=su(n,{relative:a});return V.useCallback(v=>{if(QN(v,e)){v.preventDefault();let E=t!==void 0?t:Os(f)===Os(m);d(n,{replace:E,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,d,m,t,i,e,n,o,a,u])}var w2=0,E2=()=>`__${String(++w2)}__`;function T2(){let{router:n}=ME("useSubmit"),{basename:e}=V.useContext(ii),t=ON();return V.useCallback(async(i,o={})=>{let{action:a,method:u,encType:d,formData:f,body:m}=JN(i,e);if(o.navigate===!1){let v=o.fetcherKey||E2();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function I2(n,{relative:e}={}){let{basename:t}=V.useContext(ii),i=V.useContext(si);Xe(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...su(n||".",{relative:e})},u=Co();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ti([t,a.pathname])),Os(a)}function S2(n,{relative:e}={}){let t=V.useContext(lm);Xe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ME("useViewTransitionState"),o=su(n,{relative:e});if(!t.isTransitioning)return!1;let a=fr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=fr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ah(o.pathname,u)!=null||ah(o.pathname,a)!=null}var C2=k_();function R2(n){return V.createElement(jN,{flushSync:C2.flushSync,...n})}const P2=()=>{const n=hE(),e=async()=>{await db()};return x.jsx(x.Fragment,{children:n?x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm",onClick:e,children:x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("img",{className:"aspect-square h-4 w-4",src:ub,alt:""}),x.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})}):x.jsx("div",{children:x.jsx(ou,{to:"/pomodor/login",children:x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm",children:x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("img",{className:"aspect-square h-4 w-4",src:lb,alt:""}),x.jsx("span",{className:"hidden md:inline",children:"Sign In"})]})})})})})},A2=()=>{const n=V.useRef(null);return x.jsxs("header",{className:"relative mx-auto mb-8 flex max-w-2xl justify-between gap-2 py-4",children:[x.jsx(ob,{}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm",children:x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("img",{className:"aspect-square h-4 w-4",src:ib,alt:""}),x.jsx("span",{className:"hidden md:inline",children:"Report"})]})}),x.jsx("button",{type:"button",className:"button","data-type":"secondary","data-size":"sm",onClick:()=>{var e;return(e=n.current)==null?void 0:e.showModal()},children:x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("img",{className:"aspect-square h-4 w-4",src:rb,alt:""}),x.jsx("span",{className:"hidden md:inline",children:"Setting"})]})}),x.jsx(P2,{})]}),x.jsx(ab,{}),x.jsx(nb,{ref:n})]})},k2=()=>{const{todos:n,totalPomodoroSessions:e,completedPomodoroSessions:t,totalRemainingTimeInMinutes:i,estimatedFinishTime:o}=tm(),{hours:a,minutes:u}=o,d=(i/60).toFixed(1);return x.jsx("section",{className:"mx-auto mt-7 max-w-[var(--max-w-container)] border-t-2 bg-white/10 px-3 py-5 text-white","aria-label":"Pomodoro summary section",children:n.length>0?x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-2",children:[x.jsxs("p",{className:"flex items-center",children:[x.jsx("span",{className:"mr-1 text-white/70",children:"Pomodoros:"}),x.jsx("span",{className:"text-2xl font-bold",children:t}),x.jsx("span",{className:"mx-1 font-extralight",children:"/"}),x.jsx("span",{className:"text-2xl font-bold",children:e})]}),x.jsxs("p",{className:"flex items-center space-x-1",children:[x.jsx("span",{className:"text-white/70",children:"Finish At:"}),x.jsxs("span",{className:"text-2xl font-bold",children:[va(a),":",va(u)]}),x.jsxs("span",{className:"text-sm text-white/70",children:["(",d,"h)"]})]})]}):x.jsx("p",{className:"text-center text-sm",children:"Please add some tasks to track your progress."})})},x2=()=>x.jsxs(dx,{children:[x.jsx(A2,{}),x.jsx(vx,{}),x.jsx(Gx,{}),x.jsx(k2,{}),x.jsx(MI,{pauseOnHover:!1,pauseOnFocusLoss:!1,autoClose:3e3})]}),b2=()=>x.jsx("main",{children:x.jsx($N,{})}),N2=()=>{const[n,e]=V.useState(""),[t,i]=V.useState(""),[o,a]=V.useState(""),u=cm(),d=async f=>{f.preventDefault();try{await fb(n,t),a(""),u("/pomodor")}catch(m){a(m.message)}};return x.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center bg-[var(--primary-color)] text-white",children:[x.jsxs("div",{className:"w-full max-w-sm rounded-lg bg-white p-8 text-center text-black shadow-lg",children:[x.jsx("h1",{className:"mb-2 text-2xl font-bold",children:"Pomodor"}),x.jsx("h2",{className:"mb-6 text-lg",children:"Create Account"}),o&&x.jsx("p",{style:{color:"red"},children:o}),x.jsxs("form",{onSubmit:d,children:[x.jsxs("div",{className:"text-left",children:[x.jsx("label",{htmlFor:"email",className:"mb-1 block text-xs font-bold uppercase text-gray-600",children:"Email"}),x.jsx("input",{id:"email",type:"email",placeholder:"example@email.com",className:"mb-4 w-full rounded border border-gray-300 bg-gray-100 p-2 focus:outline-none focus:ring-2 focus:ring-red-400",value:n,onChange:f=>e(f.target.value)})]}),x.jsxs("div",{className:"text-left",children:[x.jsx("label",{htmlFor:"password",className:"mb-1 block text-xs font-bold uppercase text-gray-600",children:"Password"}),x.jsx("input",{id:"password",type:"password",placeholder:"********",className:"mb-4 w-full rounded border border-gray-300 bg-gray-100 p-2 focus:outline-none focus:ring-2 focus:ring-red-400",value:t,onChange:f=>i(f.target.value)})]}),x.jsx("button",{type:"submit",className:"mt-6 w-full rounded bg-gray-800 py-2 font-bold text-white hover:bg-gray-700",children:"Sign up with Email"})]})]}),x.jsxs("p",{className:"mt-6 text-sm",children:["Already have an account?"," ",x.jsx(ou,{to:"/pomodor/login",className:"font-bold underline",children:"Log in"})]})]})},D2=()=>{const[n,e]=V.useState(""),[t,i]=V.useState(""),[o,a]=V.useState(""),u=cm(),d=async f=>{f.preventDefault();try{await hb(n,t),a(""),u("/pomodor")}catch(m){a(m.message)}};return x.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center bg-[var(--primary-color)] text-white",children:[x.jsxs("div",{className:"w-full max-w-sm rounded-lg bg-white p-8 text-center text-black shadow-lg",children:[x.jsx("h1",{className:"mb-2 text-2xl font-bold",children:"Pomodor"}),x.jsx("h2",{className:"mb-6 text-lg",children:"Login"}),o&&x.jsx("p",{style:{color:"red"},children:o}),x.jsxs("form",{onSubmit:d,children:[x.jsxs("div",{className:"text-left",children:[x.jsx("label",{htmlFor:"email",className:"mb-1 block text-xs font-bold uppercase text-gray-600",children:"Email"}),x.jsx("input",{id:"email",type:"email",placeholder:"example@email.com",className:"mb-4 w-full rounded border border-gray-300 bg-gray-100 p-2 focus:outline-none focus:ring-2 focus:ring-red-400",value:n,onChange:f=>e(f.target.value),required:!0}),x.jsx("label",{htmlFor:"password",className:"mb-1 block text-xs font-bold uppercase text-gray-600",children:"Password"}),x.jsx("input",{id:"password",type:"password",placeholder:"********",className:"w-full rounded border border-gray-300 bg-gray-100 p-2 focus:outline-none focus:ring-2 focus:ring-red-400",value:t,onChange:f=>i(f.target.value),required:!0})]}),x.jsx("button",{type:"submit",className:"mt-6 w-full rounded bg-gray-800 py-2 font-bold text-white hover:bg-gray-700",children:"Log in with Email"})]})]}),x.jsxs("p",{className:"mt-6 text-sm",children:["Do not have an account?"," ",x.jsx(ou,{to:"/pomodor/signup",className:"font-bold underline",children:"Create account"})]})]})},O2=f2([{path:"/",element:x.jsx(b2,{}),children:[{path:"/pomodor",element:x.jsx(x2,{})},{path:"/pomodor/login",element:x.jsx(D2,{})},{path:"/pomodor/signup",element:x.jsx(N2,{})}]}]);GT.createRoot(document.getElementById("root")).render(x.jsx(V.StrictMode,{children:x.jsx(R2,{router:O2})}));
